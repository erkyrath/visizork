window.gamedat_sourcefiles = {"zork1.zil":[[["Str","\"ZORK1 for"]],[["Str","\t        Zork I: The Great Underground Empire"]],[["Str","\t(c) Copyright 1983 Infocom, Inc.  All Rights Reserved.\""]],[],["<SETG ",["Iddef","ZORK-NUMBER"]," 1>"],[],["<GC 0 T 5>"],[],["<BLOAT 70000 0 0 2700 0 0 0 0 0 256>"],[],["<SET REDEFINE T>"],[],["<GLOBAL ",["Iddef","BIGFIX"]," 10000>"],[],["<OR <GASSIGNED? ZILCH>"],["    <SETG WBREAKS <STRING !\\\" !,WBREAKS>>>"],[],["<DEFINE IFILE (STR ",["Str","\"OPTIONAL\""]," (FLOAD? <>) ",["Str","\"AUX\""]," (TIM <TIME>))"],["\t<INSERT-FILE .STR .FLOAD?>>"],[],["<PRINC ",["Str","\"Renovated ZORK I: The Great Underground Empire"]],[["Str","\""],">"],[],["<OR <GASSIGNED? INSERT-CRUFTY>"],["    <DEFINE INSERT-CRUFTY (STR) <INSERT-FILE .STR T>>>"],[],["<COND (<GASSIGNED? PREDGEN>"],["       <ID 0>)>"],[],["<IFILE ",["Str","\"GMACROS\""]," T>"],[],["<IFILE ",["Str","\"GSYNTAX\""]," T>"],["<IFILE ",["Str","\"1DUNGEON\""]," T>"],["<IFILE ",["Str","\"GGLOBALS\""]," T>"],[],["<PROPDEF SIZE 5>"],["<PROPDEF CAPACITY 0>"],["<PROPDEF VALUE 0>"],["<PROPDEF TVALUE 0>"],[],["<IFILE ",["Str","\"GCLOCK\""]," T>"],["<IFILE ",["Str","\"GMAIN\""]," T>"],["<IFILE ",["Str","\"GPARSER\""]," T>"],["<IFILE ",["Str","\"GVERBS\""]," T>"],["<IFILE ",["Str","\"1ACTIONS\""]," T>"],[],["<GC 0 T>"],[],["<DEFINE CNT (STR OBL)"],["\t<PRINC .STR>"],["\t<PRIN1 <MAPF ,+ ,LENGTH .OBL>>"],["\t<CRLF>>"],[],["<COND (<NOT <GASSIGNED? PREDGEN>>"],["       <GC-MON T>)>"],[]],"1actions.zil":[[["Str","\"1ACTIONS for"]],[["Str","\t        Zork I: The Great Underground Empire"]],[["Str","\t(c) Copyright 1983 Infocom, Inc. All Rights Reserved.\""]],[],[["Str","\"SUBTITLE THE WHITE HOUSE\""]],[],["<ROUTINE ",["Iddef","WEST-HOUSE"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are standing in an open field west of a white house, with a boarded"]],[["Str","front door.\""],">"],["\t\t<COND (,",["Id","WON-FLAG"]],["\t\t       <TELL"],[["Str","\" A secret path leads southwest into the forest.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","EAST-HOUSE"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are behind the white house. A path leads into the forest"]],[["Str","to the east. In one corner of the house there is a small window"]],[["Str","which is \""],">"],["\t\t<COND (<FSET? ,",["Id","KITCHEN-WINDOW"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"open.\""],">)"],["\t\t      (T <TELL ",["Str","\"slightly ajar.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","OPEN-CLOSE"]," (",["Localid","OBJ"]," ",["Localid","STROPN"]," ",["Localid","STRCLS"],")"],["\t <COND (<VERB? OPEN>"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,OPENBIT>"],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],">>)"],["\t\t      (T"],["\t\t       <TELL .",["Localid","STROPN"],">"],["\t\t       <FSET .",["Localid","OBJ"]," ,OPENBIT>)>"],["\t\t<CRLF>)"],["\t       (<VERB? CLOSE>"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,OPENBIT>"],["\t\t       <TELL .",["Localid","STRCLS"],">"],["\t\t       <FCLEAR .",["Localid","OBJ"]," ,OPENBIT>"],["\t\t       T)"],["\t\t      (T <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],">>)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","BOARD-F"]," ()"],["\t <COND (<VERB? TAKE EXAMINE>"],["\t\t<TELL ",["Str","\"The boards are securely fastened.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","TEETH-F"]," ()"],["\t <COND (<AND <VERB? BRUSH>"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Id","TEETH"],">>"],["\t\t<COND (<AND <EQUAL? ,",["Id","PRSI"]," ,",["Id","PUTTY"],">"],["\t\t\t    <IN? ,",["Id","PRSI"]," ,",["Id","WINNER"],">>"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"Well, you seem to have been brushing your teeth with some sort of"]],[["Str","glue. As a result, your mouth gets glued together (with your nose)"]],[["Str","and you die of respiratory failure.\""],">)"],["\t\t      (<NOT ,",["Id","PRSI"],">"],["\t\t       <TELL"],[["Str","\"Dental hygiene is highly recommended, but I'm not sure what you want"]],[["Str","to brush them with.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"A nice idea, but with a \""]," D ,",["Id","PRSI"]," ",["Str","\"?\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","GRANITE-WALL-F"]," ()"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","NORTH-TEMPLE"],">"],["\t\t<COND (<VERB? FIND>"],["\t\t       <TELL ",["Str","\"The west wall is solid granite here.\""]," CR>)>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","TREASURE-ROOM"],">"],["\t\t<COND (<VERB? FIND>"],["\t\t       <TELL ",["Str","\"The east wall is solid granite here.\""]," CR>)>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","SLIDE-ROOM"],">"],["\t\t<COND (<VERB? FIND READ>"],["\t\t       <TELL ",["Str","\"It only SAYS \\\"Granite Wall\\\".\""]," CR>)"],["\t\t      (T <TELL ",["Str","\"The wall isn't granite.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"There is no granite wall here.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","SONGBIRD-F"]," ()"],["\t <COND (<VERB? FIND TAKE>"],["\t\t<TELL ",["Str","\"The songbird is not here but is probably nearby.\""]," CR>)"],["\t       (<VERB? LISTEN>"],["\t\t<TELL ",["Str","\"You can't hear the songbird now.\""]," CR>)"],["\t       (<VERB? FOLLOW>"],["\t\t<TELL ",["Str","\"It can't be followed.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't see any songbird here.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","WHITE-HOUSE-F"]," ()"],["    <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","KITCHEN"]," ,",["Id","LIVING-ROOM"]," ,",["Id","ATTIC"],">"],["\t   <COND (<VERB? FIND>"],["\t\t  <TELL ",["Str","\"Why not find your brains?\""]," CR>)"],["\t\t (<VERB? WALK-AROUND>"],["\t\t  <",["Id","GO-NEXT"]," ,",["Id","IN-HOUSE-AROUND"],">"],["\t\t  T)>)"],["\t  (<NOT <OR <EQUAL? ,",["Id","HERE"]," ,",["Id","EAST-OF-HOUSE"]," ,",["Id","WEST-OF-HOUSE"],">"],["\t\t    <EQUAL? ,",["Id","HERE"]," ,",["Id","NORTH-OF-HOUSE"]," ,",["Id","SOUTH-OF-HOUSE"],">>>"],["\t   <COND (<VERB? FIND>"],["\t\t  <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","CLEARING"],">"],["\t\t\t <TELL ",["Str","\"It seems to be to the west.\""]," CR>)"],["\t\t\t(T"],["\t\t\t <TELL ",["Str","\"It was here just a minute ago....\""]," CR>)>)"],["\t\t (T <TELL ",["Str","\"You're not at the house.\""]," CR>)>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"It's right here! Are you blind or something?\""]," CR>)"],["\t  (<VERB? WALK-AROUND>"],["\t   <",["Id","GO-NEXT"]," ,",["Id","HOUSE-AROUND"],">"],["\t   T)"],["\t  (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The house is a beautiful colonial house which is painted white."]],[["Str","It is clear that the owners must have been extremely wealthy.\""]," CR>)"],["\t  (<VERB? THROUGH OPEN>"],["\t   <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","EAST-OF-HOUSE"],">"],["\t\t  <COND (<FSET? ,",["Id","KITCHEN-WINDOW"]," ,OPENBIT>"],["\t\t\t <",["Id","GOTO"]," ,",["Id","KITCHEN"],">)"],["\t\t\t(T"],["\t\t\t <TELL ",["Str","\"The window is closed.\""]," CR>"],["\t\t\t <",["Id","THIS-IS-IT"]," ,",["Id","KITCHEN-WINDOW"],">)>)"],["\t\t (T"],["\t\t  <TELL ",["Str","\"I can't see how to get in from here.\""]," CR>)>)"],["\t  (<VERB? BURN>"],["\t   <TELL ",["Str","\"You must be joking.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","FOREST-F"]," ()"],["\t <COND (<VERB? WALK-AROUND>"],["\t\t<",["Id","GO-NEXT"]," ,",["Id","FOREST-AROUND"],">)"],["\t       (<VERB? DISEMBARK>"],["\t\t<TELL ",["Str","\"You will have to specify a direction.\""]," CR>)"],["\t       (<VERB? FIND>"],["\t\t<TELL ",["Str","\"You cannot see the forest for the trees.\""]," CR>)"],["\t       (<VERB? LISTEN>"],["\t\t<TELL ",["Str","\"The pines and the hemlocks seem to be murmuring.\""]],["\t\t      CR>)>>"],[],["<ROUTINE ",["Iddef","MOUNTAIN-RANGE-F"]," ()"],["\t <COND (<VERB? CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t\t<TELL ",["Str","\"Don't you believe me? The mountains are impassable!\""]],["\t\t      CR>)>>"],[],["<ROUTINE ",["Iddef","WATER-F"]," (",["Str","\"AUX\""]," ",["Localid","AV"]," ",["Localid","W"]," ",["Localid","PI?"],")"],["\t <COND (<VERB? SGIVE> <RFALSE>)"],["\t       (<VERB? THROUGH>"],["\t\t<TELL <",["Id","PICK-ONE"]," ,",["Id","SWIMYUKS"],"> CR>"],["\t\t<RTRUE>)"],["\t       (<VERB? FILL>\t",["Comment",";\"fill bottle with water =>\""]],["\t\t<SET ",["Localid","W"]," ,",["Id","PRSI"],">\t   ",["Comment",";\"put water in bottle\""]],["\t\t<SETG ",["Id","PRSA"]," ,V?PUT>"],["\t\t<SETG ",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t\t<SETG ",["Id","PRSO"]," .",["Localid","W"],">"],["\t\t<SET ",["Localid","PI?"]," <>>)"],["\t       (<OR <EQUAL? ,",["Id","PRSO"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">>"],["\t\t<SET ",["Localid","W"]," ,",["Id","PRSO"],">"],["\t\t<SET ",["Localid","PI?"]," <>>)"],["\t       (<SET ",["Localid","W"]," ,",["Id","PRSI"],">"],["\t\t<SET ",["Localid","PI?"]," T>)>"],["\t <COND (<EQUAL? .",["Localid","W"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t<SET ",["Localid","W"]," ,",["Id","WATER"],">"],["\t\t<COND (<VERB? TAKE PUT> <",["Id","REMOVE-CAREFULLY"]," .",["Localid","W"],">)>)>"],["\t <COND (.",["Localid","PI?"]," <SETG ",["Id","PRSI"]," .",["Localid","W"],">)"],["\t       (T <SETG ",["Id","PRSO"]," .",["Localid","W"],">)>"],["\t <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t <COND (<NOT <FSET? .",["Localid","AV"]," ,VEHBIT>> <SET ",["Localid","AV"]," <>>)>"],["\t <COND (<AND <VERB? TAKE PUT> <NOT .",["Localid","PI?"],">>"],["\t\t<COND (<AND .",["Localid","AV"]],["\t\t\t    <OR <EQUAL? .",["Localid","AV"]," ,",["Id","PRSI"],">"],["\t\t\t\t<AND <NOT ,",["Id","PRSI"],">"],["\t\t\t\t     <NOT <IN? .",["Localid","W"]," .",["Localid","AV"],">>>>>"],["\t\t       <TELL ",["Str","\"There is now a puddle in the bottom of the \""]],["\t\t\t     D .",["Localid","AV"]," ",["Str","\".\""]," CR>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t       <MOVE ,",["Id","PRSO"]," .",["Localid","AV"],">)"],["\t\t      (<AND ,",["Id","PRSI"]," <NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","BOTTLE"],">>>"],["\t\t       <TELL ",["Str","\"The water leaks out of the \""]," D ,",["Id","PRSI"]],["\t\t\t     ",["Str","\" and evaporates immediately.\""]," CR>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," .",["Localid","W"],">)"],["\t\t      (<IN? ,",["Id","BOTTLE"]," ,",["Id","WINNER"],">"],["\t\t       <COND (<NOT <FSET? ,",["Id","BOTTLE"]," ,OPENBIT>>"],["\t\t\t      <TELL ",["Str","\"The bottle is closed.\""]," CR>"],["\t\t\t      <",["Id","THIS-IS-IT"]," ,",["Id","BOTTLE"],">)"],["\t\t\t     (<NOT <FIRST? ,",["Id","BOTTLE"],">>"],["\t\t\t      <MOVE ,",["Id","WATER"]," ,",["Id","BOTTLE"],">"],["\t\t\t      <TELL ",["Str","\"The bottle is now full of water.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The water slips through your fingers.\""]," CR>"],["\t\t\t      <RTRUE>)>)"],["\t\t      (<AND <IN? ,",["Id","PRSO"]," ,",["Id","BOTTLE"],">"],["\t\t\t    <VERB? TAKE>"],["\t\t\t    <NOT ,",["Id","PRSI"],">>"],["\t\t       <TELL"],[["Str","\"It's in the bottle. Perhaps you should take that instead.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The water slips through your fingers.\""]," CR>)>)"],["\t       (.",["Localid","PI?"]," <TELL ",["Str","\"Nice try.\""]," CR>)"],["\t       (<VERB? DROP GIVE>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","WATER"],">"],["\t\t<COND (.",["Localid","AV"]],["\t\t       <TELL ",["Str","\"There is now a puddle in the bottom of the \""]],["\t\t\t     D .",["Localid","AV"]," ",["Str","\".\""]," CR>"],["\t\t       <MOVE ,",["Id","WATER"]," .",["Localid","AV"],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The water spills to the floor and evaporates immediately.\""]," CR>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","WATER"],">)>)"],["\t       (<VERB? THROW>"],["\t\t<TELL"],[["Str","\"The water splashes on the walls and evaporates immediately.\""]," CR>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","WATER"],">)>>"],[],["<GLOBAL ",["Iddef","KITCHEN-WINDOW-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","KITCHEN-WINDOW-F"]," ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<SETG ",["Id","KITCHEN-WINDOW-FLAG"]," T>"],["\t\t<",["Id","OPEN-CLOSE"]," ,",["Id","KITCHEN-WINDOW"]],[["Str","\"With great effort, you open the window far enough to allow entry.\""]],[["Str","\"The window closes (more easily than it opened).\""],">)"],["\t       (<AND <VERB? EXAMINE>"],["\t\t     <NOT ,",["Id","KITCHEN-WINDOW-FLAG"],">>"],["\t\t<TELL"],[["Str","\"The window is slightly ajar, but not enough to allow entry.\""]," CR>)"],["\t       (<VERB? WALK ",["Id","BOARD"]," THROUGH>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","KITCHEN"],">"],["\t\t       <",["Id","DO-WALK"]," ,P?EAST>)"],["\t\t      (T"],["\t\t       <",["Id","DO-WALK"]," ,P?WEST>)>"],["\t\t<RTRUE>)"],["\t       (<VERB? LOOK-INSIDE>"],["\t\t<TELL ",["Str","\"You can see \""],">"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","KITCHEN"],">"],["\t\t       <TELL ",["Str","\"a clear area leading towards a forest.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"what appears to be a kitchen.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","GHOSTS-F"]," ()"],["\t <COND (<VERB? TELL>"],["\t\t<TELL ",["Str","\"The spirits jeer loudly and ignore you.\""]," CR>"],["\t\t<SETG ",["Id","P-CONT"]," <>>)"],["\t       (<VERB? EXORCISE>"],["\t\t<TELL ",["Str","\"Only the ceremony itself has any effect.\""]," CR>)"],["\t       (<AND <VERB? ATTACK MUNG> <EQUAL? ,",["Id","PRSO"]," ,",["Id","GHOSTS"],">>"],["\t\t<TELL ",["Str","\"How can you attack a spirit with material objects?\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You seem unable to interact with these spirits.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","CAGE-TOP"]," T>"],[],["<ROUTINE ",["Iddef","BASKET-F"]," ()"],["\t <COND (<VERB? RAISE>"],["\t\t<COND (,",["Id","CAGE-TOP"]],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],"> CR>)"],["\t\t      (T"],["\t\t       <MOVE ,",["Id","RAISED-BASKET"]," ,",["Id","SHAFT-ROOM"],">"],["\t\t       <MOVE ,",["Id","LOWERED-BASKET"]," ,",["Id","LOWER-SHAFT"],">"],["\t\t       <SETG ",["Id","CAGE-TOP"]," T>"],["\t\t       <",["Id","THIS-IS-IT"]," ,",["Id","RAISED-BASKET"],">"],["\t\t       <TELL"],[["Str","\"The basket is raised to the top of the shaft.\""]," CR>)>)"],["\t       (<VERB? LOWER>"],["\t\t<COND (<NOT ,",["Id","CAGE-TOP"],">"],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],"> CR>)"],["\t\t      (T"],["\t\t       <MOVE ,",["Id","RAISED-BASKET"]," ,",["Id","LOWER-SHAFT"],">"],["\t\t       <MOVE ,",["Id","LOWERED-BASKET"]," ,",["Id","SHAFT-ROOM"],">"],["\t\t       <",["Id","THIS-IS-IT"]," ,",["Id","LOWERED-BASKET"],">"],["\t\t       <TELL"],[["Str","\"The basket is lowered to the bottom of the shaft.\""]," CR>"],["\t\t       <SETG ",["Id","CAGE-TOP"]," <>>"],["\t\t       <COND (<AND ,",["Id","LIT"]," <NOT <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>>>"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>"],["\t\t       T)>)"],["\t       (<OR <EQUAL? ,",["Id","PRSO"]," ,",["Id","LOWERED-BASKET"],">"],["\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","LOWERED-BASKET"],">>"],["\t\t<TELL ",["Str","\"The basket is at the other end of the chain.\""]," CR>)"],["\t       (<AND <VERB? TAKE>"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Id","RAISED-BASKET"]," ,",["Id","LOWERED-BASKET"],">>"],["\t\t<TELL ",["Str","\"The cage is securely fastened to the iron chain.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BAT-F"]," ()"],["\t <COND (<VERB? TELL>"],["\t\t<",["Id","FWEEP"]," 6>"],["\t\t<SETG ",["Id","P-CONT"]," <>>)"],["\t       (<VERB? TAKE ATTACK MUNG>"],["\t\t<COND (<EQUAL? <LOC ,",["Id","GARLIC"],"> ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t       <TELL ",["Str","\"You can't reach him; he's on the ceiling.\""]," CR>)"],["\t\t      (T <",["Id","FLY-ME"],">)>)>>"],[],["<ROUTINE ",["Iddef","FLY-ME"]," ()"],["\t <",["Id","FWEEP"]," 4>"],["\t <TELL CR"],[["Str","\"The bat grabs you by the scruff of your neck and lifts you away....\""]," CR CR>"],["\t <",["Id","GOTO"]," <",["Id","PICK-ONE"]," ,",["Id","BAT-DROPS"],"> <>>"],["\t <",["Id","V-FIRST-LOOK"],">"],["\t T>"],[],["<ROUTINE ",["Iddef","FWEEP"]," (",["Localid","N"],")"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","N"]," <- .",["Localid","N"]," 1>> 1> <RETURN>)"],["\t\t       (T <TELL ",["Str","\"    Fweep!\""]," CR>)>>"],["\t <CRLF>>"],[],["<GLOBAL ",["Iddef","BAT-DROPS"]],["      <LTABLE 0"],["\t      ",["Id","MINE-1"]],["\t      ",["Id","MINE-2"]],["\t      ",["Id","MINE-3"]],["\t      ",["Id","MINE-4"]],["\t      ",["Id","LADDER-TOP"]],["\t      ",["Id","LADDER-BOTTOM"]],["\t      ",["Id","SQUEEKY-ROOM"]],["\t      ",["Id","MINE-ENTRANCE"],">>"],[],["<ROUTINE ",["Iddef","BELL-F"]," ()"],["\t <COND (<VERB? RING>"],["\t\t<COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","LLD-ROOM"],">"],["\t\t\t    <NOT ,",["Id","LLD-FLAG"],">>"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Ding, dong.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","HOT-BELL-F"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"The bell is very hot and cannot be taken.\""]," CR>)"],["\t       (<OR <VERB? RUB> <AND <VERB? RING> ,",["Id","PRSI"],">>"],["\t\t<COND (<FSET? ,",["Id","PRSI"]," ,BURNBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" burns and is consumed.\""]," CR>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSI"],">)"],["\t\t      (<EQUAL? ,",["Id","PRSI"]," ,",["Id","HANDS"],">"],["\t\t       <TELL ",["Str","\"The bell is too hot to touch.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The heat from the bell is too intense.\""]," CR>)>)"],["\t       (<VERB? POUR-ON>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"The water cools the bell and is evaporated.\""]," CR>"],["\t\t<",["Id","QUEUE"]," ",["Id","I-XBH"]," 0>"],["\t\t<",["Id","I-XBH"],">)"],["\t       (<VERB? RING>"],["\t\t<TELL ",["Str","\"The bell is too hot to reach.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BOARDED-WINDOW-FCN"]," ()"],["\t <COND (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The windows are boarded and can't be opened.\""]," CR>)"],["\t       (<VERB? MUNG>"],["\t\t<TELL ",["Str","\"You can't break the windows open.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","NAILS-PSEUDO"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"The nails, deeply imbedded in the door, cannot be removed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CRACK-FCN"]," ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<TELL ",["Str","\"You can't fit through the crack.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","KITCHEN-FCN"]," (",["Localid","RARG"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <TELL"],[["Str","\"You are in the kitchen of the white house. A table seems to"]],[["Str","have been used recently for the preparation of food. A passage"]],[["Str","leads to the west and a dark staircase can be seen leading"]],[["Str","upward. A dark chimney leads down and to the east is a small"]],[["Str","window which is \""],">"],["\t       <COND (<FSET? ,",["Id","KITCHEN-WINDOW"]," ,OPENBIT>"],["\t\t      <TELL ",["Str","\"open.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL ",["Str","\"slightly ajar.\""]," CR>)>)"],["\t      (<==? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t       <COND (<AND <VERB? CLIMB-UP> <EQUAL? ,",["Id","PRSO"]," ,",["Id","STAIRS"],">>"],["\t\t      <",["Id","DO-WALK"]," ,P?UP>)"],["\t\t     (<AND <VERB? CLIMB-UP> <EQUAL? ,",["Id","PRSO"]," ,",["Id","STAIRS"],">>"],["\t\t      <TELL ",["Str","\"There are no stairs leading down.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","STONE-BARROW-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t     <OR <VERB? ENTER>"],["\t\t\t <AND <VERB? WALK>"],["\t\t\t      <EQUAL? ,",["Id","PRSO"]," ,P?WEST ,P?IN>>"],["\t\t\t <AND <VERB? THROUGH>"],["\t\t\t      <EQUAL? ,",["Id","PRSO"]," ,",["Id","BARROW"],">>>>"],["\t\t<TELL"],[["Str","\"Inside the Barrow|"]],[["Str","As you enter the barrow, the door closes inexorably behind you. Around"]],[["Str","you it is dark, but ahead is an enormous cavern, brightly lit. Through"]],[["Str","its center runs a wide stream. Spanning the stream is a small wooden"]],[["Str","footbridge, and beyond a path leads into a dark tunnel. Above the"]],[["Str","bridge, floating in the air, is a large sign. It reads:  All ye who"]],[["Str","stand before this bridge have completed a great and perilous adventure"]],[["Str","which has tested your wit and courage. You have mastered\""],">"],["\t\t<COND (<EQUAL? <BAND <GETB 0 1> 8> 0>"],["\t\t       <TELL ",["Str","\""]],[["Str","the first part of the ZORK trilogy. Those who pass over this bridge must be"]],[["Str","prepared to undertake an even greater adventure that will severely test your"]],[["Str","skill and bravery!|"]],[["Str","|"]],[["Str","The ZORK trilogy continues with \\\"ZORK II: The Wizard of Frobozz\\\" and"]],[["Str","is completed in \\\"ZORK III: The Dungeon Master.\\\"\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\""]],[["Str","ZORK: The Great Underground Empire.|\""]," CR>)>"],["\t\t<",["Id","V-QUIT"]," <>>)>>"],[],["<ROUTINE ",["Iddef","BARROW-DOOR-FCN"]," ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL ",["Str","\"The door is too heavy.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BARROW-FCN"]," ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<",["Id","DO-WALK"]," ,P?WEST>)>>"],[],["\\"],[],["<ROUTINE ",["Iddef","TROPHY-CASE-FCN"]," ()"],["    <COND (<AND <VERB? TAKE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","TROPHY-CASE"],">>"],["\t   <TELL"],[["Str","\"The trophy case is securely fastened to the wall.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","RUG-MOVED"]," <>>"],[],["<ROUTINE ",["Iddef","LIVING-ROOM-FCN"]," (",["Localid","RARG"]," ",["Str","\"AUX\""]," ",["Localid","RUG?"]," ",["Localid","TC"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <TELL"],[["Str","\"You are in the living room. There is a doorway to the east\""],">"],["\t       <COND (,",["Id","MAGIC-FLAG"]],["\t\t      <TELL"],[["Str","\". To the"]],[["Str","west is a cyclops-shaped opening in an old wooden door, above which is"]],[["Str","some strange gothic lettering, \""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\", a wooden"]],[["Str","door with strange gothic lettering to the west, which appears to be"]],[["Str","nailed shut, \""],">)>"],["\t       <TELL ",["Str","\"a trophy case, \""],">"],["\t       <SET ",["Localid","RUG?"]," ,",["Id","RUG-MOVED"],">"],["\t       <COND (<AND .",["Localid","RUG?"]," <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>>"],["\t\t      <TELL"],["\t\t       ",["Str","\"and a rug lying beside an open trap door.\""],">)"],["\t\t     (.",["Localid","RUG?"]],["\t\t      <TELL ",["Str","\"and a closed trap door at your feet.\""],">)"],["\t\t     (<FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>"],["\t\t      <TELL ",["Str","\"and an open trap door at your feet.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],["\t\t       ",["Str","\"and a large oriental rug in the center of the room.\""],">)>"],["\t       <CRLF>"],["\t       T)"],["\t      (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t       <COND (<OR <VERB? TAKE>"],["\t\t\t  <AND <VERB? PUT>"],["\t\t\t       <EQUAL? ,",["Id","PRSI"]," ,",["Id","TROPHY-CASE"],">>>"],["\t\t      <COND (<IN? ,",["Id","PRSO"]," ,",["Id","TROPHY-CASE"],">"],["\t\t\t     <",["Id","TOUCH-ALL"]," ,",["Id","PRSO"],">)>"],["\t\t      <SETG ",["Id","SCORE"]," <+ ,",["Id","BASE-SCORE"]," <",["Id","OTVAL-FROB"],">>>"],["\t\t      <",["Id","SCORE-UPD"]," 0>"],["\t\t      <RFALSE>)>)>>"],[],["<ROUTINE ",["Iddef","TOUCH-ALL"]," (",["Localid","OBJ"]," ",["Str","\"AUX\""]," ",["Localid","F"],")"],["\t <SET ",["Localid","F"]," <FIRST? .",["Localid","OBJ"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","F"],"> <RETURN>)"],["\t\t       (T"],["\t\t\t<FSET .",["Localid","F"]," ,TOUCHBIT>"],["\t\t\t<COND (<FIRST? .",["Localid","F"],"> <",["Iddef","TOUCH-ALL"]," .",["Localid","F"],">)>)>"],["\t\t <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>>"],[],["<ROUTINE ",["Iddef","OTVAL-FROB"]," (",["Str","\"OPTIONAL\""]," (",["Localid","O"]," ,",["Id","TROPHY-CASE"],") ",["Str","\"AUX\""]," ",["Localid","F"]," (",["Localid","SCORE"]," 0))"],["\t <SET ",["Localid","F"]," <FIRST? .",["Localid","O"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","F"],"> <RETURN .",["Localid","SCORE"],">)>"],["\t\t <SET ",["Localid","SCORE"]," <+ .",["Localid","SCORE"]," <GETP .",["Localid","F"]," ,P?TVALUE>>>"],["\t\t <COND (<FIRST? .",["Localid","F"],"> <",["Iddef","OTVAL-FROB"]," .",["Localid","F"],">)>"],["\t\t <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>>"],[],["<ROUTINE ",["Iddef","TRAP-DOOR-FCN"]," ()"],["    <COND (<VERB? RAISE>"],["\t   <",["Id","PERFORM"]," ,V?OPEN ,",["Id","TRAP-DOOR"],">"],["\t   <RTRUE>)"],["\t  (<AND <VERB? OPEN CLOSE>"],["\t\t<EQUAL? ,",["Id","HERE"]," ,",["Id","LIVING-ROOM"],">>"],["\t   <",["Id","OPEN-CLOSE"]," ,",["Id","PRSO"]],[["Str","\"The door reluctantly opens to reveal a rickety staircase descending into"]],[["Str","darkness.\""]],[["Str","\"The door swings shut and closes.\""],">)"],["\t  (<AND <VERB? LOOK-UNDER> <EQUAL? ,",["Id","HERE"]," ",["Id","LIVING-ROOM"],">>"],["\t   <COND (<FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>"],["\t\t  <TELL"],[["Str","\"You see a rickety staircase descending into darkness.\""]," CR>)"],["\t\t (T <TELL ",["Str","\"It's closed.\""]," CR>)>)"],["\t  (<EQUAL? ,",["Id","HERE"]," ,",["Id","CELLAR"],">"],["\t   <COND (<AND <VERB? OPEN UNLOCK>"],["\t\t       <NOT <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>>>"],["\t\t  <TELL"],[["Str","\"The door is locked from above.\""]," CR>)"],["\t\t (<AND <VERB? CLOSE> <NOT <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>>>"],["\t\t  <FCLEAR ,",["Id","TRAP-DOOR"]," ,TOUCHBIT>"],["\t\t  <FCLEAR ,",["Id","TRAP-DOOR"]," ,OPENBIT>"],["\t\t  <TELL ",["Str","\"The door closes and locks.\""]," CR>)"],["\t\t (<VERB? OPEN CLOSE>"],["\t\t  <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],"> CR>)>)>>"],[],["<ROUTINE ",["Iddef","CELLAR-FCN"]," (",["Localid","RARG"],")"],["  <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t <TELL"],[["Str","\"You are in a dark and damp cellar with a narrow passageway leading"]],[["Str","north, and a crawlway to the south. On the west is the bottom of a"]],[["Str","steep metal ramp which is unclimbable.\""]," CR>)"],["\t(<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t <COND (<AND <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>"],["\t\t     <NOT <FSET? ,",["Id","TRAP-DOOR"]," ,TOUCHBIT>>>"],["\t\t<FCLEAR ,",["Id","TRAP-DOOR"]," ,OPENBIT>"],["\t\t<FSET ,",["Id","TRAP-DOOR"]," ,TOUCHBIT>"],["\t\t<TELL"],[["Str","\"The trap door crashes shut, and you hear someone barring it.\""]," CR CR>)>)>>"],[],["<ROUTINE ",["Iddef","CHIMNEY-F"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The chimney leads \""],">"],["\t\t<COND (<==? ,",["Id","HERE"]," ,",["Id","KITCHEN"],">"],["\t\t       <TELL ",["Str","\"down\""],">)"],["\t\t      (T <TELL ",["Str","\"up\""],">)>"],["\t\t<TELL ",["Str","\"ward, and looks climbable.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","UP-CHIMNEY-FUNCTION"]," (",["Str","\"AUX\""]," ",["Localid","F"],")"],["  <COND (<NOT <SET ",["Localid","F"]," <FIRST? ,",["Id","WINNER"],">>>"],["\t <TELL ",["Str","\"Going up empty-handed is a bad idea.\""]," CR>"],["\t <RFALSE>)"],["\t(<AND <OR <NOT <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>"],["\t\t  <NOT <NEXT? .",["Localid","F"],">>>"],["\t      <IN? ,",["Id","LAMP"]," ,",["Id","WINNER"],">>"],["\t <COND (<NOT <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>>"],["\t\t<FCLEAR ,",["Id","TRAP-DOOR"]," ,TOUCHBIT>)>"],["\t <RETURN ,",["Id","KITCHEN"],">)"],["\t(T"],["\t <TELL ",["Str","\"You can't get up there with what you're carrying.\""]," CR>"],["\t <RFALSE>)>>"],[],["<ROUTINE ",["Iddef","TRAP-DOOR-EXIT"]," ()"],["\t <COND (,",["Id","RUG-MOVED"]],["\t\t<COND (<FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>"],["\t\t       <RETURN ,",["Id","CELLAR"],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The trap door is closed.\""]," CR>"],["\t\t       <",["Id","THIS-IS-IT"]," ,",["Id","TRAP-DOOR"],">"],["\t\t       <RFALSE>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","RUG-FCN"]," ()"],["   <COND (<VERB? RAISE>"],["\t  <TELL ",["Str","\"The rug is too heavy to lift\""],">"],["\t  <COND (,",["Id","RUG-MOVED"]],["\t\t <TELL ",["Str","\".\""]," CR>)"],["\t\t(T"],["\t\t <TELL"],[["Str","\", but in trying to take it you have"]],[["Str","noticed an irregularity beneath it.\""]," CR>)>)"],["\t (<VERB? MOVE PUSH>"],["\t  <COND (,",["Id","RUG-MOVED"]],["\t\t <TELL"],[["Str","\"Having moved the carpet previously, you find it impossible to move"]],[["Str","it again.\""]," CR>)"],["\t\t(T"],["\t\t <TELL"],[["Str","\"With a great effort, the rug is moved to one side of the room, revealing"]],[["Str","the dusty cover of a closed trap door.\""]," CR>"],["\t\t <FCLEAR ,",["Id","TRAP-DOOR"]," ,INVISIBLE>"],["\t\t <",["Id","THIS-IS-IT"]," ,",["Id","TRAP-DOOR"],">"],["\t\t <SETG ",["Id","RUG-MOVED"]," T>)>)"],["\t (<VERB? TAKE>"],["\t  <TELL"],[["Str","\"The rug is extremely heavy and cannot be carried.\""]," CR>)"],["\t (<AND <VERB? LOOK-UNDER>"],["\t       <NOT ,",["Id","RUG-MOVED"],">"],["\t       <NOT <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>>>"],["\t  <TELL"],[["Str","\"Underneath the rug is a closed trap door. As you drop the corner of the"]],[["Str","rug, the trap door is once again concealed from view.\""]," CR>)"],["\t (<VERB? CLIMB-ON>"],["\t  <COND (<AND <NOT ,",["Id","RUG-MOVED"],">"],["\t\t      <NOT <FSET? ,",["Id","TRAP-DOOR"]," ,OPENBIT>>>"],["\t\t <TELL"],[["Str","\"As you sit, you notice an irregularity underneath it. Rather than be"]],[["Str","uncomfortable, you stand up again.\""]," CR>)"],["\t\t(ELSE"],["\t\t <TELL ",["Str","\"I suppose you think it's a magic carpet?\""]," CR>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE TROLL\""]],[],["<ROUTINE ",["Iddef","AXE-F"]," ()"],["\t <COND (,",["Id","TROLL-FLAG"]," <>)"],["\t       (T <",["Id","WEAPON-FUNCTION"]," ,",["Id","AXE"]," ,",["Id","TROLL"],">)>>"],[],["<ROUTINE ",["Iddef","STILETTO-FUNCTION"]," ()"],["\t <",["Id","WEAPON-FUNCTION"]," ,",["Id","STILETTO"]," ,",["Id","THIEF"],">>"],[],["<ROUTINE ",["Iddef","WEAPON-FUNCTION"]," (",["Localid","W"]," ",["Localid","V"],")"],["\t<COND (<NOT <IN? .",["Localid","V"]," ,",["Id","HERE"],">> <RFALSE>)"],["\t      (<VERB? TAKE>"],["\t       <COND (<IN? .",["Localid","W"]," .",["Localid","V"],">"],["\t\t      <TELL"],[["Str","\"The \""]," D .",["Localid","V"]," ",["Str","\" swings it out of your reach.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The \""]," D .",["Localid","W"]," ",["Str","\" seems white-hot. You can't hold on to it.\""]," CR>)>"],["\t       T)>>"],[],["<ROUTINE ",["Iddef","TROLL-FCN"]," (",["Str","\"OPTIONAL\""]," (",["Localid","MODE"]," <>))"],["\t <COND (<VERB? TELL>"],["\t\t<TELL ",["Str","\"The troll isn't much of a conversationalist.\""]," CR>"],["\t\t<SETG ",["Id","P-CONT"]," <>>)"],["\t       (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-BUSY?"],">"],["\t\t<COND (<IN? ,",["Id","AXE"]," ,",["Id","TROLL"],"> <>)"],["\t\t      (<AND <IN? ,",["Id","AXE"]," ,",["Id","HERE"],"> <PROB 75 90>>"],["\t\t       <FSET ,",["Id","AXE"]," ,NDESCBIT>"],["\t\t       <FCLEAR ,",["Id","AXE"]," ,WEAPONBIT>"],["\t\t       <MOVE ,",["Id","AXE"]," ,",["Id","TROLL"],">"],["\t\t       <PUTP ,",["Id","TROLL"]," ,P?LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks all passages out"]],[["Str","of the room.\""],">"],["\t\t       <AND <IN? ,",["Id","TROLL"]," ,",["Id","HERE"],">"],["\t\t\t    <TELL"],[["Str","\"The troll, angered and humiliated, recovers his weapon. He appears to have"]],[["Str","an axe to grind with you.\""]," CR>>"],["\t\t      T)"],["\t\t     (<IN? ,",["Id","TROLL"]," ,",["Id","HERE"],">"],["\t\t      <PUTP ,",["Id","TROLL"]," ,P?LDESC"],[["Str","\"A pathetically babbling troll is here.\""],">"],["\t\t      <TELL"],[["Str","\"The troll, disarmed, cowers in terror, pleading for his life in"]],[["Str","the guttural tongue of the trolls.\""]," CR>"],["\t\t      T)>)"],["\t      (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-DEAD"],">"],["\t       <COND (<IN? ,",["Id","AXE"]," ,",["Id","TROLL"],">"],["\t\t      <MOVE ,",["Id","AXE"]," ,",["Id","HERE"],">"],["\t\t      <FCLEAR ,",["Id","AXE"]," ,NDESCBIT>"],["\t\t      <FSET ,",["Id","AXE"]," ,WEAPONBIT>)>"],["\t       <SETG ",["Id","TROLL-FLAG"]," T>)"],["\t      (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-UNCONSCIOUS"],">"],["\t       <FCLEAR ,",["Id","TROLL"]," ,FIGHTBIT>"],["\t       <COND (<IN? ,",["Id","AXE"]," ,",["Id","TROLL"],">"],["\t\t      <MOVE ,",["Id","AXE"]," ,",["Id","HERE"],">"],["\t\t      <FCLEAR ,",["Id","AXE"]," ,NDESCBIT>"],["\t\t      <FSET ,",["Id","AXE"]," ,WEAPONBIT>)>"],["\t       <PUTP ,",["Id","TROLL"]," ,P?LDESC"],[["Str","\"An unconscious troll is sprawled on the floor. All passages"]],[["Str","out of the room are open.\""],">"],["\t       <SETG ",["Id","TROLL-FLAG"]," T>)"],["\t      (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-CONSCIOUS"],">"],["\t       <COND (<IN? ,",["Id","TROLL"]," ,",["Id","HERE"],">"],["\t\t      <FSET ,",["Id","TROLL"]," ,FIGHTBIT>"],["\t\t      <TELL"],[["Str","\"The troll stirs, quickly resuming a fighting stance.\""]," CR>)>"],["\t       <COND (<IN? ,",["Id","AXE"]," ,",["Id","TROLL"],">"],["\t\t      <PUTP ,",["Id","TROLL"]," ,P?LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks"]],[["Str","all passages out of the room.\""],">)"],["\t\t     (<IN? ,",["Id","AXE"]," ,",["Id","TROLL-ROOM"],">"],["\t\t      <FSET ,",["Id","AXE"]," ,NDESCBIT>"],["\t\t      <FCLEAR ,",["Id","AXE"]," ,WEAPONBIT>"],["\t\t      <MOVE ,",["Id","AXE"]," ,",["Id","TROLL"],">"],["\t\t      <PUTP ,",["Id","TROLL"]," ,P?LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks"]],[["Str","all passages out of the room.\""],">)"],["\t\t     (T"],["\t\t      <PUTP ,",["Id","TROLL"]," ,P?LDESC"],[["Str","\"A troll is here.\""],">)>"],["\t       <SETG ",["Id","TROLL-FLAG"]," <>>)"],["\t      (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-FIRST?"],">"],["\t       <COND (<PROB 33>"],["\t\t      <FSET ,",["Id","TROLL"]," ,FIGHTBIT>"],["\t\t      <SETG ",["Id","P-CONT"]," <>>"],["\t\t      T)>)"],["\t      (<NOT .",["Localid","MODE"],">"],["\t       <COND (<VERB? EXAMINE>"],["\t\t      <TELL <GETP ,",["Id","TROLL"]," ,P?LDESC> CR>)"],["\t\t     (<OR <AND <VERB? THROW GIVE>"],["\t\t\t       ,",["Id","PRSO"]],["\t\t\t       <EQUAL? ,",["Id","PRSI"]," ,",["Id","TROLL"],">>"],["\t\t\t  <VERB? TAKE MOVE MUNG>>"],["\t\t      <",["Id","AWAKEN"]," ,",["Id","TROLL"],">"],["\t\t      <COND (<VERB? THROW GIVE>"],["\t\t\t     <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","AXE"],">"],["\t\t\t\t\t <IN? ,",["Id","AXE"]," ,",["Id","WINNER"],">>"],["\t\t\t\t    <TELL"],[["Str","\"The troll scratches his head in confusion, then takes the axe.\""]," CR>"],["\t\t\t\t    <FSET ,",["Id","TROLL"]," ,FIGHTBIT>"],["\t\t\t\t    <MOVE ,",["Id","AXE"]," ,",["Id","TROLL"],">"],["\t\t\t\t    <RTRUE>)"],["\t\t\t\t   (<EQUAL? ,",["Id","PRSO"]," ,",["Id","TROLL"]," ,",["Id","AXE"],">"],["\t\t\t\t    <TELL"],[["Str","\"You would have to get the \""]," D ,",["Id","PRSO"]," ",["Str","\" first, and that seems unlikely.\""]," CR>"],["\t\t\t\t    <RTRUE>)>"],["\t\t\t     <COND (<VERB? THROW>"],["\t\t\t\t    <TELL"],[["Str","\"The troll, who is remarkably coordinated, catches the \""]," D ,",["Id","PRSO"],">)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL"],[["Str","\"The troll, who is not overly proud, graciously accepts the gift\""],">)>"],["\t\t\t     <COND (<AND <PROB 20>"],["\t\t\t\t\t <EQUAL? ,",["Id","PRSO"]," ,",["Id","KNIFE"]," ,",["Id","SWORD"]," ,",["Id","AXE"],">>"],["\t\t\t\t    <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t\t\t    <TELL"],[["Str","\" and eats it hungrily. Poor troll, he dies from an internal hemorrhage"]],[["Str","and his carcass disappears in a sinister black fog.\""]," CR>"],["\t\t\t\t    <",["Id","REMOVE-CAREFULLY"]," ,",["Id","TROLL"],">"],["\t\t\t\t    <APPLY <GETP ,",["Id","TROLL"]," ,P?ACTION> ,",["Id","F-DEAD"],">"],["\t\t\t\t    <SETG ",["Id","TROLL-FLAG"]," T>)"],["\t\t\t\t   (<EQUAL? ,",["Id","PRSO"]," ,",["Id","KNIFE"]," ,",["Id","SWORD"]," ,",["Id","AXE"],">"],["\t\t\t\t    <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t\t\t    <TELL"],[["Str","\" and, being for the moment sated, throws it back. Fortunately, the"]],[["Str","troll has poor control, and the \""]," D ,",["Id","PRSO"]," ",["Str","\" falls to the floor. He does"]],[["Str","not look pleased.\""]," CR>"],["\t\t\t\t    <FSET ,",["Id","TROLL"]," ,FIGHTBIT>)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL"],[["Str","\" and not having the most discriminating tastes, gleefully eats it.\""]," CR>"],["\t\t\t\t    <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">)>)"],["\t\t\t    (<VERB? TAKE MOVE>"],["\t\t\t     <TELL"],[["Str","\"The troll spits in your face, grunting \\\"Better luck next time\\\" in a"]],[["Str","rather barbarous accent.\""]," CR>)"],["\t\t\t    (<VERB? MUNG>"],["\t\t\t     <TELL"],[["Str","\"The troll laughs at your puny gesture.\""]," CR>)>)"],["\t\t     (<VERB? LISTEN>"],["\t\t      <TELL"],[["Str","\"Every so often the troll says something, probably uncomplimentary, in"]],[["Str","his guttural tongue.\""]," CR>)"],["\t\t     (<AND ,",["Id","TROLL-FLAG"]," <VERB? HELLO>>"],["\t\t      <TELL ",["Str","\"Unfortunately, the troll can't hear you.\""]," CR>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE GRATING/MAZE\""]],[],["<GLOBAL ",["Iddef","LEAVES-GONE"]," <>>"],["<GLOBAL ",["Iddef","GRATE-REVEALED"]," <>>"],["<GLOBAL ",["Iddef","GRUNLOCK"]," <>>"],[],["<ROUTINE ",["Iddef","LEAVES-APPEAR"]," ()"],["\t<COND (<AND <NOT <FSET? ,",["Id","GRATE"]," ,OPENBIT>>"],["\t            <NOT ,",["Id","GRATE-REVEALED"],">>"],["\t       <COND (<VERB? MOVE TAKE>"],["\t\t      <TELL"],[["Str","\"In disturbing the pile of leaves, a grating is revealed.\""]," CR>)"],["\t\t     (T <TELL"],[["Str","\"With the leaves moved, a grating is revealed.\""]," CR>)>"],["\t       <FCLEAR ,",["Id","GRATE"]," ,INVISIBLE>"],["\t       <SETG ",["Id","GRATE-REVEALED"]," T>)>"],["\t<>>"],[],["<ROUTINE ",["Iddef","LEAF-PILE"]," ()"],["\t<COND (<VERB? COUNT>"],["\t       <TELL ",["Str","\"There are 69,105 leaves here.\""]," CR>)"],["\t      (<VERB? BURN>"],["\t       <",["Id","LEAVES-APPEAR"],">"],["\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t       <COND (<IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t      <TELL"],[["Str","\"The leaves burn.\""]," CR>)"],["\t\t     (T"],["\t\t      <",["Id","JIGS-UP"]],[["Str","\"The leaves burn, and so do you.\""],">)>)"],["\t      (<VERB? CUT>"],["\t       <TELL ",["Str","\"You rustle the leaves around, making quite a mess.\""]," CR>"],["\t       <",["Id","LEAVES-APPEAR"],">"],["\t       <RTRUE>)"],["\t      (<VERB? MOVE TAKE>"],["\t       <COND (<VERB? MOVE>"],["\t\t      <TELL ",["Str","\"Done.\""]," CR>)>"],["\t       <COND (,",["Id","GRATE-REVEALED"]," <RFALSE>)>"],["\t       <",["Id","LEAVES-APPEAR"],">"],["\t       <COND (<VERB? TAKE> <RFALSE>)"],["\t\t     (T <RTRUE>)>)"],["\t      (<AND <VERB? LOOK-UNDER>"],["\t\t    <NOT ,",["Id","GRATE-REVEALED"],">>"],["\t       <TELL"],[["Str","\"Underneath the pile of leaves is a grating. As you release the leaves,"]],[["Str","the grating is once again concealed from view.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CLEARING-FCN"]," (",["Localid","RARG"],")"],["  \t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t<COND (<NOT ,",["Id","GRATE-REVEALED"],">"],["\t\t       <FSET ,",["Id","GRATE"]," ,INVISIBLE>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are in a clearing, with a forest surrounding you on all sides. A"]],[["Str","path leads south.\""],">"],["\t\t<COND (<FSET? ,",["Id","GRATE"]," ,OPENBIT>"],["\t\t       <CRLF>"],["\t\t       <TELL"],[["Str","\"There is an open grating, descending into darkness.\""],">)"],["\t\t      (,",["Id","GRATE-REVEALED"]],["\t\t       <CRLF>"],["\t\t       <TELL"],[["Str","\"There is a grating securely fastened into the ground.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","MAZE-11-FCN"]," (",["Localid","RARG"],")"],["  \t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t<FCLEAR ,",["Id","GRATE"]," ,INVISIBLE>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are in a small room near the maze. There are twisty passages"]],[["Str","in the immediate vicinity.\""]," CR>"],["\t\t<COND (<FSET? ,",["Id","GRATE"]," ,OPENBIT>"],["\t\t       <TELL"],[" ",["Str","\"Above you is an open grating with sunlight pouring in.\""],">)"],["\t\t      (,",["Id","GRUNLOCK"]],["\t\t       <TELL ",["Str","\"Above you is a grating.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[" ",["Str","\"Above you is a grating locked with a skull-and-crossbones lock.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","GRATE-FUNCTION"]," ()"],["    \t <COND (<AND <VERB? OPEN> <EQUAL? ,",["Id","PRSI"]," ,",["Id","KEYS"],">>"],["\t\t<",["Id","PERFORM"]," ,V?UNLOCK ,",["Id","GRATE"]," ,",["Id","KEYS"],">"],["\t\t<RTRUE>)"],["\t       (<VERB? LOCK>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","GRATING-ROOM"],">"],["\t\t       <SETG ",["Id","GRUNLOCK"]," <>>"],["\t\t       <TELL ",["Str","\"The grate is locked.\""]," CR>)"],["\t              (<EQUAL? ,",["Id","HERE"]," ,",["Id","GRATING-CLEARING"],">"],["\t\t       <TELL ",["Str","\"You can't lock it from this side.\""]," CR>)>)"],["\t       (<AND <VERB? UNLOCK> <EQUAL? ,",["Id","PRSO"]," ,",["Id","GRATE"],">>"],["\t\t<COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","GRATING-ROOM"],"> <EQUAL? ,",["Id","PRSI"]," ,",["Id","KEYS"],">>"],["\t\t       <SETG ",["Id","GRUNLOCK"]," T>"],["\t\t       <TELL ",["Str","\"The grate is unlocked.\""]," CR>)"],["\t\t      (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","GRATING-CLEARING"],">"],["\t\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","KEYS"],">>"],["\t\t       <TELL ",["Str","\"You can't reach the lock from here.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"Can you unlock a grating with a \""]," D ,",["Id","PRSI"]," ",["Str","\"?\""]," CR>)>)"],["               (<VERB? PICK>"],["\t\t<TELL ",["Str","\"You can't pick the lock.\""]," CR>)"],["               (<VERB? OPEN CLOSE>"],["\t\t<COND (,",["Id","GRUNLOCK"]],["\t\t       <",["Id","OPEN-CLOSE"]," ,",["Id","GRATE"]],["\t\t\t\t   <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","CLEARING"],">"],["\t\t\t\t\t  ",["Str","\"The grating opens.\""],")"],["\t\t\t\t\t (T"],[["Str","\"The grating opens to reveal trees above you.\""],")>"],["\t\t\t\t   ",["Str","\"The grating is closed.\""],">"],["\t\t       <COND (<FSET? ,",["Id","GRATE"]," ,OPENBIT>"],["\t\t\t      <COND (<AND <NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","CLEARING"],">>"],["\t\t\t\t\t  <NOT ,",["Id","GRATE-REVEALED"],">>"],["\t\t\t\t     <TELL"],[["Str","\"A pile of leaves falls onto your head and to the ground.\""]," CR>"],["\t\t\t\t     <SETG ",["Id","GRATE-REVEALED"]," T>"],["\t\t\t\t     <MOVE ,",["Id","LEAVES"]," ,",["Id","HERE"],">)>"],["\t\t\t      <FSET ,",["Id","GRATING-ROOM"]," ,ONBIT>)"],["\t\t\t     (T <FCLEAR ,",["Id","GRATING-ROOM"]," ,ONBIT>)>)"],["\t\t      (T <TELL ",["Str","\"The grating is locked.\""]," CR>)>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,",["Id","PRSI"]," ,",["Id","GRATE"],">>"],["\t\t<COND (<G? <GETP ,",["Id","PRSO"]," ,P?SIZE> 20>"],["\t\t       <TELL ",["Str","\"It won't fit through the grating.\""]," CR>)"],["\t\t      (T"],["\t\t       <MOVE ,",["Id","PRSO"]," ,",["Id","GRATING-ROOM"],">"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" goes through the grating into the darkness below.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","MAZE-DIODES"]," ()"],["\t <TELL"],[["Str","\"You won't be able to get back up to the tunnel you are going through"]],[["Str","when it gets to the next room.\""]," CR CR>"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","MAZE-2"],"> ,",["Id","MAZE-4"],")"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","MAZE-7"],"> ,",["Id","DEAD-END-1"],")"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","MAZE-9"],"> ,",["Id","MAZE-11"],")"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","MAZE-12"],"> ,",["Id","MAZE-5"],")>>"],[],["<ROUTINE ",["Iddef","RUSTY-KNIFE-FCN"]," ()"],["\t<COND (<VERB? TAKE>"],["\t       <AND <IN? ,",["Id","SWORD"]," ,",["Id","WINNER"],">"],["\t\t    <TELL"],[["Str","\"As you touch the rusty knife, your sword gives a single pulse of blinding"]],[["Str","blue light.\""]," CR>>"],["\t       <>)"],["\t      (<OR <AND <EQUAL? ,",["Id","PRSI"]," ,",["Id","RUSTY-KNIFE"],">"],["\t\t\t<VERB? ATTACK>>"],["\t\t   <AND <VERB? SWING>"],["\t\t\t<EQUAL? ,",["Id","PRSO"]," ,",["Id","RUSTY-KNIFE"],">"],["\t\t\t,",["Id","PRSI"],">>"],["\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","RUSTY-KNIFE"],">"],["\t       <",["Id","JIGS-UP"]],[["Str","\"As the knife approaches its victim, your mind is submerged by an"]],[["Str","overmastering will. Slowly, your hand turns, until the rusty blade"]],[["Str","is an inch from your neck. The knife seems to sing as it savagely"]],[["Str","slits your throat.\""],">)>>"],[],["<ROUTINE ",["Iddef","KNIFE-F"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<FCLEAR ,",["Id","ATTIC-TABLE"]," ,NDESCBIT>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","SKELETON"]," ()"],["\t <COND (<VERB? TAKE RUB MOVE PUSH RAISE LOWER ATTACK KICK KISS>"],["\t\t<TELL"],[["Str","\"A ghost appears in the room and is appalled at your desecration of"]],[["Str","the remains of a fellow adventurer. He casts a curse on your valuables"]],[["Str","and banishes them to the Land of the Living Dead. The ghost leaves,"]],[["Str","muttering obscenities.\""]," CR>"],["\t \t<",["Id","ROB"]," ,",["Id","HERE"]," ,",["Id","LAND-OF-LIVING-DEAD"]," 100>"],["\t \t<",["Id","ROB"]," ,",["Id","ADVENTURER"]," ,",["Id","LAND-OF-LIVING-DEAD"],">"],["\t \tT)>>"],[],["\\"],[],["<ROUTINE ",["Iddef","TORCH-OBJECT"]," ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL ",["Str","\"The torch is burning.\""]," CR>)"],["\t  (<AND <VERB? POUR-ON>"],["\t\t<EQUAL? ,",["Id","PRSI"]," ,",["Id","TORCH"],">>"],["\t   <TELL ",["Str","\"The water evaporates before it gets close.\""]," CR>)"],["\t  (<AND <VERB? LAMP-OFF> <FSET? ,",["Id","PRSO"]," ,ONBIT>>"],["\t   <TELL"],[["Str","\"You nearly burn your hand trying to extinguish the flame.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE MIRROR, MIRROR, ON THE WALL\""]],[],["<ROUTINE ",["Iddef","MIRROR-ROOM"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t        <TELL"],[["Str","\"You are in a large square room with tall ceilings. On the south wall"]],[["Str","is an enormous mirror which fills the entire wall. There are exits"]],[["Str","on the other three sides of the room.\""]," CR>"],["\t\t<COND (,",["Id","MIRROR-MUNG"]],["\t\t       <TELL"],[["Str","\"Unfortunately, the mirror has been destroyed by your recklessness.\""]," CR>)>)>>"],[],["<GLOBAL ",["Iddef","MIRROR-MUNG"]," <>>"],["<GLOBAL ",["Iddef","LUCKY"]," T>"],[],["<ROUTINE ",["Iddef","MIRROR-MIRROR"]," (",["Str","\"AUX\""]," (",["Localid","RM2"]," ,",["Id","MIRROR-ROOM-2"],") ",["Localid","L1"]," ",["Localid","L2"]," ",["Localid","N"],")"],["\t<COND (<AND <NOT ,",["Id","MIRROR-MUNG"],"> <VERB? RUB>>"],["\t       <COND (<AND ,",["Id","PRSI"]," <NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","HANDS"],">>>"],["\t\t      <TELL"],[["Str","\"You feel a faint tingling transmitted through the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>"],["\t\t      <RTRUE>)>"],["\t       <COND (<EQUAL? ,",["Id","HERE"]," .",["Localid","RM2"],">"],["\t\t      <SET ",["Localid","RM2"]," ,",["Id","MIRROR-ROOM-1"],">)>"],["\t       <SET ",["Localid","L1"]," <FIRST? ,",["Id","HERE"],">>"],["\t       <SET ",["Localid","L2"]," <FIRST? .",["Localid","RM2"],">>"],["\t       <REPEAT ()"],["\t\t       <COND (<NOT .",["Localid","L1"],"> <RETURN>)>"],["\t\t       <SET ",["Localid","N"]," <NEXT? .",["Localid","L1"],">>"],["\t\t       <MOVE .",["Localid","L1"]," .",["Localid","RM2"],">"],["\t\t       <SET ",["Localid","L1"]," .",["Localid","N"],">>"],["\t       <REPEAT ()"],["\t\t       <COND (<NOT .",["Localid","L2"],"> <RETURN>)>"],["\t\t       <SET ",["Localid","N"]," <NEXT? .",["Localid","L2"],">>"],["\t\t       <MOVE .",["Localid","L2"]," ,",["Id","HERE"],">"],["\t\t       <SET ",["Localid","L2"]," .",["Localid","N"],">>"],["\t       <",["Id","GOTO"]," .",["Localid","RM2"]," <>>"],["\t       <TELL"],[["Str","\"There is a rumble from deep within the earth and the room shakes.\""]," CR>)"],["\t      (<VERB? LOOK-INSIDE EXAMINE>"],["\t       <COND (,",["Id","MIRROR-MUNG"]],["\t\t      <TELL ",["Str","\"The mirror is broken into many pieces.\""],">)"],["\t\t     (T"],["\t\t      <TELL ",["Str","\"There is an ugly person staring back at you.\""],">)>"],["\t       <CRLF>)"],["\t      (<VERB? TAKE>"],["\t       <TELL"],[["Str","\"The mirror is many times your size. Give up.\""]," CR>)"],["\t      (<VERB? MUNG THROW ATTACK>"],["\t       <COND (,",["Id","MIRROR-MUNG"]],["\t\t      <TELL"],[["Str","\"Haven't you done enough damage already?\""]," CR>)"],["\t\t     (T"],["\t\t      <SETG ",["Id","MIRROR-MUNG"]," T>"],["\t\t      <SETG ",["Id","LUCKY"]," <>>"],["\t\t      <TELL"],[["Str","\"You have broken the mirror. I hope you have a seven years' supply of"]],[["Str","good luck handy.\""]," CR>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE THE DOME\""]],[],["<ROUTINE ",["Iddef","TORCH-ROOM-FCN"]," (",["Localid","RARG"],")"],[" \t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a large room with a prominent doorway leading to a down"]],[["Str","staircase. Above you is a large dome. Up around the edge of the"]],[["Str","dome (20 feet up) is a wooden railing. In the center of the room"]],[["Str","sits a white marble pedestal.\""]," CR>"],["\t\t<COND (,",["Id","DOME-FLAG"]],["\t\t       <TELL"],[["Str","\"A piece of rope descends from the railing above, ending some"]],[["Str","five feet above your head.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","DOME-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are at the periphery of a large dome, which forms the ceiling"]],[["Str","of another room below. Protecting you from a precipitous drop is a"]],[["Str","wooden railing which circles the dome.\""]," CR>"],["\t\t<COND (,",["Id","DOME-FLAG"]],["\t\t       <TELL"],[["Str","\"Hanging down from the railing is a rope which ends about ten feet"]],[["Str","from the floor below.\""]," CR>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t<COND (,",["Id","DEAD"]],["\t\t       <TELL"],[["Str","\"As you enter the dome you feel a strong pull as if from a wind"]],[["Str","drawing you over the railing and down.\""]," CR>"],["\t\t       <MOVE ,",["Id","WINNER"]," ,",["Id","TORCH-ROOM"],">"],["\t\t       <SETG ",["Id","HERE"]," ,",["Id","TORCH-ROOM"],">"],["\t\t       <RTRUE>)"],["\t\t      (<VERB? LEAP>"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"I'm afraid that the leap you attempted has done you in.\""],">)>)>>"],[],["<GLOBAL ",["Iddef","EGYPT-FLAG"]," <>>"],[],["\\"],[],[["Str","\"SUBTITLE LAND OF THE DEAD\""]],[],["<ROUTINE ",["Iddef","LLD-ROOM"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are outside a large gateway, on which is inscribed||"]],[["Str","  Abandon every hope"]],[["Str","all ye who enter here!||"]],[["Str","The gate is open; through it you can see a desolation, with a pile of"]],[["Str","mangled bodies in one corner. Thousands of voices, lamenting some"]],[["Str","hideous fate, can be heard.\""]," CR>"],["\t\t<COND (<AND <NOT ,",["Id","LLD-FLAG"],"> <NOT ,",["Id","DEAD"],">>"],["\t\t       <TELL"],[["Str","\"The way through the gate is barred by evil spirits, who jeer at your"]],[["Str","attempts to pass.\""]," CR>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<VERB? EXORCISE>"],["\t\t       <COND (<NOT ,",["Id","LLD-FLAG"],">"],["\t\t\t      <COND (<AND <IN? ,",["Id","BELL"]," ,",["Id","WINNER"],">"],["\t\t\t\t\t  <IN? ,",["Id","BOOK"]," ,",["Id","WINNER"],">"],["\t\t\t\t\t  <IN? ,",["Id","CANDLES"]," ,",["Id","WINNER"],">>"],["\t\t\t\t     <TELL"],[["Str","\"You must perform the ceremony.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"You aren't equipped for an exorcism.\""]," CR>)>)>)"],["\t\t      (<AND <NOT ,",["Id","LLD-FLAG"],">"],["\t\t\t    <VERB? RING>"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","BELL"],">>"],["\t\t       <SETG ",["Id","XB"]," T>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","BELL"],">"],["\t\t       <",["Id","THIS-IS-IT"]," ,",["Id","HOT-BELL"],">"],["\t\t       <MOVE ,",["Id","HOT-BELL"]," ,",["Id","HERE"],">"],["\t\t       <TELL"],[["Str","\"The bell suddenly becomes red hot and falls to the ground. The"]],[["Str","wraiths, as if paralyzed, stop their jeering and slowly turn to face"]],[["Str","you. On their ashen faces, the expression of a long-forgotten terror"]],[["Str","takes shape.\""]," CR>"],["\t\t       <COND (<IN? ,",["Id","CANDLES"]," ,",["Id","WINNER"],">"],["\t\t\t      <TELL"],[["Str","\"In your confusion, the candles drop to the ground (and they are out).\""]," CR>"],["\t\t\t      <MOVE ,",["Id","CANDLES"]," ,",["Id","HERE"],">"],["\t\t\t      <FCLEAR ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t      <DISABLE <",["Id","INT"]," ",["Id","I-CANDLES"],">>)>"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-XB"]," 6>>"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-XBH"]," 20>>)"],["\t\t      (<AND ,",["Id","XC"]],["\t\t\t    <VERB? READ>"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","BOOK"],">"],["\t\t\t    <NOT ,",["Id","LLD-FLAG"],">>"],["\t\t       <TELL"],[["Str","\"Each word of the prayer reverberates through the hall in a deafening"]],[["Str","confusion. As the last word fades, a voice, loud and commanding,"]],[["Str","speaks: \\\"Begone, fiends!\\\" A heart-stopping scream fills the cavern,"]],[["Str","and the spirits, sensing a greater power, flee through the walls.\""]," CR>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","GHOSTS"],">"],["\t\t       <SETG ",["Id","LLD-FLAG"]," T>"],["\t\t       <DISABLE <",["Id","INT"]," ",["Id","I-XC"],">>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t<COND (<AND ,",["Id","XB"]],["\t\t\t    <IN? ,",["Id","CANDLES"]," ,",["Id","WINNER"],">"],["\t\t\t    <FSET? ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t    <NOT ,",["Id","XC"],">>"],["\t\t       <SETG ",["Id","XC"]," T>"],["\t\t       <TELL"],[["Str","\"The flames flicker wildly and appear to dance. The earth beneath"]],[["Str","your feet trembles, and your legs nearly buckle beneath you."]],[["Str","The spirits cower at your unearthly power.\""]," CR>"],["\t\t       <DISABLE <",["Id","INT"]," ",["Id","I-XB"],">>"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-XC"]," 3>>)>)>>"],[],["<GLOBAL ",["Iddef","XB"]," <>>"],[],["<GLOBAL ",["Iddef","XC"]," <>>"],[],["<ROUTINE ",["Iddef","I-XB"]," ()"],["\t <OR ,",["Id","XC"]],["\t     <AND <EQUAL? ,",["Id","HERE"]," ,",["Id","ENTRANCE-TO-HADES"],">"],["\t\t  <TELL"],[["Str","\"The tension of this ceremony is broken, and the wraiths, amused but"]],[["Str","shaken at your clumsy attempt, resume their hideous jeering.\""]," CR>>>"],["\t <SETG ",["Id","XB"]," <>>>"],[],["<ROUTINE ",["Iddef","I-XC"]," ()"],["\t <SETG ",["Id","XC"]," <>>"],["\t <",["Id","I-XB"],">>"],[],["<ROUTINE ",["Iddef","I-XBH"]," ()"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","HOT-BELL"],">"],["\t <MOVE ,",["Id","BELL"]," ,",["Id","ENTRANCE-TO-HADES"],">"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","ENTRANCE-TO-HADES"],">"],["\t\t<TELL ",["Str","\"The bell appears to have cooled down.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE FLOOD CONTROL DAM #3\""]],[],["<GLOBAL ",["Iddef","GATE-FLAG"]," <>>"],["<GLOBAL ",["Iddef","GATES-OPEN"]," <>>"],[],["<ROUTINE ",["Iddef","DAM-ROOM-FCN"]," (",["Localid","RARG"],")"],["   \t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are standing on the top of the Flood Control Dam #3, which was"]],[["Str","quite a tourist attraction in times far distant. There are paths to"]],[["Str","the north, south, and west, and a scramble down.\""]," CR>"],["\t\t<COND (<AND ,",["Id","LOW-TIDE"]," ,",["Id","GATES-OPEN"],">"],["\t\t       <TELL"],[["Str","\"The water level behind the dam is low: The sluice gates have been"]],[["Str","opened. Water rushes through the dam and downstream.\""]," CR>)"],["\t\t      (,",["Id","GATES-OPEN"]],["\t\t       <TELL"],[["Str","\"The sluice gates are open, and water rushes through the dam. The"]],[["Str","water level behind the dam is still high.\""]," CR>)"],["\t\t      (,",["Id","LOW-TIDE"]],["\t\t       <TELL"],[["Str","\"The sluice gates are closed. The water level in the reservoir is"]],[["Str","quite low, but the level is rising quickly.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The sluice gates on the dam are closed. Behind the dam, there can be"]],[["Str","seen a wide reservoir. Water is pouring over the top of the now"]],[["Str","abandoned dam.\""]," CR>)>"],["\t\t<TELL"],[["Str","\"There is a control panel here, on which a large metal bolt is mounted."]],[["Str","Directly above the bolt is a small green plastic bubble\""],">"],["\t\t<COND (,",["Id","GATE-FLAG"]],["\t\t       <TELL ",["Str","\" which is"]],[["Str","glowing serenely\""],">)>"],["\t\t<TELL ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BOLT-F"]," ()"],["\t<COND (<VERB? TURN>"],["\t       <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","WRENCH"],">"],["\t\t      <COND (,",["Id","GATE-FLAG"]],["\t\t\t     <FCLEAR ,",["Id","RESERVOIR-SOUTH"]," ,TOUCHBIT>"],["\t\t\t     <COND (,",["Id","GATES-OPEN"]],["\t\t\t\t    <SETG ",["Id","GATES-OPEN"]," <>>"],["\t\t\t\t    <FCLEAR ,",["Id","LOUD-ROOM"]," ,TOUCHBIT>"],["\t\t\t\t    <TELL"],[["Str","\"The sluice gates close and water starts to collect behind the dam.\""]," CR>"],["\t\t\t\t    <ENABLE <",["Id","QUEUE"]," ",["Id","I-RFILL"]," 8>>"],["\t\t\t\t    <",["Id","QUEUE"]," ",["Id","I-REMPTY"]," 0>"],["\t\t\t\t    T)"],["\t\t\t\t   (T"],["\t\t\t\t    <SETG ",["Id","GATES-OPEN"]," T>"],["\t\t\t\t    <TELL"],[["Str","\"The sluice gates open and water pours through the dam.\""]," CR>"],["\t\t\t\t    <ENABLE <",["Id","QUEUE"]," ",["Id","I-REMPTY"]," 8>>"],["\t\t\t\t    <",["Id","QUEUE"]," ",["Id","I-RFILL"]," 0>"],["\t\t\t\t    T)>)"],["\t\t\t    (T <TELL"],[["Str","\"The bolt won't turn with your best effort.\""]," CR>)>)"],["\t\t     (,",["Id","PRSI"]," <TELL"],[["Str","\"The bolt won't turn using the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t\t     (T <TELL ",["Str","\"You can't with your bare hands.\""]," CR>)>)"],["\t      (<VERB? TAKE>"],["\t       <",["Id","INTEGRAL-PART"],">)"],["\t      (<VERB? OIL>"],["\t       <TELL"],[["Str","\"Hmm. It appears the tube contained glue, not oil. Turning the bolt"]],[["Str","won't get any easier....\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BUBBLE-F"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<",["Id","INTEGRAL-PART"],">)>>"],[],["<ROUTINE ",["Iddef","INTEGRAL-PART"]," ()"],["\t <TELL ",["Str","\"It is an integral part of the control panel.\""]," CR>>"],[],["<ROUTINE ",["Iddef","I-RFILL"]," ()"],["\t <FSET ,",["Id","RESERVOIR"]," ,NONLANDBIT>"],["\t <FCLEAR ,",["Id","RESERVOIR"]," ,RLANDBIT>"],["\t <FCLEAR ,",["Id","DEEP-CANYON"]," ,TOUCHBIT>"],["\t <FCLEAR ,",["Id","LOUD-ROOM"]," ,TOUCHBIT>"],["\t <AND <IN? ,",["Id","TRUNK"]," ,",["Id","RESERVOIR"],">"],["\t      <FSET ,",["Id","TRUNK"]," ,INVISIBLE>>"],["\t <SETG ",["Id","LOW-TIDE"]," <>>"],["\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","RESERVOIR"],">"],["\t\t<COND (<FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>"],["\t\t       <TELL"],[["Str","\"The boat lifts gently out of the mud and is now floating on"]],[["Str","the reservoir.\""]," CR>)"],["\t\t      (T"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"You are lifted up by the rising river! You try to swim, but the"]],[["Str","currents are too strong. You come closer, closer to the awesome"]],[["Str","structure of Flood Control Dam #3. The dam beckons to you."]],[["Str","The roar of the water nearly deafens you, but you remain conscious"]],[["Str","as you tumble over the dam toward your certain doom among the rocks"]],[["Str","at its base.\""],">)>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEEP-CANYON"],">"],["\t\t<TELL"],[["Str","\"A sound, like that of flowing water, starts to come from below.\""]," CR>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","LOUD-ROOM"],">"],["\t\t<TELL"],[["Str","\"All of a sudden, an alarmingly loud roaring sound fills the room."]],[["Str","Filled with fear, you scramble away.\""]," CR>"],["\t\t<",["Id","GOTO"]," <",["Id","PICK-ONE"]," ,",["Id","LOUD-RUNS"],">>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","RESERVOIR-NORTH"]," ,",["Id","RESERVOIR-SOUTH"],">"],["\t\t<TELL"],[["Str","\"You notice that the water level has risen to the point that it"]],[["Str","is impossible to cross.\""]," CR>)>"],["\t T>"],[],["<GLOBAL ",["Iddef","LOUD-RUNS"]," <LTABLE 0 ",["Id","DAMP-CAVE"]," ",["Id","ROUND-ROOM"]," ",["Id","DEEP-CANYON"],">>"],[],["<ROUTINE ",["Iddef","I-REMPTY"]," ()"],["\t <FSET ,",["Id","RESERVOIR"]," ,RLANDBIT>"],["\t <FCLEAR ,",["Id","RESERVOIR"]," ,NONLANDBIT>"],["\t <FCLEAR ,",["Id","DEEP-CANYON"]," ,TOUCHBIT>"],["\t <FCLEAR ,",["Id","LOUD-ROOM"]," ,TOUCHBIT>"],["\t <FCLEAR ,",["Id","TRUNK"]," ,INVISIBLE>"],["\t <SETG ",["Id","LOW-TIDE"]," T>"],["\t <COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","RESERVOIR"],">"],["\t\t     <FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>>"],["\t\t<TELL"],[["Str","\"The water level has dropped to the point at which the boat can no"]],[["Str","longer stay afloat. It sinks into the mud.\""]," CR>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","DEEP-CANYON"],">"],["\t\t<TELL"],[["Str","\"The roar of rushing water is quieter now.\""]," CR>)"],["\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","RESERVOIR-NORTH"]," ,",["Id","RESERVOIR-SOUTH"],">"],["\t\t<TELL"],[["Str","\"The water level is now quite low here and you could easily cross over"]],[["Str","to the other side.\""]," CR>)>"],["\t T>"],[],["<GLOBAL ",["Iddef","DROWNINGS"]],["      <TABLE ",["Str","\"up to your ankles.\""]],["\t",["Str","\"up to your shin.\""]],["\t",["Str","\"up to your knees.\""]],["\t",["Str","\"up to your hips.\""]],["\t",["Str","\"up to your waist.\""]],["\t",["Str","\"up to your chest.\""]],["\t",["Str","\"up to your neck.\""]],["\t",["Str","\"over your head.\""]],["\t",["Str","\"high in your lungs.\""],">>"],[],["<GLOBAL ",["Iddef","WATER-LEVEL"]," 0>"],["<GDECL (",["Id","WATER-LEVEL"],") FIX>"],[],["<ROUTINE ",["Iddef","BUTTON-F"]," ()"],["\t <COND (<VERB? READ>"],["\t\t<TELL ",["Str","\"They're greek to you.\""]," CR>)"],["\t       (<VERB? PUSH>"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BLUE-BUTTON"],">"],["\t\t       <COND (<0? ,",["Id","WATER-LEVEL"],">"],["\t\t\t      <FCLEAR ,",["Id","LEAK"]," ,INVISIBLE>"],["\t\t\t      <TELL"],[["Str","\"There is a rumbling sound and a stream of water appears to burst"]],[["Str","from the east wall of the room (apparently, a leak has occurred in a"]],[["Str","pipe).\""]," CR>"],["\t\t\t      <SETG ",["Id","WATER-LEVEL"]," 1>"],["\t\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-MAINT-ROOM"]," -1>>"],["\t\t\t      T)"],["\t\t\t     (T"],["\t\t\t      <TELL"],["\t\t\t        ",["Str","\"The blue button appears to be jammed.\""]," CR>)>)"],["\t\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Id","RED-BUTTON"],">"],["\t\t       <TELL ",["Str","\"The lights within the room \""],">"],["\t\t       <COND (<FSET? ,",["Id","HERE"]," ,ONBIT>"],["\t\t\t      <FCLEAR ,",["Id","HERE"]," ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"shut off.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <FSET ,",["Id","HERE"]," ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"come on.\""]," CR>)>)"],["\t\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BROWN-BUTTON"],">"],["\t\t       <FCLEAR ,",["Id","DAM-ROOM"]," ,TOUCHBIT>"],["\t\t       <SETG ",["Id","GATE-FLAG"]," <>>"],["\t\t       <TELL ",["Str","\"Click.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSO"]," ,",["Id","YELLOW-BUTTON"],">"],["\t\t       <FCLEAR ,",["Id","DAM-ROOM"]," ,TOUCHBIT>"],["\t\t       <SETG ",["Id","GATE-FLAG"]," T>"],["\t\t       <TELL ",["Str","\"Click.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","TOOL-CHEST-FCN"]," ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The chests are all empty.\""]," CR>)"],["\t       (<VERB? TAKE OPEN PUT>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","TOOL-CHEST"],">"],["<TELL"],[["Str","\"The chests are so rusty and corroded that they crumble when you"]],[["Str","touch them.\""]," CR>)"],["\t       (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The chests are already open.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","I-MAINT-ROOM"]," (",["Str","\"AUX\""]," ",["Localid","HERE?"],")"],["\t <SET ",["Localid","HERE?"]," <EQUAL? ,",["Id","HERE"]," ,",["Id","MAINTENANCE-ROOM"],">>"],["\t <COND (.",["Localid","HERE?"]," <TELL ",["Str","\"The water level here is now \""],"> <TELL <GET"],["\t\t,",["Id","DROWNINGS"]," </ ,",["Id","WATER-LEVEL"]," 2>>> <CRLF>)>"],["\t <SETG ",["Id","WATER-LEVEL"]," <+ 1 ,",["Id","WATER-LEVEL"],">>"],["\t <COND (<NOT <L? ,",["Id","WATER-LEVEL"]," 14>>"],["\t\t<",["Id","MUNG-ROOM"]," ,",["Id","MAINTENANCE-ROOM"]],[["Str","\"The room is full of water and cannot be entered.\""],">"],["\t\t<",["Id","QUEUE"]," ",["Iddef","I-MAINT-ROOM"]," 0>"],["\t\t<COND (.",["Localid","HERE?"]],["\t\t     <",["Id","JIGS-UP"]],[["Str","\"I'm afraid you have done drowned yourself.\""],">)>)"],["\t       (<AND <IN? ,",["Id","WINNER"]," ,",["Id","INFLATED-BOAT"],">"],["\t\t     <EQUAL? ,",["Id","HERE"]," ,",["Id","MAINTENANCE-ROOM"]," ,",["Id","DAM-ROOM"]," ,",["Id","DAM-LOBBY"],">>"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"The rising water carries the boat over the dam, down the river, and over"]],[["Str","the falls. Tsk, tsk.\""],">)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","LEAK-FUNCTION"]," ()"],["\t<COND (<G? ,",["Id","WATER-LEVEL"]," 0>"],["\t       <COND (<AND <VERB? PUT PUT-ON>"],["\t\t\t   <EQUAL? ,",["Id","PRSO"]," ,",["Id","PUTTY"],">>"],["\t\t      <",["Id","FIX-MAINT-LEAK"],">)"],["\t\t     (<VERB? PLUG>"],["\t\t      <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PUTTY"],">"],["\t\t\t     <",["Id","FIX-MAINT-LEAK"],">)"],["\t\t\t    (T <",["Id","WITH-TELL"]," ,",["Id","PRSI"],">)>)>)>>"],[],["<ROUTINE ",["Iddef","FIX-MAINT-LEAK"]," ()"],["\t <SETG ",["Id","WATER-LEVEL"]," -1>"],["\t <",["Id","QUEUE"]," ",["Id","I-MAINT-ROOM"]," 0>"],["\t <TELL"],[["Str","\"By some miracle of Zorkian technology, you have managed to stop the"]],[["Str","leak in the dam.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PUTTY-FCN"]," ()"],["\t <COND (<OR <AND <VERB? OIL>"],["\t\t\t <EQUAL? ,",["Id","PRSI"]," ,",["Id","PUTTY"],">>"],["\t\t    <AND <VERB? PUT>"],["\t\t\t <EQUAL? ,",["Id","PRSO"]," ,",["Id","PUTTY"],">>>"],["\t\t<TELL ",["Str","\"The all-purpose gunk isn't a lubricant.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","TUBE-FUNCTION"]," ()"],["\t <COND (<AND <VERB? PUT>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","TUBE"],">>"],["\t\t<TELL ",["Str","\"The tube refuses to accept anything.\""]," CR>)"],["\t       (<VERB? SQUEEZE>"],["\t\t<COND (<AND <FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t\t    <IN? ,",["Id","PUTTY"]," ,",["Id","PRSO"],">>"],["\t\t       <MOVE ,",["Id","PUTTY"]," ,",["Id","WINNER"],">"],["\t\t       <TELL ",["Str","\"The viscous material oozes into your hand.\""]," CR>)"],["\t\t      (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The tube is apparently empty.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The tube is closed.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","DAM-FUNCTION"]," ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL ",["Str","\"Sounds reasonable, but this isn't how.\""]," CR>)"],["\t       (<VERB? PLUG>"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","HANDS"],">"],["\t\t       <TELL"],[["Str","\"Are you the little Dutch boy, then? Sorry, this is a big dam.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"With a \""]," D ,",["Id","PRSI"]," ",["Str","\"? Do you know how big this dam is? You could only"]],[["Str","stop a tiny leak with that.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","WITH-TELL"]," (",["Localid","OBJ"],")"],["\t <TELL ",["Str","\"With a \""]," D .",["Localid","OBJ"]," ",["Str","\"?\""]," CR>>"],[],["<ROUTINE ",["Iddef","RESERVOIR-SOUTH-FCN"]," (",["Localid","RARG"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <COND (<AND ,",["Id","LOW-TIDE"]," ,",["Id","GATES-OPEN"],">"],["\t\t      <TELL"],[["Str","\"You are in a long room, to the north of which was formerly a lake."]],[["Str","However, with the water level lowered, there is merely a wide stream"]],[["Str","running through the center of the room.\""],">)"],["\t\t     (,",["Id","GATES-OPEN"]],["\t\t      <TELL"],[["Str","\"You are in a long room. To the north is a large lake, too deep"]],[["Str","to cross. You notice, however, that the water level appears to be"]],[["Str","dropping at a rapid rate. Before long, it might be possible to cross"]],[["Str","to the other side from here.\""],">)"],["\t\t     (,",["Id","LOW-TIDE"]],["\t\t      <TELL"],[["Str","\"You are in a long room, to the north of which is a wide area which"]],[["Str","was formerly a reservoir, but now is merely a stream. You notice,"]],[["Str","however, that the level of the stream is rising quickly and that"]],[["Str","before long it will be impossible to cross here.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You are in a long room on the south shore of a large lake, far"]],[["Str","too deep and wide for crossing.\""],">)>"],["\t       <CRLF>"],["\t       <TELL"],[["Str","\"There is a path along the stream to the east or west, a steep pathway"]],[["Str","climbing southwest along the edge of a chasm, and a path leading into a"]],[["Str","canyon to the southeast.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","RESERVOIR-FCN"]," (",["Localid","RARG"],")"],["   \t<COND (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t    <NOT <FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>>"],["\t\t    <NOT ,",["Id","GATES-OPEN"],">"],["\t\t    ,",["Id","LOW-TIDE"],">"],["\t       <TELL"],[["Str","\"You notice that the water level here is rising rapidly. The currents"]],[["Str","are also becoming stronger. Staying here seems quite perilous!\""]," CR>)"],["\t      (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <COND (,",["Id","LOW-TIDE"]],["\t\t      <TELL"],[["Str","\"You are on what used to be a large lake, but which is now a large"]],[["Str","mud pile. There are \\\"shores\\\" to the north and south.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You are on the lake. Beaches can be seen north and south."]],[["Str","Upstream a small stream enters the lake through a narrow cleft"]],[["Str","in the rocks. The dam can be seen downstream.\""],">)>"],["\t       <CRLF>)>>"],[],["<ROUTINE ",["Iddef","RESERVOIR-NORTH-FCN"]," (",["Localid","RARG"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <COND (<AND ,",["Id","LOW-TIDE"]," ,",["Id","GATES-OPEN"],">"],["\t\t      <TELL"],[["Str","\"You are in a large cavernous room, the south of which was formerly"]],[["Str","a lake. However, with the water level lowered, there is merely"]],[["Str","a wide stream running through there.\""],">)"],["\t\t     (,",["Id","GATES-OPEN"]],["\t\t      <TELL"],[["Str","\"You are in a large cavernous area. To the south is a wide lake,"]],[["Str","whose water level appears to be falling rapidly.\""],">)"],["\t\t     (,",["Id","LOW-TIDE"]],["\t\t      <TELL"],[["Str","\"You are in a cavernous area, to the south of which is a very wide"]],[["Str","stream. The level of the stream is rising rapidly, and it appears"]],[["Str","that before long it will be impossible to cross to the other side.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You are in a large cavernous room, north of a large lake.\""],">)>"],["\t       <CRLF>"],["\t       <TELL"],[["Str","\"There is a slimy stairway leaving the room to the north.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE WATER, WATER EVERYWHERE...\""]],[],["<ROUTINE ",["Iddef","BOTTLE-FUNCTION"]," (",["Str","\"AUX\""]," (",["Localid","E?"]," <>))"],["  <COND (<AND <VERB? THROW> <==? ,",["Id","PRSO"]," ,",["Id","BOTTLE"],">>"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t <SET ",["Localid","E?"]," T>"],["\t <TELL ",["Str","\"The bottle hits the far wall and shatters.\""]," CR>)"],["\t(<VERB? MUNG>"],["\t <SET ",["Localid","E?"]," T>"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t <TELL ",["Str","\"A brilliant maneuver destroys the bottle.\""]," CR>)"],["\t(<VERB? SHAKE>"],["\t <COND (<AND <FSET? ,",["Id","PRSO"]," ,OPENBIT> <IN? ,",["Id","WATER"]," ,",["Id","PRSO"],">>"],["\t\t<SET ",["Localid","E?"]," T>)>)>"],["  <COND (<AND .",["Localid","E?"]," <IN? ,",["Id","WATER"]," ,",["Id","PRSO"],">>"],["\t <TELL ",["Str","\"The water spills to the floor and evaporates.\""]," CR>"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","WATER"],">"],["\t T)"],["\t(.",["Localid","E?"]," <RTRUE>)>>"],[],["\\"],[],[["Str","\"SUBTITLE CYCLOPS\""]],[],["<GLOBAL ",["Iddef","CYCLOWRATH"]," 0>"],[],["<ROUTINE ",["Iddef","CYCLOPS-FCN"]," (",["Str","\"AUX\""]," ",["Localid","COUNT"],")"],["\t<SET ",["Localid","COUNT"]," ,",["Id","CYCLOWRATH"],">"],["\t<COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","CYCLOPS"],">"],["\t       <COND (,",["Id","CYCLOPS-FLAG"]],["\t\t      <TELL ",["Str","\"No use talking to him. He's fast asleep.\""]," CR>)"],["\t\t     (<VERB? ODYSSEUS>"],["\t\t      <SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t\t      <",["Id","PERFORM"]," ,V?ODYSSEUS>"],["\t\t      <RTRUE>)"],["\t\t     (ELSE"],["\t\t      <TELL"],[["Str","\"The cyclops prefers eating to making conversation.\""]," CR>)>)"],["\t      (,",["Id","CYCLOPS-FLAG"]],["\t       <COND (<VERB? EXAMINE>"],["\t\t      <TELL"],[["Str","\"The cyclops is sleeping like a baby, albeit a very ugly one.\""]," CR>)"],["\t\t     (<VERB? ALARM KICK ATTACK BURN MUNG>"],["\t\t      <TELL"],[["Str","\"The cyclops yawns and stares at the thing that woke him up.\""]," CR>"],["\t\t      <SETG ",["Id","CYCLOPS-FLAG"]," <>>"],["\t\t      <FSET ,",["Id","CYCLOPS"]," ,FIGHTBIT>"],["\t\t      <COND (<L? .",["Localid","COUNT"]," 0>"],["\t\t\t     <SETG ",["Id","CYCLOWRATH"]," <- .",["Localid","COUNT"],">>)"],["\t\t\t    (T"],["\t\t\t     <SETG ",["Id","CYCLOWRATH"]," .",["Localid","COUNT"],">)>)>)"],["\t      (<VERB? EXAMINE>"],["\t       <TELL"],[["Str","\"A hungry cyclops is standing at the foot of the stairs.\""]," CR>)"],["\t      (<AND <VERB? GIVE> <EQUAL? ,",["Id","PRSI"]," ,",["Id","CYCLOPS"],">>"],["\t       <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","LUNCH"],">"],["\t\t      <COND (<NOT <L? .",["Localid","COUNT"]," 0>>"],["\t\t\t     <",["Id","REMOVE-CAREFULLY"]," ,",["Id","LUNCH"],">"],["\t\t\t     <TELL"],[["Str","\"The cyclops says \\\"Mmm Mmm. I love hot peppers! But oh, could I use"]],[["Str","a drink. Perhaps I could drink the blood of that thing.\\\"  From the"]],[["Str","gleam in his eye, it could be surmised that you are \\\"that thing\\\".\""]," CR>"],["\t\t\t     <SETG ",["Id","CYCLOWRATH"]," <",["Id","MIN"]," -1 <- .",["Localid","COUNT"],">>>)>"],["\t\t      <ENABLE <",["Id","QUEUE"]," ",["Id","I-CYCLOPS"]," -1>>)"],["\t\t     (<OR <EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t\t  <AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","BOTTLE"],">"],["\t\t\t       <IN? ,",["Id","WATER"]," ,",["Id","BOTTLE"],">>>"],["\t\t      <COND (<L? .",["Localid","COUNT"]," 0>"],["\t\t\t     <",["Id","REMOVE-CAREFULLY"]," ,",["Id","WATER"],">"],["\t\t\t     <MOVE ,",["Id","BOTTLE"]," ,",["Id","HERE"],">"],["\t\t\t     <FSET ,",["Id","BOTTLE"]," ,OPENBIT>"],["\t\t\t     <FCLEAR ,",["Id","CYCLOPS"]," ,FIGHTBIT>"],["\t\t\t     <TELL"],[["Str","\"The cyclops takes the bottle, checks that it's open, and drinks the water."]],[["Str","A moment later, he lets out a yawn that nearly blows you over, and then"]],[["Str","falls fast asleep (what did you put in that drink, anyway?).\""]," CR>"],["\t\t\t     <SETG ",["Id","CYCLOPS-FLAG"]," T>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"The cyclops apparently is not thirsty and refuses your generous offer.\""]," CR>)>)"],["\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","GARLIC"],">"],["\t\t      <TELL"],[["Str","\"The cyclops may be hungry, but there is a limit.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The cyclops is not so stupid as to eat THAT!\""]," CR>)>)"],["\t      (<VERB? THROW ATTACK MUNG>"],["\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-CYCLOPS"]," -1>>"],["\t       <COND (<VERB? MUNG>"],["\t\t      <TELL"],[["Str","\"\\\"Do you think I'm as stupid as my father was?\\\", he says, dodging.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The cyclops shrugs but otherwise ignores your pitiful attempt.\""]," CR>"],["\t\t      <COND (<VERB? THROW>"],["\t\t\t     <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">)>"],["\t\t      <RTRUE>)>)"],["\t      (<VERB? TAKE>"],["\t       <TELL"],[["Str","\"The cyclops doesn't take kindly to being grabbed.\""]," CR>)"],["\t      (<VERB? TIE>"],["\t       <TELL"],[["Str","\"You cannot tie the cyclops, though he is fit to be tied.\""]," CR>)"],["\t      (<VERB? LISTEN>"],["\t       <TELL"],[["Str","\"You can hear his stomach rumbling.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","I-CYCLOPS"]," ()"],["\t <COND (<OR ,",["Id","CYCLOPS-FLAG"]," ,",["Id","DEAD"],"> <RTRUE>)"],["\t       (<NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","CYCLOPS-ROOM"],">>"],["\t\t<DISABLE <",["Id","INT"]," ",["Iddef","I-CYCLOPS"],">>)"],["\t       (T"],["\t\t<COND (<G? <ABS ,",["Id","CYCLOWRATH"],"> 5>"],["\t\t       <DISABLE <",["Id","INT"]," ",["Iddef","I-CYCLOPS"],">>"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"The cyclops, tired of all of your games and trickery, grabs you firmly."]],[["Str","As he licks his chops, he says \\\"Mmm. Just like Mom used to make 'em.\\\""]],[["Str","It's nice to be appreciated.\""],">)"],["\t\t      (T"],["\t\t       <COND (<L? ,",["Id","CYCLOWRATH"]," 0>"],["\t\t\t      <SETG ",["Id","CYCLOWRATH"]," <- ,",["Id","CYCLOWRATH"]," 1>>)"],["\t\t\t     (T"],["\t\t\t      <SETG ",["Id","CYCLOWRATH"]," <+ ,",["Id","CYCLOWRATH"]," 1>>)>"],["\t\t       <COND (<NOT ,",["Id","CYCLOPS-FLAG"],">"],["\t\t\t      <TELL <NTH ,",["Id","CYCLOMAD"]," <- <ABS ,",["Id","CYCLOWRATH"],"> 1>>"],["\t\t\t\t    CR>)>)>)>>"],[],["<ROUTINE ",["Iddef","CYCLOPS-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t<COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t       <TELL"],[["Str","\"This room has an exit on the northwest, and a staircase leading up.\""]," CR>"],["\t       <COND (<AND ,",["Id","CYCLOPS-FLAG"]," <NOT ,",["Id","MAGIC-FLAG"],">>"],["\t\t      <TELL"],[["Str","\"The cyclops is sleeping blissfully at the foot of the stairs.\""]," CR>)"],["\t\t     (,",["Id","MAGIC-FLAG"]],["\t\t      <TELL"],[["Str","\"The east wall, previously solid, now has a cyclops-sized opening in it.\""]," CR>)"],["\t\t     (<0? ,",["Id","CYCLOWRATH"],">"],["\t\t      <TELL"],[["Str","\"A cyclops, who looks prepared to eat horses (much less mere"]],[["Str","adventurers), blocks the staircase. From his state of health, and"]],[["Str","the bloodstains on the walls, you gather that he is not very"]],[["Str","friendly, though he likes people.\""]," CR>)"],["\t\t     (<G? ,",["Id","CYCLOWRATH"]," 0>"],["\t\t      <TELL"],[["Str","\"The cyclops is standing in the corner, eyeing you closely. I don't"]],[["Str","think he likes you very much. He looks extremely hungry, even for a"]],[["Str","cyclops.\""]," CR>)"],["\t\t     (<L? ,",["Id","CYCLOWRATH"]," 0>"],["\t\t      <TELL"],[["Str","\"The cyclops, having eaten the hot peppers, appears to be gasping."]],[["Str","His enflamed tongue protrudes from his man-sized mouth.\""]," CR>)>)"],["\t      (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t       <OR <0? ,",["Id","CYCLOWRATH"],"> <ENABLE <",["Id","INT"]," ",["Id","I-CYCLOPS"],">>>)>>"],[],["<GLOBAL ",["Iddef","CYCLOMAD"]],["\t<TABLE"],["\t  ",["Str","\"The cyclops seems somewhat agitated.\""]],["\t  ",["Str","\"The cyclops appears to be getting more agitated.\""]],["\t  ",["Str","\"The cyclops is moving about the room, looking for something.\""]],["\t  ",["Str","\"The cyclops was looking for salt and pepper. No doubt they are"]],[["Str","condiments for his upcoming snack.\""]],["\t  ",["Str","\"The cyclops is moving toward you in an unfriendly manner.\""]],["\t  ",["Str","\"You have two choices: 1. Leave  2. Become dinner.\""],">>"],[],["\\"],[],[["Str","\"SUBTITLE LOUD LOUD LOUD\""]],[],["<GLOBAL ",["Iddef","LOUD-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","LOUD-ROOM-FCN"]," (",["Localid","RARG"]," ",["Str","\"AUX\""]," ",["Localid","WRD"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a large room with a ceiling which cannot be detected from"]],[["Str","the ground. There is a narrow passage from east to west and a stone"]],[["Str","stairway leading upward.\""],">"],["\t\t<COND (<OR ,",["Id","LOUD-FLAG"]],["\t\t\t   <AND <NOT ,",["Id","GATES-OPEN"],"> ,",["Id","LOW-TIDE"],">>"],["\t\t       <TELL ",["Str","\" The room is eerie in its quietness.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\" The room is deafeningly loud with an"]],[["Str","undetermined rushing sound. The sound seems to reverberate from all"]],[["Str","of the walls, making it difficult even to think.\""],">)>"],["\t\t<CRLF>)"],["\t       (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],"> ,",["Id","GATES-OPEN"]," <NOT ,",["Id","LOW-TIDE"],">>"],["\t\t<TELL"],[["Str","\"It is unbearably loud here, with an ear-splitting roar seeming to"]],[["Str","come from all around you. There is a pounding in your head which won't"]],[["Str","stop. With a tremendous effort, you scramble out of the room.\""]," CR CR>"],["\t\t<",["Id","GOTO"]," <",["Id","PICK-ONE"]," ,",["Id","LOUD-RUNS"],">>"],["\t\t<RFALSE>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t<COND (<OR ,",["Id","LOUD-FLAG"]],["\t\t\t   <AND <NOT ,",["Id","GATES-OPEN"],"> ,",["Id","LOW-TIDE"],">>"],["\t\t       <RFALSE>)"],["\t\t      (<AND ,",["Id","GATES-OPEN"]," <NOT ,",["Id","LOW-TIDE"],">>"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <",["Id","V-FIRST-LOOK"],">"],["\t\t       <COND (,",["Id","P-CONT"]],["\t\t\t      <TELL"],[["Str","\"The rest of your commands have been lost in the noise.\""]," CR>"],["\t\t\t      <SETG ",["Id","P-CONT"]," <>>)>"],["\t\t       <REPEAT ()"],["\t\t\t       <CRLF>"],["\t\t\t       <TELL ",["Str","\">\""],">"],["\t\t\t       <READ ,",["Id","P-INBUF"]," ,",["Id","P-LEXV"],">"],["\t\t\t       <COND (<0? <GETB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"],">>"],["\t\t\t              <TELL ",["Str","\"I beg your pardon?\""]," CR>"],["\t\t\t\t      <AGAIN>)>"],["\t\t\t       <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," 1>>"],["\t\t\t       <COND (<EQUAL? .",["Localid","WRD"]," ,W?GO ,W?WALK ,W?RUN>"],["\t\t\t\t      <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," 3>>)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?SAY>"],["\t\t\t\t      <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," 5>>)>"],["\t\t\t       <COND (<EQUAL? .",["Localid","WRD"]," ,W?SAVE>"],["\t\t\t\t      <",["Id","V-SAVE"],">)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?RESTORE>"],["\t\t\t\t      <",["Id","V-RESTORE"],">)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?Q ,W?QUIT>"],["\t\t\t\t      <",["Id","V-QUIT"],">)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?W ,W?WEST>"],["\t\t\t\t      <RETURN <",["Id","GOTO"]," ,",["Id","ROUND-ROOM"],">>)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?E ,W?EAST>"],["\t\t\t\t      <RETURN <",["Id","GOTO"]," ,",["Id","DAMP-CAVE"],">>)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?U ,W?UP>"],["\t\t\t\t      <RETURN <",["Id","GOTO"]," ,",["Id","DEEP-CANYON"],">>)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?BUG>"],["\t\t\t\t      <TELL ",["Str","\"That's only your opinion.\""]," CR>)"],["\t\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?ECHO>"],["\t\t\t\t      <SETG ",["Id","LOUD-FLAG"]," T>"],["\t\t\t\t      <FCLEAR ,",["Id","BAR"]," ,SACREDBIT>"],["\t\t\t\t      <TELL"],[["Str","\"The acoustics of the room change subtly.\""]," CR CR>"],["\t\t\t\t      <RETURN>)"],["\t\t\t\t     ",["Comment",";(,DEAD <CRLF>)"]],["\t\t\t\t     (T"],["\t\t\t\t      <",["Id","V-ECHO"],">)>>)>)>>"],[],["<ROUTINE ",["Iddef","DEEP-CANYON-F"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are on the south edge of a deep canyon. Passages lead off to the"]],[["Str","east, northwest and southwest. A stairway leads down.\""],">"],["\t\t<COND (<AND ,",["Id","GATES-OPEN"]," <NOT ,",["Id","LOW-TIDE"],">>"],["\t\t       <TELL"],[["Str","\" You can hear a loud roaring sound, like that of rushing water, from"]],[["Str","below.\""],">)"],["\t\t      (<AND <NOT ,",["Id","GATES-OPEN"],"> ,",["Id","LOW-TIDE"],">"],["\t\t       <CRLF>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\" You can hear the sound of flowing water from below.\""],">)>"],["\t\t<CRLF>)>>"],[],[],["<GLOBAL ",["Iddef","EGG-SOLVE"]," <>>"],[],["\\"],[],[["Str","\"SUBTITLE A SEEDY LOOKING GENTLEMAN...\""]],[],["<GLOBAL ",["Iddef","THIEF-HERE"]," <>>"],[],[["Comment",";\"I-THIEF moved to DEMONS\""]],[],["\\"],[],[["Str","\"SUBTITLE THINGS THIEF MIGHT DO\""]],[],[["Str","\"INTERACTION WITH ADVENTURER -- RETURNS T IF THIEF FINISHED.\""]],[],["<ROUTINE ",["Iddef","THIEF-VS-ADVENTURER"]," (",["Localid","HERE?"]," ",["Str","\"AUX\""]," ",["Localid","ROBBED?"]," (",["Localid","WINNER-ROBBED?"]," <>))"],["  <COND (<AND <NOT ,",["Id","DEAD"],"> <EQUAL? ,",["Id","HERE"]," ,",["Id","TREASURE-ROOM"],">>)"],["        (<NOT ,",["Id","THIEF-HERE"],">"],["         <COND (<AND <NOT ,",["Id","DEAD"],"> <NOT .",["Localid","HERE?"],"> <PROB 30>>"],["\t        <COND (<IN? ,",["Id","STILETTO"]," ,",["Id","THIEF"],">"],["\t\t       <FCLEAR ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t       <TELL"],[["Str","\"Someone carrying a large bag is casually leaning against one of the"]],[["Str","walls here. He does not speak, but it is clear from his aspect that"]],[["Str","the bag will be taken only over his dead body.\""]," CR>"],["\t\t       <SETG ",["Id","THIEF-HERE"]," T>"],["\t\t       <RTRUE>)"],["\t\t      (<IN? ,",["Id","STILETTO"]," ,",["Id","WINNER"],">"],["\t\t       <MOVE ,",["Id","STILETTO"]," ,",["Id","THIEF"],">"],["\t\t       <FSET ,",["Id","STILETTO"]," ,NDESCBIT>"],["\t\t       <FCLEAR ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t       <TELL"],[["Str","\"You feel a light finger-touch, and turning, notice a grinning figure"]],[["Str","holding a large bag in one hand and a stiletto in the other.\""],">"],["\t\t       <SETG ",["Id","THIEF-HERE"]," T>"],["\t\t       <RTRUE>)>)"],["\t       (<AND .",["Localid","HERE?"]],["\t\t     <FSET? ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t     <NOT <",["Id","WINNING?"]," ,",["Id","THIEF"],">>>"],["\t\t<TELL"],[["Str","\"Your opponent, determining discretion to be the better part of"]],[["Str","valor, decides to terminate this little contretemps. With a rueful"]],[["Str","nod of his head, he steps backward into the gloom and disappears.\""]," CR>"],["\t\t<FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t<FCLEAR ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t<",["Id","RECOVER-STILETTO"],">"],["\t\t<RTRUE>)"],["\t       (<AND .",["Localid","HERE?"]," <FSET? ,",["Id","THIEF"]," ,FIGHTBIT> <PROB 90>>"],["\t\t<RFALSE>)"],["\t       (<AND .",["Localid","HERE?"]," <PROB 30>>"],["\t        <TELL"],[["Str","\"The holder of the large bag just left, looking disgusted."]],[["Str","Fortunately, he took nothing.\""]," CR>"],["\t\t<FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t<",["Id","RECOVER-STILETTO"],">"],["\t        <RTRUE>)"],["\t       (<PROB 70> <RFALSE>)"],["\t       (<NOT ,",["Id","DEAD"],">"],["\t\t<COND (<",["Id","ROB"]," ,",["Id","HERE"]," ,",["Id","THIEF"]," 100> <SET ",["Localid","ROBBED?"]," T>)"],["\t\t      (<",["Id","ROB"]," ,",["Id","WINNER"]," ,",["Id","THIEF"],">"],["\t\t       <SET ",["Localid","ROBBED?"]," T>"],["\t\t       <SET ",["Localid","WINNER-ROBBED?"]," T>)>"],["\t\t<SETG ",["Id","THIEF-HERE"]," T>"],["\t        <COND (<AND .",["Localid","ROBBED?"]," <NOT .",["Localid","HERE?"],">>"],["\t\t       <TELL"],[["Str","\"A seedy-looking individual with a large bag just wandered through"]],[["Str","the room. On the way through, he quietly abstracted some valuables"]],[["Str","from the room and from your possession, mumbling something about"]],[["Str","\\\"Doing unto others before...\\\"\""]," CR>"],["\t\t       <",["Id","STOLE-LIGHT?"],">)"],["\t\t      (.",["Localid","HERE?"]],["\t\t       <",["Id","RECOVER-STILETTO"],">"],["\t\t       <COND (.",["Localid","ROBBED?"]],["\t\t\t      <TELL"],[["Str","\"The thief just left, still carrying his large bag. You may"]],[["Str","not have noticed that he \""],">"],["\t\t\t      <COND (.",["Localid","WINNER-ROBBED?"]],["\t\t\t\t     <TELL"],[["Str","\"robbed you blind first.\""],">)"],["\t\t\t\t    (T <TELL"],[["Str","\"appropriated the valuables in the room.\""],">)>"],["\t\t\t      <CRLF>"],["\t\t\t      <",["Id","STOLE-LIGHT?"],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The thief, finding nothing of value, left disgusted.\""]," CR>)>"],["\t\t       <FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t       <SET ",["Localid","HERE?"]," <>>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"A \\\"lean and hungry\\\" gentleman just wandered through, carrying a"]],[["Str","large bag. Finding nothing of value, he left disgruntled.\""]," CR>"],["\t\t       <RTRUE>)>)>)"],["\t(T"],["\t <COND (.",["Localid","HERE?"],"\t\t\t",["Comment",";\"Here, already announced.\""]],["\t\t<COND (<PROB 30>"],["\t\t       <COND (<SET ",["Localid","ROBBED?"]],["\t\t\t\t   <OR <",["Id","ROB"]," ,",["Id","HERE"]," ,",["Id","THIEF"]," 100>"],["\t\t\t\t       <",["Id","ROB"]," ,",["Id","WINNER"]," ,",["Id","THIEF"],">>>"],["\t\t\t      <TELL"],[["Str","\"The thief just left, still carrying his large bag. You may"]],[["Str","not have noticed that he robbed you blind first.\""]," CR>"],["\t\t\t      <",["Id","STOLE-LIGHT?"],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The thief, finding nothing of value, left disgusted.\""]," CR>)>"],["\t\t       <FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t       <SET ",["Localid","HERE?"]," <>>"],["\t\t       <",["Id","RECOVER-STILETTO"],">)>)>)>"],["       <RFALSE>>"],[],["<ROUTINE ",["Iddef","STOLE-LIGHT?"]," (",["Str","\"AUX\""]," ",["Localid","OLD-LIT"],")"],["\t <SET ",["Localid","OLD-LIT"]," ,",["Id","LIT"],">"],["\t <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t <COND (<AND <NOT ,",["Id","LIT"],"> .",["Localid","OLD-LIT"],">"],["\t\t<TELL ",["Str","\"The thief seems to have left you in the dark.\""]," CR>)>"],["\t <RTRUE>>"],[],[["Str","\"SNARF STILETTO IF DROPPED IT\""]],[],[["Comment",";\"RECOVER-STILETTO moved to DEMONS\""]],[],[["Str","\"PUT HIS BOOTY IN TREASURE ROOM\""]],[],["<ROUTINE ",["Iddef","HACK-TREASURES"]," (",["Str","\"AUX\""]," ",["Localid","X"],")"],["\t <",["Id","RECOVER-STILETTO"],">"],["\t <FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t <SET ",["Localid","X"]," <FIRST? ,",["Id","TREASURE-ROOM"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RETURN>)"],["\t\t       (T <FCLEAR .",["Localid","X"]," ,INVISIBLE>)>"],["\t\t <SET ",["Localid","X"]," <NEXT? .",["Localid","X"],">>>>"],[],["<ROUTINE ",["Iddef","DEPOSIT-BOOTY"]," (",["Localid","RM"]," ",["Str","\"AUX\""]," ",["Localid","X"]," ",["Localid","N"]," (",["Localid","FLG"]," <>))"],["\t <SET ",["Localid","X"]," <FIRST? ,",["Id","THIEF"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RETURN .",["Localid","FLG"],">)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t <COND (<EQUAL? .",["Localid","X"]," ,",["Id","STILETTO"]," ,",["Id","LARGE-BAG"],">)"],["\t\t       (<G? <GETP .",["Localid","X"]," ,P?TVALUE> 0>"],["\t\t\t<MOVE .",["Localid","X"]," .",["Localid","RM"],">"],["\t\t\t<SET ",["Localid","FLG"]," T>"],["\t\t\t<COND (<EQUAL? .",["Localid","X"]," ,",["Id","EGG"],">"],["\t\t\t       <SETG ",["Id","EGG-SOLVE"]," T>"],["\t\t\t       <FSET ,",["Id","EGG"]," ,OPENBIT>)>)>"],["\t\t <SET ",["Localid","X"]," .",["Localid","N"],">>>"],[],[["Str","\"TAKE ALL OF THE VALUABLES SOMEWHERE AND PUT THEM SOMEWHERE ELSE\""]],[],[["Str","\"MOVED TO DEMONS\""]],[],[["Str","\"ROB MAZE\""]],[],["<ROUTINE ",["Iddef","ROB-MAZE"]," (",["Localid","RM"]," ",["Str","\"AUX\""]," ",["Localid","X"]," ",["Localid","N"],")"],["\t <SET ",["Localid","X"]," <FIRST? .",["Localid","RM"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RFALSE>)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t <COND (<AND <FSET? .",["Localid","X"]," ,TAKEBIT>"],["\t\t\t     <NOT <FSET? .",["Localid","X"]," ,INVISIBLE>>"],["\t\t\t     <PROB 40>>"],["\t\t\t<TELL"],[["Str","\"You hear, off in the distance, someone saying \\\"My, I wonder what"]],[["Str","this fine \""]," D .",["Localid","X"]," ",["Str","\" is doing here.\\\"\""]," CR>"],["\t\t\t<COND (<PROB 60 80>"],["\t\t\t       <MOVE .",["Localid","X"]," ,",["Id","THIEF"],">"],["\t\t\t       <FSET .",["Localid","X"]," ,TOUCHBIT>"],["\t\t\t       <FSET .",["Localid","X"]," ,INVISIBLE>)>"],["\t\t\t<RETURN>)>"],["\t\t <SET ",["Localid","X"]," .",["Localid","N"],">>>"],[],[["Str","\"STEAL SOME JUNK - moved to DEMONS\""]],[],[["Str","\"DROP SOME JUNK - moved to DEMONS\""]],[],[],[],["\\"],[],[["Str","\"ROBBER-FUNCTION -- more prosaic thiefly occupations\""]],[],["<GLOBAL ",["Iddef","THIEF-ENGROSSED"]," <>>"],[],["<ROUTINE ",["Iddef","ROBBER-FUNCTION"]," (",["Str","\"OPTIONAL\""]," (",["Localid","MODE"]," <>) ",["Str","\"AUX\""]," (",["Localid","FLG"]," <>) ",["Localid","X"]," ",["Localid","N"],")"],["\t <COND (<VERB? TELL>"],["\t\t<TELL ",["Str","\"The thief is a strong, silent type.\""]," CR>"],["\t\t<SETG ",["Id","P-CONT"]," <>>)"],["\t       (<NOT .",["Localid","MODE"],">"],["\t\t<COND (<AND <VERB? HELLO>"],["\t\t\t    <EQUAL? <GETP ,",["Id","THIEF"]," ,P?LDESC> ,",["Id","ROBBER-U-DESC"],">>"],["\t\t       <TELL"],[["Str","\"The thief, being temporarily incapacitated, is unable to acknowledge"]],[["Str","your greeting with his usual graciousness.\""]," CR>)"],["\t\t      (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","KNIFE"],">"],["\t\t\t    <VERB? THROW>"],["\t\t\t    <NOT <FSET? ,",["Id","THIEF"]," ,FIGHTBIT>>>"],["\t\t       <COND (<PROB 10 0>"],["\t\t\t      <TELL"],[["Str","\"You evidently frightened the robber, though you didn't hit him. He"]],[["Str","flees\""],">"],["\t\t\t      <COND (<SET ",["Localid","X"]," <FIRST? ,",["Id","THIEF"],">>"],["\t\t\t\t     <",["Id","MOVE-ALL"]," ,",["Id","THIEF"]," ,",["Id","HERE"],">"],["\t\t\t\t     <TELL"],[["Str","\", but the contents of his bag fall on the floor.\""],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL ",["Str","\".\""],">)>"],["\t\t\t      <CRLF>"],["\t\t\t      <FSET ,",["Id","THIEF"]," ,INVISIBLE>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You missed. The thief makes no attempt to take the knife, though it"]],[["Str","would be a fine addition to the collection in his bag. He does seem"]],[["Str","angered by your attempt.\""]," CR>"],["\t\t\t      <FSET ,",["Id","THIEF"]," ,FIGHTBIT>)>)"],["\t\t      (<AND <VERB? THROW GIVE>"],["\t\t\t    ,",["Id","PRSO"]],["\t\t\t    <NOT <EQUAL? ,",["Id","PRSO"]," ,",["Id","THIEF"],">>"],["\t\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","THIEF"],">>"],["\t\t       <COND (<L? <GETP ,",["Id","THIEF"]," ,P?STRENGTH> 0>"],["\t\t\t      <PUTP ,",["Id","THIEF"]],["\t\t\t\t    ,P?STRENGTH"],["\t\t\t\t    <- <GETP ,",["Id","THIEF"]," ,P?STRENGTH>>>"],["\t\t\t      <ENABLE <",["Id","INT"]," ",["Id","I-THIEF"],">>"],["\t\t\t      <",["Id","RECOVER-STILETTO"],">"],["\t\t\t      <PUTP ,",["Id","THIEF"]," ,P?LDESC ,",["Id","ROBBER-C-DESC"],">"],["\t\t\t      <TELL"],[["Str","\"Your proposed victim suddenly recovers consciousness.\""]," CR>)>"],["\t\t       <MOVE ,",["Id","PRSO"]," ,",["Id","THIEF"],">"],["\t\t       <COND (<G? <GETP ,",["Id","PRSO"]," ,P?TVALUE> 0>"],["\t\t\t      <SETG ",["Id","THIEF-ENGROSSED"]," T>"],["\t\t\t      <TELL"],[["Str","\"The thief is taken aback by your unexpected generosity, but accepts"]],[["Str","the \""]," D ,",["Id","PRSO"]," ",["Str","\" and stops to admire its beauty.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The thief places the \""]," D ,",["Id","PRSO"]," ",["Str","\" in his bag and thanks"]],[["Str","you politely.\""]," CR>)>)"],["\t\t      (<VERB? TAKE>"],["\t\t       <TELL"],[["Str","\"Once you got him, what would you do with him?\""]," CR>)"],["\t\t      (<VERB? EXAMINE LOOK-INSIDE>"],["\t\t       <TELL"],[["Str","\"The thief is a slippery character with beady eyes that flit back"]],[["Str","and forth. He carries, along with an unmistakable arrogance, a large bag"]],[["Str","over his shoulder and a vicious stiletto, whose blade is aimed"]],[["Str","menacingly in your direction. I'd watch out if I were you.\""]," CR>)"],["\t\t      (<VERB? LISTEN>"],["\t\t       <TELL"],[["Str","\"The thief says nothing, as you have not been formally introduced.\""]," CR>)>)"],["\t       (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-BUSY?"],">"],["\t\t<COND (<IN? ,",["Id","STILETTO"]," ,",["Id","THIEF"],"> <>)"],["\t\t      (<IN? ,",["Id","STILETTO"]," <LOC ,",["Id","THIEF"],">>"],["\t\t       <MOVE ,",["Id","STILETTO"]," ,",["Id","THIEF"],">"],["\t\t       <FSET ,",["Id","STILETTO"]," ,NDESCBIT>"],["\t\t       <COND (<IN? ,",["Id","THIEF"]," ,",["Id","HERE"],">"],["\t\t\t      <TELL"],[["Str","\"The robber, somewhat surprised at this turn of events, nimbly"]],[["Str","retrieves his stiletto.\""]," CR>)>"],["\t\t       T)>)"],["\t       (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-DEAD"],">"],["\t\t<MOVE ,",["Id","STILETTO"]," ,",["Id","HERE"],">"],["\t\t<FCLEAR ,",["Id","STILETTO"]," ,NDESCBIT>"],["\t\t<SET ",["Localid","X"]," <",["Id","DEPOSIT-BOOTY"]," ,",["Id","HERE"],">>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","TREASURE-ROOM"],">"],["\t\t       <SET ",["Localid","X"]," <FIRST? ,",["Id","HERE"],">>"],["\t\t       <REPEAT ()"],["\t\t\t       <COND"],["\t\t\t\t(<NOT .",["Localid","X"],">"],["\t\t\t\t <TELL ",["Str","\"The chalice is now safe to take.\""]," CR>"],["\t\t\t\t <RETURN>)"],["\t\t\t\t(<NOT <EQUAL? .",["Localid","X"]," ,",["Id","CHALICE"]," ,",["Id","THIEF"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t <FCLEAR .",["Localid","X"]," ,INVISIBLE>"],["\t\t\t\t <COND (<NOT .",["Localid","FLG"],">"],["\t\t\t\t\t<SET ",["Localid","FLG"]," T>"],["\t\t\t\t\t<TELL"],[["Str","\"As the thief dies, the power of his magic decreases, and his"]],[["Str","treasures reappear:\""]," CR>)>"],["\t\t\t\t <TELL ",["Str","\"  A \""]," D .",["Localid","X"],">"],["\t\t\t\t <COND (<AND <FIRST? .",["Localid","X"],">"],["\t\t\t\t\t     <",["Id","SEE-INSIDE?"]," .",["Localid","X"],">>"],["\t\t\t\t\t<TELL ",["Str","\", with \""],">"],["\t\t\t\t\t<",["Id","PRINT-CONTENTS"]," .",["Localid","X"],">)>"],["\t\t\t\t <CRLF>)>"],["\t\t\t       <SET ",["Localid","X"]," <NEXT? .",["Localid","X"],">>>)"],["\t\t      (.",["Localid","X"]],["\t\t       <TELL ",["Str","\"His booty remains.\""]," CR>)>"],["\t\t<DISABLE <",["Id","INT"]," ",["Id","I-THIEF"],">>)"],["\t       (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-FIRST?"],">"],["\t\t<COND (<AND ,",["Id","THIEF-HERE"]],["\t\t\t    <NOT <FSET? ,",["Id","THIEF"]," ,INVISIBLE>>"],["\t\t\t    <PROB 20>>"],["\t\t       <FSET ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t       <SETG ",["Id","P-CONT"]," <>>"],["\t\t       T)>)"],["\t       (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-UNCONSCIOUS"],">"],["\t\t<DISABLE <",["Id","INT"]," ",["Id","I-THIEF"],">>"],["\t\t<FCLEAR ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t<MOVE ,",["Id","STILETTO"]," ,",["Id","HERE"],">"],["\t\t<FCLEAR ,",["Id","STILETTO"]," ,NDESCBIT>"],["\t\t<PUTP ,",["Id","THIEF"]," ,P?LDESC ,",["Id","ROBBER-U-DESC"],">)"],["\t       (<EQUAL? .",["Localid","MODE"]," ,",["Id","F-CONSCIOUS"],">"],["\t\t<COND (<EQUAL? <LOC ,",["Id","THIEF"],"> ,",["Id","HERE"],">"],["\t\t       <FSET ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t       <TELL"],[["Str","\"The robber revives, briefly feigning continued unconsciousness, and,"]],[["Str","when he sees his moment, scrambles away from you.\""]," CR>)>"],["\t\t<ENABLE <",["Id","INT"]," ",["Id","I-THIEF"],">>"],["\t\t<PUTP ,",["Id","THIEF"]," ,P?LDESC ,",["Id","ROBBER-C-DESC"],">"],["\t\t<",["Id","RECOVER-STILETTO"],">)>>"],[],["<GLOBAL ",["Iddef","ROBBER-C-DESC"]],[["Str","\"There is a suspicious-looking individual, holding a bag, leaning"]],[["Str","against one wall. He is armed with a vicious-looking stiletto.\""],">"],[],["<GLOBAL ",["Iddef","ROBBER-U-DESC"]],[["Str","\"There is a suspicious-looking individual lying unconscious on the"]],[["Str","ground.\""],">"],[],["<ROUTINE ",["Iddef","LARGE-BAG-F"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<COND (<EQUAL? <GETP ,",["Id","THIEF"]," ,P?LDESC> ,",["Id","ROBBER-U-DESC"],">"],["\t\t       <TELL"],[["Str","\"Sadly for you, the robber collapsed on top of the bag. Trying to take"]],[["Str","it would wake him.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The bag will be taken over his dead body.\""]," CR>)>)"],["\t       (<AND <VERB? PUT>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","LARGE-BAG"],">>"],["\t\t<TELL ",["Str","\"It would be a good trick.\""]," CR>)"],["\t       (<VERB? OPEN CLOSE>"],["\t\t<TELL"],[["Str","\"Getting close enough would be a good trick.\""]," CR>)"],["\t       (<VERB? EXAMINE LOOK-INSIDE>"],["\t\t<TELL"],[["Str","\"The bag is underneath the thief, so one can't say what, if anything, is"]],[["Str","inside.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","MOVE-ALL"]," (",["Localid","FROM"]," ",["Localid","TO"]," ",["Str","\"AUX\""]," ",["Localid","X"]," ",["Localid","N"],")"],["\t <COND (<SET ",["Localid","X"]," <FIRST? .",["Localid","FROM"],">>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .",["Localid","X"],"> <RETURN>)>"],["\t\t\t<SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t\t<FCLEAR .",["Localid","X"]," ,INVISIBLE>"],["\t\t\t<MOVE .",["Localid","X"]," .",["Localid","TO"],">"],["\t\t\t<SET ",["Localid","X"]," .",["Localid","N"],">>)>>"],[],["<ROUTINE ",["Iddef","CHALICE-FCN"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<COND (<AND <IN? ,",["Id","PRSO"]," ,",["Id","TREASURE-ROOM"],">"],["\t\t\t    <IN? ,",["Id","THIEF"]," ,",["Id","TREASURE-ROOM"],">"],["\t\t\t    <FSET? ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t\t    <NOT <FSET? ,",["Id","THIEF"]," ,INVISIBLE>>"],["\t\t\t    <NOT <EQUAL? <GETP ,",["Id","THIEF"]," ,P?LDESC>"],["\t\t\t\t\t ,",["Id","ROBBER-U-DESC"],">>>"],["\t\t       <TELL"],[["Str","\"You'd be stabbed in the back first.\""]," CR>)>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,",["Id","PRSI"]," ,",["Id","CHALICE"],">>"],["\t\t<TELL"],[["Str","\"You can't. It's not a very good chalice, is it?\""]," CR>)"],["\t       (T <",["Id","DUMB-CONTAINER"],">)>>"],[],["<ROUTINE ",["Iddef","TREASURE-ROOM-FCN"]," (",["Localid","RARG"]," ",["Str","\"AUX\""]," (",["Localid","FLG"]," <>) ",["Localid","TL"],")"],["\t <COND (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t      <1? <GET <",["Id","INT"]," ",["Id","I-THIEF"],"> ,",["Id","C-ENABLED?"],">>"],["\t      <NOT ,",["Id","DEAD"],">>"],["\t <COND (<SET ",["Localid","FLG"]," <NOT <IN? ,",["Id","THIEF"]," ,",["Id","HERE"],">>>"],["\t\t<TELL"],[["Str","\"You hear a scream of anguish as you violate the robber's hideaway."]],[["Str","Using passages unknown to you, he rushes to its defense.\""]," CR>"],["\t\t<MOVE ,",["Id","THIEF"]," ,",["Id","HERE"],">"],["\t\t<FSET ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t<FCLEAR ,",["Id","THIEF"]," ,INVISIBLE>)"],["\t       (T"],["\t\t<FSET ,",["Id","THIEF"]," ,FIGHTBIT>)>"],["\t <",["Id","THIEF-IN-TREASURE"],">)>>"],[],["<ROUTINE ",["Iddef","THIEF-IN-TREASURE"]," (",["Str","\"AUX\""]," ",["Localid","F"]," ",["Localid","N"],")"],["\t <SET ",["Localid","F"]," <FIRST? ,",["Id","HERE"],">>"],["\t <COND (<AND .",["Localid","F"]," <NEXT? .",["Localid","F"],">>"],["\t\t<TELL"],[["Str","\"The thief gestures mysteriously, and the treasures in the room"]],[["Str","suddenly vanish.\""]," CR CR>)>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","F"],"> <RETURN>)"],["\t\t       (<AND <NOT <EQUAL? .",["Localid","F"]," ,",["Id","CHALICE"],">>"],["\t\t\t     <NOT <EQUAL? .",["Localid","F"]," ,",["Id","THIEF"],">>>"],["\t\t\t<FSET .",["Localid","F"]," ,INVISIBLE>)>"],["\t\t <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>>"],[],["<ROUTINE ",["Iddef","FRONT-DOOR-FCN"]," ()"],["\t <COND (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The door cannot be opened.\""]," CR>)"],["\t       (<VERB? BURN>"],["\t\t<TELL"],["\t\t ",["Str","\"You cannot burn this door.\""]," CR>)"],["\t       (<VERB? MUNG>"],["\t\t<TELL ",["Str","\"You can't seem to damage the door.\""]," CR>)"],["\t       (<VERB? LOOK-BEHIND>"],["\t\t<TELL ",["Str","\"It won't open.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE RANDOM FUNCTIONS\""]],[],["<ROUTINE ",["Iddef","BODY-FUNCTION"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"A force keeps you from taking the bodies.\""]," CR>)"],["\t       (<VERB? MUNG BURN>"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"The voice of the guardian of the dungeon booms out from the darkness,"]],[["Str","\\\"Your disrespect costs you your life!\\\" and places your head on a sharp"]],[["Str","pole.\""],">)>>"],[],["<ROUTINE ",["Iddef","BLACK-BOOK"]," ()"],["\t <COND (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The book is already open to page 569.\""]," CR>)"],["\t       (<VERB? CLOSE>"],["\t\t<TELL ",["Str","\"As hard as you try, the book cannot be closed.\""]," CR>)"],["\t       (<OR <VERB? TURN>"],["\t\t    <AND <VERB? READ-PAGE>"],["\t\t\t <EQUAL? ,",["Id","PRSI"]," ,",["Id","INTNUM"],">"],["\t\t\t <NOT <EQUAL? ,",["Id","P-NUMBER"]," 569>>>>"],["\t\t<TELL"],[["Str","\"Beside page 569, there is only one other page with any legible printing on"]],[["Str","it. Most of it is unreadable, but the subject seems to be the banishment of"]],[["Str","evil. Apparently, certain noises, lights, and prayers are efficacious in this"]],[["Str","regard.\""]," CR>)"],["\t       (<VERB? BURN>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"A booming voice says \\\"Wrong, cretin!\\\" and you notice that you have"]],[["Str","turned into a pile of dust. How, I can't imagine.\""],">)>>"],[],["<ROUTINE ",["Iddef","PAINTING-FCN"]," ()"],["\t <COND (<VERB? MUNG>"],["\t\t<PUTP ,",["Id","PRSO"]," ,P?TVALUE 0>"],["\t\t<PUTP ,",["Id","PRSO"]," ,P?LDESC"],[["Str","\"There is a worthless piece of canvas here.\""],">"],["\t\t<TELL"],[["Str","\"Congratulations! Unlike the other vandals, who merely stole the"]],[["Str","artist's masterpieces, you have destroyed one.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE LET THERE BE LIGHT SOURCES\""]],[],["<GLOBAL ",["Iddef","LAMP-TABLE"]],["\t<TABLE 100"],["\t       ",["Str","\"The lamp appears a bit dimmer.\""]],["\t       70"],["\t       ",["Str","\"The lamp is definitely dimmer now.\""]],["\t       15"],["\t       ",["Str","\"The lamp is nearly out.\""]],["\t       0>>"],[],["<ROUTINE ",["Iddef","LANTERN"]," ()"],["\t <COND (<VERB? THROW>"],["\t\t<TELL"],[["Str","\"The lamp has smashed into the floor, and the light has gone out.\""]," CR>"],["\t\t<DISABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","LAMP"],">"],["\t\t<MOVE ,",["Id","BROKEN-LAMP"]," ,",["Id","HERE"],">)"],["\t       (<VERB? LAMP-ON>"],["\t\t<COND (<FSET? ,",["Id","LAMP"]," ,RMUNGBIT>"],["\t\t       <TELL ",["Str","\"A burned-out lamp won't light.\""]," CR>)"],["\t\t      (T"],["\t\t       <ENABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t\t       <>)>)"],["\t       (<VERB? LAMP-OFF>"],["\t\t<COND (<FSET? ,",["Id","LAMP"]," ,RMUNGBIT>"],["\t\t       <TELL ",["Str","\"The lamp has already burned out.\""]," CR>)"],["\t\t      (T"],["\t\t       <DISABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t\t       <>)>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The lamp \""],">"],["\t\t<COND (<FSET? ,",["Id","LAMP"]," ,RMUNGBIT>"],["\t\t       <TELL ",["Str","\"has burned out.\""],">)"],["\t\t      (<FSET? ,",["Id","LAMP"]," ,ONBIT>"],["\t\t       <TELL ",["Str","\"is on.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"is turned off.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","MAILBOX-F"]," ()"],["\t <COND (<AND <VERB? TAKE> <EQUAL? ,",["Id","PRSO"]," ,",["Id","MAILBOX"],">>"],["\t\t<TELL ",["Str","\"It is securely anchored.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","MATCH-COUNT"]," 6>"],[],["<ROUTINE ",["Iddef","MATCH-FUNCTION"]," (",["Str","\"AUX\""]," ",["Localid","CNT"],")"],["\t <COND (<AND <VERB? LAMP-ON BURN> <EQUAL? ,",["Id","PRSO"]," ,",["Id","MATCH"],">>"],["\t\t<COND (<G? ,",["Id","MATCH-COUNT"]," 0>"],["\t\t       <SETG ",["Id","MATCH-COUNT"]," <- ,",["Id","MATCH-COUNT"]," 1>>)>"],["\t\t<COND (<NOT <G? ,",["Id","MATCH-COUNT"]," 0>>"],["\t\t       <TELL"],["\t\t\t",["Str","\"I'm afraid that you have run out of matches.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","HERE"]," ,",["Id","LOWER-SHAFT"]," ,",["Id","TIMBER-ROOM"],">"],["\t\t       <TELL"],[["Str","\"This room is drafty, and the match goes out instantly.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,",["Id","MATCH"]," ,FLAMEBIT>"],["\t\t       <FSET ,",["Id","MATCH"]," ,ONBIT>"],["\t\t       <ENABLE <",["Id","QUEUE"]," ",["Id","I-MATCH"]," 2>>"],["\t\t       <TELL ",["Str","\"One of the matches starts to burn.\""]," CR>"],["\t\t       <COND (<NOT ,",["Id","LIT"],">"],["\t\t\t      <SETG ",["Id","LIT"]," T>"],["\t\t\t      <",["Id","V-LOOK"],">)>"],["\t\t       <RTRUE>)>)"],["\t       (<AND <VERB? LAMP-OFF> <FSET? ,",["Id","MATCH"]," ,FLAMEBIT>>"],["\t\t<TELL ",["Str","\"The match is out.\""]," CR>"],["\t\t<FCLEAR ,",["Id","MATCH"]," ,FLAMEBIT>"],["\t\t<FCLEAR ,",["Id","MATCH"]," ,ONBIT>"],["\t\t<SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t\t<COND (<NOT ,",["Id","LIT"],"> <TELL ",["Str","\"It's pitch black in here!\""]," CR>)>"],["\t\t<",["Id","QUEUE"]," ",["Id","I-MATCH"]," 0>"],["\t\t<RTRUE>)"],["\t       (<VERB? COUNT OPEN>"],["\t\t<TELL ",["Str","\"You have \""],">"],["\t        <SET ",["Localid","CNT"]," <- ,",["Id","MATCH-COUNT"]," 1>>"],["\t\t<COND (<NOT <G? .",["Localid","CNT"]," 0>> <TELL ",["Str","\"no\""],">)"],["\t\t      (T <TELL N .",["Localid","CNT"],">)>"],["\t\t<TELL ",["Str","\" match\""],">"],["\t\t<COND (<NOT <1? .",["Localid","CNT"],">> <TELL ",["Str","\"es.\""],">) (T <TELL ",["Str","\".\""],">)>"],["\t\t<CRLF>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND (<FSET? ,",["Id","MATCH"]," ,ONBIT>"],["\t\t       <TELL ",["Str","\"The match is burning.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The matchbook isn't very interesting, except for what's written on it.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","I-MATCH"]," ()"],["\t <TELL ",["Str","\"The match has gone out.\""]," CR>"],["\t <FCLEAR ,",["Id","MATCH"]," ,FLAMEBIT>"],["\t <FCLEAR ,",["Id","MATCH"]," ,ONBIT>"],["\t <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","I-LANTERN"]," (",["Str","\"AUX\""]," ",["Localid","TICK"]," (",["Localid","TBL"]," <VALUE ",["Id","LAMP-TABLE"],">))"],["\t <ENABLE <",["Id","QUEUE"]," ",["Iddef","I-LANTERN"]," <SET ",["Localid","TICK"]," <GET .",["Localid","TBL"]," 0>>>>"],["\t <",["Id","LIGHT-INT"]," ,",["Id","LAMP"]," .",["Localid","TBL"]," .",["Localid","TICK"],">"],["\t <COND (<NOT <0? .",["Localid","TICK"],">>"],["\t\t<SETG ",["Id","LAMP-TABLE"]," <REST .",["Localid","TBL"]," 4>>)>>"],[],["<ROUTINE ",["Iddef","I-CANDLES"]," (",["Str","\"AUX\""]," ",["Localid","TICK"]," (",["Localid","TBL"]," <VALUE ",["Id","CANDLE-TABLE"],">))"],["\t <FSET ,",["Id","CANDLES"]," ,TOUCHBIT>"],["\t <ENABLE <",["Id","QUEUE"]," ",["Iddef","I-CANDLES"]," <SET ",["Localid","TICK"]," <GET .",["Localid","TBL"]," 0>>>>"],["\t <",["Id","LIGHT-INT"]," ,",["Id","CANDLES"]," .",["Localid","TBL"]," .",["Localid","TICK"],">"],["\t <COND (<NOT <0? .",["Localid","TICK"],">>"],["\t\t<SETG ",["Id","CANDLE-TABLE"]," <REST .",["Localid","TBL"]," 4>>)>>"],[],["<ROUTINE ",["Iddef","LIGHT-INT"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Localid","TICK"],")"],["\t <COND (<0? .",["Localid","TICK"],">"],["\t\t<FCLEAR .",["Localid","OBJ"]," ,ONBIT>"],["\t\t<FSET .",["Localid","OBJ"]," ,RMUNGBIT>)>"],["\t <COND (<OR <",["Id","HELD?"]," .",["Localid","OBJ"],"> <IN? .",["Localid","OBJ"]," ,",["Id","HERE"],">>"],["\t\t<COND (<0? .",["Localid","TICK"],">"],["\t\t       <TELL"],[["Str","\"You'd better have more light than from the \""]," D .",["Localid","OBJ"]," ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL <GET .",["Localid","TBL"]," 1> CR>)>)>>"],[],["<ROUTINE ",["Iddef","MIN"]," (",["Localid","N1"]," ",["Localid","N2"],")"],["\t <COND (<L? .",["Localid","N1"]," .",["Localid","N2"],"> .",["Localid","N1"],")"],["\t       (T .",["Localid","N2"],")>>"],[],["<ROUTINE ",["Iddef","CANDLES-FCN"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","CANDLES"]," ,TOUCHBIT>>"],["\t\t<ENABLE <",["Id","INT"]," ",["Id","I-CANDLES"],">>)>"],["\t <COND (<EQUAL? ,",["Id","CANDLES"]," ,",["Id","PRSI"],"> <RFALSE>)"],["\t       (T"],["\t\t<COND (<VERB? LAMP-ON BURN>"],["\t\t       <COND (<FSET? ,",["Id","CANDLES"]," ,RMUNGBIT>"],["\t\t\t      <TELL"],[["Str","\"Alas, there's not much left of the candles. Certainly not enough to"]],[["Str","burn.\""]," CR>)"],["\t\t\t     (<NOT ,",["Id","PRSI"],">"],["\t\t\t      <COND (<FSET? ,",["Id","MATCH"]," ,FLAMEBIT>"],["\t\t\t\t     <TELL ",["Str","\"(with the match)\""]," CR>"],["\t\t\t\t     <",["Id","PERFORM"]," ,V?LAMP-ON ,",["Id","CANDLES"]," ,",["Id","MATCH"],">"],["\t\t\t\t     <RTRUE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"You should say what to light them with.\""]," CR>"],["\t\t\t\t     <RFATAL>)>)"],["\t\t\t     (<AND <EQUAL? ,",["Id","PRSI"]," ,",["Id","MATCH"],">"],["\t\t\t\t   <FSET? ,",["Id","MATCH"]," ,ONBIT>>"],["\t\t\t      <TELL ",["Str","\"The candles are \""],">"],["\t\t\t      <COND (<FSET? ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t\t     <TELL ",["Str","\"already lit.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <FSET ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t\t     <TELL ",["Str","\"lit.\""]," CR>"],["\t\t\t\t     <ENABLE <",["Id","INT"]," ",["Id","I-CANDLES"],">>)>)"],["\t\t\t     (<EQUAL? ,",["Id","PRSI"]," ,",["Id","TORCH"],">"],["\t\t\t      <COND (<FSET? ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t\t     <TELL"],[["Str","\"You realize, just in time, that the candles are already lighted.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"The heat from the torch is so intense that the candles are vaporized.\""]," CR>"],["\t\t\t\t     <",["Id","REMOVE-CAREFULLY"]," ,",["Id","CANDLES"],">)>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You have to light them with something that's burning, you know.\""]," CR>)>)"],["\t\t      (<VERB? COUNT>"],["\t\t       <TELL"],[["Str","\"Let's see, how many objects in a pair? Don't tell me, I'll get it.\""]," CR>)"],["\t\t      (<VERB? LAMP-OFF>"],["\t\t       <DISABLE <",["Id","INT"]," ",["Id","I-CANDLES"],">>"],["\t\t       <COND (<FSET? ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"The flame is extinguished.\""],">"],["\t\t\t      <FCLEAR ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t      <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t\t\t      <COND (<NOT ,",["Id","LIT"],">"],["\t\t\t\t     <TELL ",["Str","\" It's really dark in here....\""],">)>"],["\t\t\t      <CRLF>"],["\t\t\t      <RTRUE>)"],["\t\t\t     (T <TELL ",["Str","\"The candles are not lighted.\""]," CR>)>)"],["\t\t      (<AND <VERB? PUT> <FSET? ,",["Id","PRSI"]," ,BURNBIT>>"],["\t\t       <TELL ",["Str","\"That wouldn't be smart.\""]," CR>)"],["\t\t      (<VERB? EXAMINE>"],["\t\t       <TELL ",["Str","\"The candles are \""],">"],["\t\t       <COND (<FSET? ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"burning.\""],">)"],["\t\t\t     (T <TELL ",["Str","\"out.\""],">)>"],["\t\t       <CRLF>)>)>>"],[],["<GLOBAL ",["Iddef","CANDLE-TABLE"]],["\t<TABLE 20"],["\t       ",["Str","\"The candles grow shorter.\""]],["\t       10"],["\t       ",["Str","\"The candles are becoming quite short.\""]],["\t       5"],["\t       ",["Str","\"The candles won't last long now.\""]],["\t       0>>"],[],["<ROUTINE ",["Iddef","CAVE2-ROOM"]," (",["Localid","RARG"],")"],["  <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t <COND (<AND <IN? ,",["Id","CANDLES"]," ,",["Id","WINNER"],">"],["\t\t     <PROB 50 80>"],["\t\t     <FSET? ,",["Id","CANDLES"]," ,ONBIT>>"],["\t\t<DISABLE <",["Id","INT"]," ",["Id","I-CANDLES"],">>"],["\t\t<FCLEAR ,",["Id","CANDLES"]," ,ONBIT>"],["\t\t<TELL"],[["Str","\"A gust of wind blows out your candles!\""]," CR>"],["\t\t<COND (<NOT <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>>"],["\t\t       <TELL ",["Str","\"It is now completely dark.\""]," CR>)>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE ASSORTED WEAPONS\""]],[],["<ROUTINE ",["Iddef","SWORD-FCN"]," (",["Str","\"AUX\""]," ",["Localid","G"],")"],["\t <COND (<AND <VERB? TAKE> <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-SWORD"]," -1>>"],["\t\t<>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND (<EQUAL? <SET ",["Localid","G"]," <GETP ,",["Id","SWORD"]," ,P?TVALUE>> 1>"],["\t\t       <TELL"],[["Str","\"Your sword is glowing with a faint blue glow.\""]," CR>)"],["\t\t      (<EQUAL? .",["Localid","G"]," 2>"],["\t\t       <TELL"],[["Str","\"Your sword is glowing very brightly.\""]," CR>)>)>>"],[],[["Str","\"SUBTITLE COAL MINE\""]],[],["<ROUTINE ",["Iddef","BOOM-ROOM"]," (",["Localid","RARG"]," ",["Str","\"AUX\""]," (",["Localid","DUMMY?"]," <>) ",["Localid","FLAME"],")"],["         <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t<COND (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t\t    <VERB? LAMP-ON BURN>"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","CANDLES"]," ,",["Id","TORCH"]," ,",["Id","MATCH"],">>"],["\t\t       <SET ",["Localid","DUMMY?"]," T>)>"],["\t\t<COND (<OR <AND <",["Id","HELD?"]," ,",["Id","CANDLES"],">"],["\t\t\t\t<FSET? ,",["Id","CANDLES"]," ,ONBIT>>"],["\t\t\t   <AND <",["Id","HELD?"]," ,",["Id","TORCH"],">"],["\t\t\t\t<FSET? ,",["Id","TORCH"]," ,ONBIT>>"],["\t\t\t   <AND <",["Id","HELD?"]," ,",["Id","MATCH"],">"],["\t\t\t\t<FSET? ,",["Id","MATCH"]," ,ONBIT>>>"],["\t\t       <COND (.",["Localid","DUMMY?"]],["\t\t\t      <TELL"],[["Str","\"How sad for an aspiring adventurer to light a \""]," D ,",["Id","PRSO"]," ",["Str","\" in a room which"]],[["Str","reeks of gas. Fortunately, there is justice in the world.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"Oh dear. It appears that the smell coming from this room was coal gas."]],[["Str","I would have thought twice about carrying flaming objects in here.\""]," CR>)>"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\"|"]],[["Str","      ** BOOOOOOOOOOOM **\""],">)>)>>"],[],["<ROUTINE ",["Iddef","BAT-D"]," (",["Str","\"OPTIONAL\""]," ",["Localid","FOO"],")"],["\t <COND (<EQUAL? <LOC ,",["Id","GARLIC"],"> ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t<TELL"],[["Str","\"In the corner of the room on the ceiling is a large vampire bat who"]],[["Str","is obviously deranged and holding his nose.\""]," CR>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"A large vampire bat, hanging from the ceiling, swoops down at you!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","BATS-ROOM"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are in a small room which has doors only to the east and south.\""]," CR>)"],["\t       (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],"> <NOT ,",["Id","DEAD"],">>"],["\t\t<COND (<NOT <EQUAL? <LOC ,",["Id","GARLIC"],"> ,",["Id","WINNER"]," ,",["Id","HERE"],">>"],["\t\t       <",["Id","V-LOOK"],">"],["\t\t       <",["Id","FLY-ME"],">)>)>>"],[],["<ROUTINE ",["Iddef","MACHINE-ROOM-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"This is a large, cold room whose sole exit is to the north. In one"]],[["Str","corner there is a machine which is reminiscent of a clothes"]],[["Str","dryer. On its face is a switch which is labelled \\\"START\\\"."]],[["Str","The switch does not appear to be manipulable by any human hand (unless the"]],[["Str","fingers are about 1/16 by 1/4 inch). On the front of the machine is a large"]],[["Str","lid, which is \""],">"],["\t\t<COND (<FSET? ,",["Id","MACHINE"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"open.\""],">)"],["\t\t      (T <TELL ",["Str","\"closed.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","MACHINE-F"]," ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"It is far too large to carry.\""]," CR>)"],["\t       (<VERB? OPEN>"],["\t        <COND (<FSET? ,",["Id","MACHINE"]," ,OPENBIT>"],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],"> CR>)"],["\t\t      (<FIRST? ,",["Id","MACHINE"],">"],["\t\t       <TELL ",["Str","\"The lid opens, revealing \""],">"],["\t\t       <",["Id","PRINT-CONTENTS"]," ,",["Id","MACHINE"],">"],["\t\t       <TELL ",["Str","\".\""]," CR>"],["\t\t       <FSET ,",["Id","MACHINE"]," ,OPENBIT>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The lid opens.\""]," CR>"],["\t\t       <FSET ,",["Id","MACHINE"]," ,OPENBIT>)>)"],["\t       (<VERB? CLOSE>"],["\t        <COND (<FSET? ,",["Id","MACHINE"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The lid closes.\""]," CR>"],["\t\t       <FCLEAR ,",["Id","MACHINE"]," ,OPENBIT>"],["\t\t       T)"],["\t\t      (T"],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","DUMMY"],"> CR>)>)"],["\t       (<VERB? LAMP-ON>"],["\t\t<COND (<NOT ,",["Id","PRSI"],">"],["\t\t       <TELL"],[["Str","\"It's not clear how to turn it on with your bare hands.\""]," CR>)"],["\t\t      (T"],["\t\t       <",["Id","PERFORM"]," ,V?TURN ,",["Id","MACHINE-SWITCH"]," ,",["Id","PRSI"],">"],["\t\t       <RTRUE>)>)>>"],[],["<ROUTINE ",["Iddef","MSWITCH-FUNCTION"]," (",["Str","\"AUX\""]," ",["Localid","O"],")"],["\t <COND (<VERB? TURN>"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","SCREWDRIVER"],">"],["\t\t       <COND (<FSET? ,",["Id","MACHINE"]," ,OPENBIT>"],["\t\t\t      <TELL"],[["Str","\"The machine doesn't seem to want to do anything.\""]," CR>)"],["\t\t\t     (T <TELL"],[["Str","\"The machine comes to life (figuratively) with a dazzling display of"]],[["Str","colored lights and bizarre noises. After a few moments, the"]],[["Str","excitement abates.\""]," CR>"],["\t\t\t      <COND (<IN? ,",["Id","COAL"]," ,",["Id","MACHINE"],">"],["\t\t\t\t     <",["Id","REMOVE-CAREFULLY"]," ,",["Id","COAL"],">"],["\t\t\t\t     <MOVE ,",["Id","DIAMOND"]," ,",["Id","MACHINE"],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <REPEAT ()"],["\t\t\t\t\t     <COND (<SET ",["Localid","O"]," <FIRST? ,",["Id","MACHINE"],">>"],["\t\t\t\t\t\t    <",["Id","REMOVE-CAREFULLY"]," .",["Localid","O"],">)"],["\t\t\t\t\t\t   (T <RETURN>)>>"],["\t\t\t\t     <MOVE ,",["Id","GUNK"]," ,",["Id","MACHINE"],">)"],["\t\t\t\t    (T)>)>)"],["\t\t      (<NOT ,",["Id","PRSI"],">"],["\t\t       <TELL ",["Str","\"You can't turn it with your hands...\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"It seems that a \""]," D ,",["Id","PRSI"]," ",["Str","\" won't do.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","GUNK-FUNCTION"]," ()"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","GUNK"],">"],["\t <TELL"],[["Str","\"The slag was rather insubstantial, and crumbles into dust at your touch.\""]," CR>>"],[],["<ROUTINE ",["Iddef","NO-OBJS"]," (",["Localid","RARG"]," ",["Str","\"AUX\""]," ",["Localid","F"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<SET ",["Localid","F"]," <FIRST? ,",["Id","WINNER"],">>"],["\t\t<SETG ",["Id","EMPTY-HANDED"]," T>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .",["Localid","F"],"> <RETURN>)"],["\t\t\t      (<G? <",["Id","WEIGHT"]," .",["Localid","F"],"> 4>"],["\t\t\t       <SETG ",["Id","EMPTY-HANDED"]," <>>"],["\t\t\t       <RETURN>)>"],["\t\t\t<SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>>"],["\t\t<COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","LOWER-SHAFT"],"> ,",["Id","LIT"],">"],["\t\t       <",["Id","SCORE-UPD"]," ,",["Id","LIGHT-SHAFT"],">"],["\t\t       <SETG ",["Id","LIGHT-SHAFT"]," 0>)>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","SOUTH-TEMPLE-FCN"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<SETG ",["Id","COFFIN-CURE"]," <NOT <IN? ,",["Id","COFFIN"]," ,",["Id","WINNER"],">>>"],["\t\t<RFALSE>)>>"],[],["<GLOBAL ",["Iddef","LIGHT-SHAFT"]," 13>"],["<GDECL (",["Id","LIGHT-SHAFT"],") FIX>"],[],["\\"],[],[["Str","\"SUBTITLE OLD MAN RIVER, THAT OLD MAN RIVER...\""]],[],["<ROUTINE ",["Iddef","WHITE-CLIFFS-FUNCTION"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t<COND (<IN? ,",["Id","INFLATED-BOAT"]," ,",["Id","WINNER"],">"],["\t\t       <SETG ",["Id","DEFLATE"]," <>>)"],["\t       \t      (T"],["\t\t       <SETG ",["Id","DEFLATE"]," T>)>)>>"],[],["<ROUTINE ",["Iddef","SCEPTRE-FUNCTION"]," ()"],["\t <COND (<VERB? WAVE RAISE>"],["\t\t<COND (<OR <EQUAL? ,",["Id","HERE"]," ,",["Id","ARAGAIN-FALLS"],">"],["\t\t\t   <EQUAL? ,",["Id","HERE"]," ,",["Id","END-OF-RAINBOW"],">>"],["\t\t       <COND (<NOT ,",["Id","RAINBOW-FLAG"],">"],["\t\t\t      <FCLEAR ,",["Id","POT-OF-GOLD"]," ,INVISIBLE>"],["\t\t\t      <TELL"],[["Str","\"Suddenly, the rainbow appears to become solid and, I venture,"]],[["Str","walkable (I think the giveaway was the stairs and bannister).\""]," CR>"],["\t\t\t      <COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","END-OF-RAINBOW"],">"],["\t\t\t\t\t  <IN? ,",["Id","POT-OF-GOLD"]," ,",["Id","END-OF-RAINBOW"],">>"],["\t\t\t\t     <TELL"],[["Str","\"A shimmering pot of gold appears at the end of the rainbow.\""]," CR>)>"],["\t\t\t      <SETG ",["Id","RAINBOW-FLAG"]," T>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","ROB"]," ,",["Id","ON-RAINBOW"]," ,",["Id","WALL"],">"],["\t\t\t      <TELL"],[["Str","\"The rainbow seems to have become somewhat run-of-the-mill.\""]," CR>"],["\t\t\t      <SETG ",["Id","RAINBOW-FLAG"]," <>>)>)"],["\t\t      (<EQUAL? ,",["Id","HERE"]," ,",["Id","ON-RAINBOW"],">"],["\t\t       <SETG ",["Id","RAINBOW-FLAG"]," <>>"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"The structural integrity of the rainbow is severely compromised,"]],[["Str","leaving you hanging in mid-air, supported only by water vapor. Bye.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"A dazzling display of color briefly emanates from the sceptre.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","FALLS-ROOM"]," (",["Localid","RARG"],")"],["    <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t   <TELL"],[["Str","\"You are at the top of Aragain Falls, an enormous waterfall with a"]],[["Str","drop of about 450 feet. The only path here is on the north end.\""]," CR>"],["\t   <COND (,",["Id","RAINBOW-FLAG"]],["\t\t  <TELL"],[["Str","\"A solid rainbow spans the falls.\""],">)"],["\t\t (T"],["\t\t  <TELL"],[["Str","\"A beautiful rainbow can be seen over the falls and to the west.\""],">)>"],["\t   <CRLF>)>>"],[],["<ROUTINE ",["Iddef","RAINBOW-FCN"]," ()"],["\t <COND (<VERB? CROSS THROUGH>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","CANYON-VIEW"],">"],["\t\t       <TELL ",["Str","\"From here?!?\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<COND (,",["Id","RAINBOW-FLAG"]],["\t\t       <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","ARAGAIN-FALLS"],">"],["\t\t\t      <",["Id","GOTO"]," ,",["Id","END-OF-RAINBOW"],">)"],["\t\t\t     (<EQUAL? ,",["Id","HERE"]," ,",["Id","END-OF-RAINBOW"],">"],["\t\t\t      <",["Id","GOTO"]," ,",["Id","ARAGAIN-FALLS"],">)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"You'll have to say which way...\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Can you walk on water vapor?\""]],["\t\t\t     CR>)>)"],["\t       (<VERB? LOOK-UNDER>"],["\t\t<TELL ",["Str","\"The Frigid River flows under the rainbow.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","DBOAT-FUNCTION"]," (",["Str","\"AUX\""],")"],["\t <COND (<AND <VERB? PUT PUT-ON>"],["\t\t     <EQUAL? ,",["Id","PRSO"]," ,",["Id","PUTTY"],">>"],["\t\t<",["Id","FIX-BOAT"],">)"],["\t       (<VERB? INFLATE FILL>"],["\t\t<TELL"],[["Str","\"No chance. Some moron punctured it.\""]," CR>)"],["\t       (<VERB? PLUG>"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PUTTY"],">"],["\t\t       <",["Id","FIX-BOAT"],">)"],["\t\t      (T <",["Id","WITH-TELL"]," ,",["Id","PRSI"],">)>)>>"],[],["<ROUTINE ",["Iddef","FIX-BOAT"]," ()"],["\t <TELL ",["Str","\"Well done. The boat is repaired.\""]," CR>"],["\t <MOVE ,",["Id","INFLATABLE-BOAT"]," <LOC ,",["Id","PUNCTURED-BOAT"],">>"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PUNCTURED-BOAT"],">>"],[],["<ROUTINE ",["Iddef","RIVER-FUNCTION"]," ()"],["\t <COND (<VERB? PUT>"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","RIVER"],">"],["\t\t       <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">"],["\t\t\t      <",["Id","JIGS-UP"]],[["Str","\"You splash around for a while, fighting the current, then you drown.\""],">)"],["\t\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","INFLATED-BOAT"],">"],["\t\t\t      <TELL"],[["Str","\"You should get in the boat then launch it.\""]," CR>)"],["\t\t\t     (<FSET? ,",["Id","PRSO"]," ,BURNBIT>"],["\t\t\t      <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" floats for a moment, then sinks.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" splashes into the water and is gone forever.\""]," CR>)>)>)"],["\t       (<VERB? LEAP THROUGH>"],["\t\t<TELL"],[["Str","\"A look before leaping reveals that the river is wide and dangerous,"]],[["Str","with swift currents and large, half-hidden rocks. You decide to forgo your"]],[["Str","swim.\""]," CR>)>>"],[],["<GLOBAL ",["Iddef","RIVER-SPEEDS"]],["\t<LTABLE ",["Id","RIVER-1"]," 4 ",["Id","RIVER-2"]," 4 ",["Id","RIVER-3"]," 3 ",["Id","RIVER-4"]," 2 ",["Id","RIVER-5"]," 1>>"],[],["<GLOBAL ",["Iddef","RIVER-NEXT"]],["\t<LTABLE ",["Id","RIVER-1"]," ",["Id","RIVER-2"]," ",["Id","RIVER-3"]," ",["Id","RIVER-4"]," ",["Id","RIVER-5"],">>"],[],["<GLOBAL ",["Iddef","RIVER-LAUNCH"]],["\t<LTABLE ",["Id","DAM-BASE"]," ",["Id","RIVER-1"]],["\t\t",["Id","WHITE-CLIFFS-NORTH"]," ",["Id","RIVER-3"]],["\t\t",["Id","WHITE-CLIFFS-SOUTH"]," ",["Id","RIVER-4"]],["\t\t",["Id","SHORE"]," ",["Id","RIVER-5"]],["\t\t",["Id","SANDY-BEACH"]," ",["Id","RIVER-4"]],["\t\t",["Id","RESERVOIR-SOUTH"]," ",["Id","RESERVOIR"]],["\t\t",["Id","RESERVOIR-NORTH"]," ",["Id","RESERVOIR"]],["\t\t",["Id","STREAM-VIEW"]," ",["Id","IN-STREAM"],">>"],[],["<ROUTINE ",["Iddef","I-RIVER"]," (",["Str","\"AUX\""]," ",["Localid","RM"],")"],["\t <COND (<AND <NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","RIVER-1"]," ,",["Id","RIVER-2"]," ,",["Id","RIVER-3"],">>"],["\t\t     <NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","RIVER-4"]," ,",["Id","RIVER-5"],">>>"],["\t\t<DISABLE <",["Id","INT"]," ",["Iddef","I-RIVER"],">>)"],["\t       (<SET ",["Localid","RM"]," <",["Id","LKP"]," ,",["Id","HERE"]," ,",["Id","RIVER-NEXT"],">>"],["\t\t<TELL ",["Str","\"The flow of the river carries you downstream.\""]," CR CR>"],["\t\t<",["Id","GOTO"]," .",["Localid","RM"],">"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Iddef","I-RIVER"]," <",["Id","LKP"]," ,",["Id","HERE"]," ,",["Id","RIVER-SPEEDS"],">>>)"],["\t       (T"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"Unfortunately, the magic boat doesn't provide protection from"]],[["Str","the rocks and boulders one meets at the bottom of waterfalls."]],[["Str","Including this one.\""],">)>>"],[],["<ROUTINE ",["Iddef","RBOAT-FUNCTION"]," (",["Str","\"OPTIONAL\""]," (",["Localid","RARG"]," <>) ",["Str","\"AUX\""]," ",["Localid","TMP"],")"],["    <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"]," ,",["Id","M-END"]," ,",["Id","M-LOOK"],"> <>)"],["\t  (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t   <COND (<VERB? WALK>"],["\t\t  <COND (<EQUAL? ,",["Id","PRSO"]," ,P?LAND ,P?EAST ,P?WEST>"],["\t\t\t <RFALSE>)"],["\t\t\t(<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","RESERVOIR"],">"],["\t\t\t      <EQUAL? ,",["Id","PRSO"]," ,P?NORTH ,P?SOUTH>>"],["\t\t\t <RFALSE>)"],["\t\t\t(<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","IN-STREAM"],">"],["\t\t\t      <EQUAL? ,",["Id","PRSO"]," ,P?SOUTH>>"],["\t\t\t <RFALSE>)"],["\t\t\t(T"],["\t\t\t <TELL"],[["Str","\"Read the label for the boat's instructions.\""]," CR>"],["\t\t\t <RTRUE>)>)"],["\t\t (<VERB? LAUNCH>"],["\t\t  <COND (<OR <EQUAL? ,",["Id","HERE"]," ,",["Id","RIVER-1"]," ,",["Id","RIVER-2"]," ,",["Id","RIVER-3"],">"],["\t\t\t     <EQUAL? ,",["Id","HERE"]," ,",["Id","RIVER-4"]," ,",["Id","RESERVOIR"]," ,",["Id","IN-STREAM"],">>"],["\t\t\t <TELL"],[["Str","\"You are on the \""],">"],["\t\t\t <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","RESERVOIR"],">"],["\t\t\t\t<TELL ",["Str","\"reservoir\""],">)"],["\t\t\t       (<EQUAL? ,",["Id","HERE"]," ,",["Id","IN-STREAM"],">"],["\t\t\t\t<TELL ",["Str","\"stream\""],">)"],["\t\t\t       (T <TELL ",["Str","\"river\""],">)>"],["\t\t\t <TELL ",["Str","\", or have you forgotten?\""]," CR>)"],["\t\t\t(<EQUAL? <SET ",["Localid","TMP"]," <",["Id","GO-NEXT"]," ,",["Id","RIVER-LAUNCH"],">> 1>"],["\t\t\t <ENABLE <",["Id","QUEUE"]," ",["Id","I-RIVER"]," <",["Id","LKP"]," ,",["Id","HERE"]," ,",["Id","RIVER-SPEEDS"],">>>"],["\t\t\t <RTRUE>)"],["\t\t\t(<NOT <EQUAL? .",["Localid","TMP"]," 2>>"],["\t\t\t <TELL ",["Str","\"You can't launch it here.\""]," CR>"],["\t\t\t <RTRUE>)"],["\t\t\t(T <RTRUE>)>)"],["\t\t (<OR <AND <VERB? DROP>"],["\t\t\t   <FSET? ,",["Id","PRSO"]," ,WEAPONBIT>>"],["\t\t      <AND <VERB? PUT>"],["\t\t\t   <FSET? ,",["Id","PRSO"]," ,WEAPONBIT>"],["\t\t\t   <EQUAL? ,",["Id","PRSI"]," ,",["Id","INFLATED-BOAT"],">>"],["\t\t      <AND <VERB? ATTACK MUNG>"],["\t\t\t   <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>>>"],["\t\t  <",["Id","REMOVE-CAREFULLY"]," ,",["Id","INFLATED-BOAT"],">"],["\t\t  <MOVE ,",["Id","PUNCTURED-BOAT"]," ,",["Id","HERE"],">"],["\t\t  <",["Id","ROB"]," ,",["Id","INFLATED-BOAT"]," ,",["Id","HERE"],">"],["\t\t  <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t  <TELL"],[["Str","\"It seems that the \""],">"],["\t\t  <COND (<VERB? DROP PUT> <TELL D ,",["Id","PRSO"],">)"],["\t\t\t(T <TELL D ,",["Id","PRSI"],">)>"],["\t\t  <TELL ",["Str","\" didn't agree with the boat, as evidenced"]],[["Str","by the loud hissing noise issuing therefrom. With a pathetic sputter, the"]],[["Str","boat deflates, leaving you without.\""]," CR>"],["\t\t  <COND (<FSET? ,",["Id","HERE"]," ,NONLANDBIT>"],["\t\t\t <CRLF>"],["\t\t\t <COND (<==? ,",["Id","HERE"]," ,",["Id","RESERVOIR"]," ,",["Id","IN-STREAM"],">"],["\t\t\t\t<",["Id","JIGS-UP"]],[["Str","\"Another pathetic sputter, this time from you, heralds your drowning.\""],">)"],["\t\t\t       (T"],["\t\t\t\t<",["Id","JIGS-UP"]],[["Str","\"In other words, fighting the fierce currents of the Frigid River. You"]],[["Str","manage to hold your own for a bit, but then you are carried over a"]],[["Str","waterfall and into some nasty rocks. Ouch!\""],">)>)>"],["\t\t  <RTRUE>)"],["\t\t (<VERB? LAUNCH>"],["\t  \t   <TELL ",["Str","\"You're not in the boat!\""]," CR>)>)"],["\t  (<VERB? ",["Id","BOARD"],">"],["\t   <COND (<OR <IN? ,",["Id","SCEPTRE"]," ,",["Id","WINNER"],">"],["\t\t      <IN? ,",["Id","KNIFE"]," ,",["Id","WINNER"],">"],["\t\t      <IN? ,",["Id","SWORD"]," ,",["Id","WINNER"],">"],["\t\t      <IN? ,",["Id","RUSTY-KNIFE"]," ,",["Id","WINNER"],">"],["\t\t      <IN? ,",["Id","AXE"]," ,",["Id","WINNER"],">"],["\t\t      <IN? ,",["Id","STILETTO"]," ,",["Id","WINNER"],">>"],["\t\t  <TELL"],[["Str","\"Oops! Something sharp seems to have slipped and punctured the boat."]],[["Str","The boat deflates to the sounds of hissing, sputtering, and cursing.\""]," CR>"],["\t\t  <",["Id","REMOVE-CAREFULLY"]," ,",["Id","INFLATED-BOAT"],">"],["\t\t  <MOVE ,",["Id","PUNCTURED-BOAT"]," ,",["Id","HERE"],">"],["\t\t  <",["Id","THIS-IS-IT"]," ,",["Id","PUNCTURED-BOAT"],">"],["\t\t  T)>)"],["\t  (<VERB? INFLATE FILL>"],["\t   <TELL ",["Str","\"Inflating it further would probably burst it.\""]," CR>)"],["\t  (<VERB? ",["Id","DEFLATE"],">"],["\t   <COND (<EQUAL? <LOC ,",["Id","WINNER"],"> ,",["Id","INFLATED-BOAT"],">"],["\t\t  <TELL"],[["Str","\"You can't deflate the boat while you're in it.\""]," CR>)"],["\t\t (<NOT <IN? ,",["Id","INFLATED-BOAT"]," ,",["Id","HERE"],">>"],["\t\t  <TELL"],[["Str","\"The boat must be on the ground to be deflated.\""]," CR>)"],["\t\t (T <TELL"],[["Str","\"The boat deflates.\""]," CR>"],["\t\t  <SETG ",["Id","DEFLATE"]," T>"],["\t\t  <",["Id","REMOVE-CAREFULLY"]," ,",["Id","INFLATED-BOAT"],">"],["\t\t  <MOVE ,",["Id","INFLATABLE-BOAT"]," ,",["Id","HERE"],">"],["\t\t  <",["Id","THIS-IS-IT"]," ,",["Id","INFLATABLE-BOAT"],">)>)>>"],[],["<ROUTINE ",["Iddef","BREATHE"]," ()"],["\t <",["Id","PERFORM"]," ,V?INFLATE ,",["Id","PRSO"]," ,",["Id","LUNGS"],">>"],[],["<ROUTINE ",["Iddef","IBOAT-FUNCTION"]," ()"],["\t <COND (<VERB? INFLATE FILL>"],["\t\t<COND (<NOT <IN? ,",["Id","INFLATABLE-BOAT"]," ,",["Id","HERE"],">>"],["\t\t       <TELL"],[["Str","\"The boat must be on the ground to be inflated.\""]," CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PUMP"],">"],["\t\t       <TELL"],[["Str","\"The boat inflates and appears seaworthy.\""]," CR>"],["\t\t       <COND (<NOT <FSET? ,",["Id","BOAT-LABEL"]," ,TOUCHBIT>>"],["\t\t\t      <TELL"],[["Str","\"A tan label is lying inside the boat.\""]," CR>)>"],["\t\t       <SETG ",["Id","DEFLATE"]," <>>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","INFLATABLE-BOAT"],">"],["\t\t       <MOVE ,",["Id","INFLATED-BOAT"]," ,",["Id","HERE"],">"],["\t\t       <",["Id","THIS-IS-IT"]," ,",["Id","INFLATED-BOAT"],">)"],["\t\t      (<EQUAL? ,",["Id","PRSI"]," ,",["Id","LUNGS"],">"],["\t\t       <TELL"],[["Str","\"You don't have enough lung power to inflate it.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"With a \""]," D ,",["Id","PRSI"]," ",["Str","\"? Surely you jest!\""]," CR>)>)>>"],[],["<GLOBAL ",["Iddef","BUOY-FLAG"]," T>"],[],["<ROUTINE ",["Iddef","RIVR4-ROOM"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-END"],">"],["\t\t<COND (<AND <IN? ,",["Id","BUOY"]," ,",["Id","WINNER"],"> ,",["Id","BUOY-FLAG"],">"],["\t      \t       <TELL"],[["Str","\"You notice something funny about the feel of the buoy.\""]," CR>"],["\t\t       <SETG ",["Id","BUOY-FLAG"]," <>>)>)>>"],[],["<GLOBAL ",["Iddef","BEACH-DIG"]," -1>"],[],["<GDECL (",["Id","BEACH-DIG"],") FIX>"],[],["<ROUTINE ",["Iddef","SAND-FUNCTION"]," ()"],["\t <COND (<AND <VERB? DIG> <==? ,",["Id","PRSI"]," ,",["Id","SHOVEL"],">>"],["\t\t<SETG ",["Id","BEACH-DIG"]," <+ 1 ,",["Id","BEACH-DIG"],">>"],["\t\t<COND (<G? ,",["Id","BEACH-DIG"]," 3>"],["\t\t       <SETG ",["Id","BEACH-DIG"]," -1>"],["\t\t       <AND <IN? ,",["Id","SCARAB"]," ,",["Id","HERE"],"> <FSET ,",["Id","SCARAB"]," ,INVISIBLE>>"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\"The hole collapses, smothering you.\""],">)"],["\t\t      (<EQUAL? ,",["Id","BEACH-DIG"]," 3>"],["\t\t       <COND (<FSET? ,",["Id","SCARAB"]," ,INVISIBLE>"],["\t\t\t      <TELL"],[["Str","\"You can see a scarab here in the sand.\""]," CR>"],["\t\t\t      <",["Id","THIS-IS-IT"]," ,",["Id","SCARAB"],">"],["\t\t\t      <FCLEAR ,",["Id","SCARAB"]," ,INVISIBLE>)>)"],["\t\t      (T"],["\t\t       <TELL <GET ,",["Id","BDIGS"]," ,",["Id","BEACH-DIG"],"> CR>)>)>>"],[],["<GLOBAL ",["Iddef","BDIGS"]],["\t<TABLE ",["Str","\"You seem to be digging a hole here.\""]],["\t       ",["Str","\"The hole is getting deeper, but that's about it.\""]],["\t       ",["Str","\"You are surrounded by a wall of sand on all sides.\""],">>"],[],["\\"],[],[["Str","\"SUBTITLE TOITY POIPLE BOIDS A CHOIPIN' AN' A BOIPIN' ... \""]],[],["<ROUTINE ",["Iddef","TREE-ROOM"]," (",["Localid","RARG"]," ",["Str","\"AUX\""]," ",["Localid","F"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-LOOK"],">"],["\t\t<TELL"],[["Str","\"You are about 10 feet above the ground nestled among some large"]],[["Str","branches. The nearest branch above you is above your reach.\""]," CR>"],["\t\t<COND (<AND <SET ",["Localid","F"]," <FIRST? ,",["Id","PATH"],">>"],["\t\t\t    <NEXT? .",["Localid","F"],">>"],["\t\t       <TELL ",["Str","\"On the ground below you can see:  \""],">"],["\t\t       <",["Id","PRINT-CONTENTS"]," ,",["Id","PATH"],">"],["\t\t       <TELL ",["Str","\".\""]," CR>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<AND <VERB? CLIMB-DOWN> <EQUAL? ,",["Id","PRSO"]," ,",["Id","TREE"],">>"],["\t\t       <",["Id","DO-WALK"]," ,P?DOWN>)"],["\t\t      (<AND <VERB? CLIMB-UP CLIMB-FOO>"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","TREE"],">>"],["\t\t       <",["Id","DO-WALK"]," ,P?UP>)"],["\t\t      (<VERB? DROP>"],["\t\t       <COND (<NOT <",["Id","IDROP"],">> <RTRUE>)"],["\t\t\t     (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","NEST"],"> <IN? ,",["Id","EGG"]," ,",["Id","NEST"],">>"],["\t\t\t      <TELL"],[["Str","\"The nest falls to the ground, and the egg spills out of it, seriously"]],[["Str","damaged.\""]," CR>"],["\t\t\t      <",["Id","REMOVE-CAREFULLY"]," ,",["Id","EGG"],">"],["\t\t\t      <MOVE ,",["Id","BROKEN-EGG"]," ,",["Id","PATH"],">)"],["\t\t\t     (<EQUAL? ,",["Id","PRSO"]," ,",["Id","EGG"],">"],["\t\t\t      <TELL"],[["Str","\"The egg falls to the ground and springs open, seriously damaged.\""],">"],["\t\t\t      <MOVE ,",["Id","EGG"]," ,",["Id","PATH"],">"],["\t\t\t      <",["Id","BAD-EGG"],">"],["\t\t\t      <CRLF>)"],["\t\t\t     (<NOT <EQUAL? ,",["Id","PRSO"]," ,",["Id","WINNER"]," ,",["Id","TREE"],">>"],["\t\t\t      <MOVE ,",["Id","PRSO"]," ,",["Id","PATH"],">"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" falls to the ground.\""]," CR>)"],["\t\t\t     (<VERB? LEAP>"],["\t\t\t      <",["Id","JIGS-UP"]],["\t\t\t        ",["Str","\"That was just a bit too far down.\""],">)>)>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],"> <ENABLE <",["Id","QUEUE"]," ",["Id","I-FOREST-ROOM"]," -1>>)>>"],[],["<ROUTINE ",["Iddef","EGG-OBJECT"]," ()"],["\t <COND (<AND <VERB? OPEN MUNG> <EQUAL? ,",["Id","PRSO"]," ,",["Id","EGG"],">>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The egg is already open.\""]," CR>)"],["\t\t      (<NOT ,",["Id","PRSI"],">"],["\t\t       <TELL ",["Str","\"You have neither the tools nor the expertise.\""]],["\t\t\t     CR>)"],["\t\t      (<EQUAL? ,",["Id","PRSI"]," ,",["Id","HANDS"],">"],["\t\t       <TELL ",["Str","\"I doubt you could do that without damaging it.\""]],["\t\t\t     CR>)"],["\t\t      (<OR <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>"],["\t\t\t   <FSET? ,",["Id","PRSI"]," ,TOOLBIT>"],["\t\t\t   <VERB? MUNG>>"],["\t\t       <TELL"],[["Str","\"The egg is now open, but the clumsiness of your attempt has seriously"]],[["Str","compromised its esthetic appeal.\""],">"],["\t\t       <",["Id","BAD-EGG"],">"],["\t\t       <CRLF>)"],["\t\t      (<FSET? ,",["Id","PRSO"]," ,FIGHTBIT>"],["\t\t       <TELL ",["Str","\"Not to say that using the \""]],["\t\t\t     D ,",["Id","PRSI"]],["\t\t\t     ",["Str","\" isn't original too...\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The concept of using a \""]],["\t\t\t     D ,",["Id","PRSI"]],["\t\t\t     ",["Str","\" is certainly original.\""]," CR>"],["\t\t       <FSET ,",["Id","PRSO"]," ,FIGHTBIT>)>)"],["\t       (<VERB? CLIMB-ON HATCH>"],["\t\t<TELL"],[["Str","\"There is a noticeable crunch from beneath you, and inspection reveals"]],[["Str","that the egg is lying open, badly damaged.\""],">"],["\t\t<",["Id","BAD-EGG"],">"],["\t\t<CRLF>)"],["\t       (<VERB? OPEN MUNG THROW>"],["\t\t<COND (<VERB? THROW> <MOVE ,",["Id","PRSO"]," ,",["Id","HERE"],">)>"],["\t\t<TELL"],[["Str","\"Your rather indelicate handling of the egg has caused it some damage,"]],[["Str","although you have succeeded in opening it.\""],">"],["\t\t<",["Id","BAD-EGG"],">"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Iddef","BAD-EGG"]," (",["Str","\"AUX\""]," ",["Localid","L"],")"],["\t <COND (<IN? ,",["Id","CANARY"]," ,",["Id","EGG"],">"],["\t\t<TELL ",["Str","\" \""]," <GETP ,",["Id","BROKEN-CANARY"]," ,P?FDESC>>)"],["\t       (T <",["Id","REMOVE-CAREFULLY"]," ,",["Id","BROKEN-CANARY"],">)>"],["\t <MOVE ,",["Id","BROKEN-EGG"]," <LOC ,",["Id","EGG"],">>"],["\t <",["Id","REMOVE-CAREFULLY"]," ,",["Id","EGG"],">"],["\t <RTRUE>>"],[],["<GLOBAL ",["Iddef","SING-SONG"]," <>>"],[],["<ROUTINE ",["Iddef","CANARY-OBJECT"]," ()"],["\t <COND (<VERB? WIND>"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","CANARY"],">"],["\t\t       <COND (<AND <NOT ,",["Id","SING-SONG"],"> <",["Id","FOREST-ROOM?"],">>"],["\t\t\t      <TELL"],[["Str","\"The canary chirps, slightly off-key, an aria from a forgotten opera."]],[["Str","From out of the greenery flies a lovely songbird. It perches on a"]],[["Str","limb just over your head and opens its beak to sing. As it does so"]],[["Str","a beautiful brass bauble drops from its mouth, bounces off the top of"]],[["Str","your head, and lands glimmering in the grass. As the canary winds"]],[["Str","down, the songbird flies away.\""]," CR>"],["\t\t\t     <SETG ",["Id","SING-SONG"]," T>"],["\t\t\t     <MOVE ,",["Id","BAUBLE"]],["\t\t\t\t   <COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","UP-A-TREE"],"> ,",["Id","PATH"],")"],["\t\t\t\t\t (T ,",["Id","HERE"],")>>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"The canary chirps blithely, if somewhat tinnily, for a short time.\""]," CR>)>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"There is an unpleasant grinding noise from inside the canary.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","FOREST-ROOM?"]," ()"],["\t <OR <EQUAL? ,",["Id","HERE"]," ,",["Id","FOREST-1"]," ,",["Id","FOREST-2"]," ,",["Id","FOREST-3"],">"],["\t     <EQUAL? ,",["Id","HERE"]," ,",["Id","PATH"]," ,",["Id","UP-A-TREE"],">>>"],[],["<ROUTINE ",["Iddef","I-FOREST-ROOM"]," ()"],["\t <COND (<NOT <",["Id","FOREST-ROOM?"],">>"],["\t\t<DISABLE <",["Id","INT"]," ",["Iddef","I-FOREST-ROOM"],">>"],["\t\t<RFALSE>)"],["\t       (<PROB 15>"],["\t\t<TELL"],[["Str","\"You hear in the distance the chirping of a song bird.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","FOREST-ROOM"]," (",["Localid","RARG"],")"],["\t <COND (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],"> <ENABLE <",["Id","QUEUE"]," ",["Id","I-FOREST-ROOM"]," -1>>)"],["\t       (<EQUAL? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t<COND (<AND <VERB? CLIMB-FOO CLIMB-UP>"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","TREE"],">>"],["\t\t       <",["Id","DO-WALK"]," ,P?UP>)>)>>"],[],["<ROUTINE ",["Iddef","WCLIF-OBJECT"]," ()"],["\t <COND (<VERB? CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t\t<TELL ",["Str","\"The cliff is too steep for climbing.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CLIFF-OBJECT"]," ()"],["\t <COND (<OR <VERB? LEAP>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">>>"],["\t\t<TELL"],["\t\t ",["Str","\"That would be very unwise. Perhaps even fatal.\""]," CR>)"],["\t       (<EQUAL? ,",["Id","PRSI"]," ,",["Id","CLIMBABLE-CLIFF"],">"],["\t\t<COND (<VERB? PUT THROW-OFF>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" tumbles into the river and is seen no more.\""]," CR>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE CHUTES AND LADDERS\""]],[],["<ROUTINE ",["Iddef","ROPE-FUNCTION"]," (",["Str","\"AUX\""]," ",["Localid","RLOC"],")"],["\t <COND (<NOT <EQUAL? ,",["Id","HERE"]," ,",["Id","DOME-ROOM"],">>"],["\t\t<SETG ",["Id","DOME-FLAG"]," <>>"],["\t\t<COND (<VERB? TIE>"],["\t\t       <TELL ",["Str","\"You can't tie the rope to that.\""]," CR>)>)"],["\t       (<VERB? TIE>"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","RAILING"],">"],["\t\t       <COND (,",["Id","DOME-FLAG"]],["\t\t\t      <TELL"],["\t\t\t       ",["Str","\"The rope is already tied to it.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The rope drops over the side and comes within ten feet of the floor.\""]," CR>"],["\t\t\t      <SETG ",["Id","DOME-FLAG"]," T>"],["\t\t\t      <FSET ,",["Id","ROPE"]," ,NDESCBIT>"],["\t\t\t      <SET ",["Localid","RLOC"]," <LOC ,",["Id","ROPE"],">>"],["\t\t\t      <COND (<OR <NOT .",["Localid","RLOC"],">"],["\t\t\t\t\t <NOT <IN? .",["Localid","RLOC"]," ,",["Id","ROOMS"],">>>"],["\t\t\t\t     <MOVE ,",["Id","ROPE"]," ,",["Id","HERE"],">)>"],["\t\t\t      T)>)>)"],["\t       (<AND <VERB? CLIMB-DOWN> <EQUAL? ,",["Id","PRSO"]," ,",["Id","ROPE"],"> ,",["Id","DOME-FLAG"],">"],["\t\t<",["Id","DO-WALK"]," ,P?DOWN>)"],["\t       (<AND <VERB? TIE-UP>"],["\t\t     <EQUAL? ,",["Id","ROPE"]," ,",["Id","PRSI"],">>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t       <COND (<L? <GETP ,",["Id","PRSO"]," ,P?STRENGTH> 0>"],["\t\t\t      <TELL"],[["Str","\"Your attempt to tie up the \""]," D ,",["Id","PRSO"]," ",["Str","\" awakens him.\""],">"],["\t\t\t      <",["Id","AWAKEN"]," ,",["Id","PRSO"],">)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" struggles and you cannot tie him up.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Why would you tie up a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)>)"],["\t       (<VERB? UNTIE>"],["\t\t<COND (,",["Id","DOME-FLAG"]],["\t\t       <SETG ",["Id","DOME-FLAG"]," <>>"],["\t\t       <FCLEAR ,",["Id","ROPE"]," ,NDESCBIT>"],["\t\t       <TELL ",["Str","\"The rope is now untied.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"It is not tied to anything.\""]," CR>)>)"],["\t       (<AND <VERB? DROP>"],["\t\t     <EQUAL? ,",["Id","HERE"]," ,",["Id","DOME-ROOM"],">"],["\t\t     <NOT ,",["Id","DOME-FLAG"],">>"],["\t\t<MOVE ,",["Id","ROPE"]," ,",["Id","TORCH-ROOM"],">"],["\t\t<TELL ",["Str","\"The rope drops gently to the floor below.\""]," CR>)"],["\t       (<VERB? TAKE>"],["\t\t<COND (,",["Id","DOME-FLAG"]],["\t\t       <TELL ",["Str","\"The rope is tied to the railing.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","UNTIE-FROM"]," ()"],["    <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","ROPE"],">"],["\t\t<AND ,",["Id","DOME-FLAG"]," <EQUAL? ,",["Id","PRSI"]," ,",["Id","RAILING"],">>>"],["\t   <",["Id","PERFORM"]," ,V?UNTIE ,",["Id","PRSO"],">)"],["\t  (T <TELL ",["Str","\"It's not attached to that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","SLIDE-FUNCTION"]," ()"],["\t <COND (<OR <VERB? THROUGH CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">>>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","CELLAR"],">"],["\t\t       <",["Id","DO-WALK"]," ,P?WEST>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"You tumble down the slide....\""]," CR>"],["\t\t       <",["Id","GOTO"]," ,",["Id","CELLAR"],">)>)"],["\t       (<VERB? PUT>"],["\t\t<",["Id","SLIDER"]," ,",["Id","PRSO"],">)>>"],[],["<ROUTINE ",["Iddef","SLIDER"]," (",["Localid","OBJ"],")"],["\t <COND (<FSET? .",["Localid","OBJ"]," ,TAKEBIT>"],["\t\t<TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" falls into the slide and is gone.\""]," CR>"],["\t\t<COND (<EQUAL? .",["Localid","OBJ"]," ,",["Id","WATER"],"> <",["Id","REMOVE-CAREFULLY"]," .",["Localid","OBJ"],">)"],["\t\t      (T"],["\t\t       <MOVE .",["Localid","OBJ"]," ,",["Id","CELLAR"],">)>)"],["\t       (T <TELL <",["Id","PICK-ONE"]," ,",["Id","YUKS"],"> CR>)>>"],[],["<ROUTINE ",["Iddef","SANDWICH-BAG-FCN"]," ()"],["\t <COND (<AND <VERB? SMELL>"],["\t\t     <IN? ,",["Id","LUNCH"]," ,",["Id","PRSO"],">>"],["\t\t<TELL ",["Str","\"It smells of hot peppers.\""]," CR>)>>"],[],[["Str","\"MORE RANDOMNESS\""]],[],["<ROUTINE ",["Iddef","DEAD-FUNCTION"]," (",["Str","\"OPTIONAL\""]," (",["Localid","FOO"]," <>) ",["Str","\"AUX\""]," ",["Localid","M"],")"],["\t <COND (<VERB? WALK>"],["\t\t<COND (<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","TIMBER-ROOM"],">"],["\t\t\t    <EQUAL? ,",["Id","PRSO"]," ,P?WEST>>"],["\t\t       <TELL ",["Str","\"You cannot enter in your condition.\""]," CR>)>)"],["\t       (<VERB? BRIEF ",["Id","VERBOSE"]," ",["Id","SUPER-BRIEF"]],["\t\t       VERSION AGAIN SAVE RESTORE QUIT RESTART>"],["\t\t<>)"],["\t       (<VERB? ATTACK MUNG ALARM SWING>"],["\t\t<TELL ",["Str","\"All such attacks are vain in your condition.\""]," CR>)"],["\t       (<VERB? OPEN CLOSE EAT DRINK"],["\t\t       INFLATE ",["Id","DEFLATE"]," TURN BURN"],["\t\t       TIE UNTIE RUB>"],["\t\t<TELL"],[["Str","\"Even such an action is beyond your capabilities.\""]," CR>)"],["\t       (<VERB? WAIT>"],["\t\t<TELL ",["Str","\"Might as well. You've got an eternity.\""]," CR>)"],["\t       (<VERB? LAMP-ON>"],["\t\t<TELL ",["Str","\"You need no light to guide you.\""]," CR>)"],["\t       (<VERB? ",["Id","SCORE"],">"],["\t\t<TELL ",["Str","\"You're dead! How can you think of your score?\""]," CR>)"],["\t       (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"Your hand passes through its object.\""]," CR>)"],["\t       (<VERB? DROP THROW INVENTORY>"],["\t\t<TELL ",["Str","\"You have no possessions.\""]," CR>)"],["\t       (<VERB? DIAGNOSE>"],["\t\t<TELL ",["Str","\"You are dead.\""]," CR>)"],["\t       (<VERB? LOOK>"],["\t\t<TELL ",["Str","\"The room looks strange and unearthly\""],">"],["\t\t<COND (<NOT <FIRST? ,",["Id","HERE"],">>"],["\t\t       <TELL ",["Str","\".\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\" and objects appear indistinct.\""],">)>"],["\t\t<CRLF>"],["\t\t<COND (<NOT <FSET? ,",["Id","HERE"]," ,ONBIT>>"],["\t\t       <TELL"],[["Str","\"Although there is no light, the room seems dimly illuminated.\""]," CR>)>"],["\t\t<CRLF>"],["\t\t<>)"],["\t       (<VERB? PRAY>"],["\t\t<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","SOUTH-TEMPLE"],">"],["\t\t       <FCLEAR ,",["Id","LAMP"]," ,INVISIBLE>"],["\t\t       <PUTP ,",["Id","WINNER"]," ,P?ACTION 0>"],["\t\t       <SETG ",["Id","GWIM-DISABLE"]," <>>"],["\t\t       <SETG ",["Id","ALWAYS-LIT"]," <>>"],["\t\t       <SETG ",["Id","DEAD"]," <>>"],["\t\t       <COND (<IN? ,",["Id","TROLL"]," ,",["Id","TROLL-ROOM"],">"],["\t\t\t      <SETG ",["Id","TROLL-FLAG"]," <>>)>"],["\t\t       <TELL"],[["Str","\"From the distance the sound of a lone trumpet is heard. The room"]],[["Str","becomes very bright and you feel disembodied. In a moment, the"]],[["Str","brightness fades and you find yourself rising as if from a long"]],[["Str","sleep, deep in the woods. In the distance you can faintly hear a"]],[["Str","songbird and the sounds of the forest.\""]," CR CR>"],["\t\t       <",["Id","GOTO"]," ,",["Id","FOREST-1"],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Your prayers are not heard.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't even do that.\""]," CR>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<RFATAL>)>>"],[],[["Comment",";\"Pseudo-object routines\""]],[],["<ROUTINE ",["Iddef","LAKE-PSEUDO"]," ()"],["\t <COND (,",["Id","LOW-TIDE"]],["\t\t<TELL ",["Str","\"There's not much lake left....\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"It's too wide to cross.\""]," CR>)"],["\t       (<VERB? THROUGH>"],["\t\t<TELL ",["Str","\"You can't swim in this lake.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","STREAM-PSEUDO"]," ()"],["\t <COND (<VERB? SWIM THROUGH>"],["\t\t<TELL ",["Str","\"You can't swim in the stream.\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"The other side is a sheer rock cliff.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CHASM-PSEUDO"]," ()"],["\t <COND (<OR <VERB? LEAP>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">>>"],["\t\t<TELL"],[["Str","\"You look before leaping, and realize that you would never survive.\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"It's too far to jump, and there's no bridge.\""]," CR>)"],["\t       (<AND <VERB? PUT THROW-OFF> <EQUAL? ,",["Id","PRSI"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t<TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" drops out of sight into the chasm.\""]," CR>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">)>>"],[],["<ROUTINE ",["Iddef","DOME-PSEUDO"]," ()"],["\t <COND (<VERB? KISS>"],["\t\t<TELL ",["Str","\"No.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","GATE-PSEUDO"]," ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<",["Id","DO-WALK"]," ,P?IN>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"The gate is protected by an invisible force. It makes your"]],[["Str","teeth ache to touch it.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","DOOR-PSEUDO"]," () ",["Comment",";\"in Studio\""]],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL ",["Str","\"The door won't budge.\""]," CR>)"],["\t       (<VERB? THROUGH>"],["\t\t<",["Id","DO-WALK"]," ,P?SOUTH>)>>"],[],["<ROUTINE ",["Iddef","PAINT-PSEUDO"]," ()"],["\t <COND (<VERB? MUNG>"],["\t\t<TELL ",["Str","\"Some paint chips away, revealing more paint.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","GAS-PSEUDO"]," ()"],["\t <COND (<VERB? ",["Id","BREATHE"],">\t",["Comment",";\"REALLY BLOW\""]],["\t\t<TELL ",["Str","\"There is too much gas to blow away.\""]," CR>)"],["\t       (<VERB? SMELL>"],["\t\t<TELL ",["Str","\"It smells like coal gas in here.\""]," CR>)>>"],[],[["Str","\"SUBTITLE MELEE\""]],[],[["Str","\"melee actions (object functions for villains called with these\""]],[],["<CONSTANT ",["Iddef","F-BUSY?"]," 1>\t\t",["Comment",";\"busy recovering weapon?\""]],["<CONSTANT ",["Iddef","F-DEAD"]," 2>\t\t",["Comment",";\"mistah kurtz, he dead.\""]],["<CONSTANT ",["Iddef","F-UNCONSCIOUS"]," 3>\t",["Comment",";\"into dreamland\""]],["<CONSTANT ",["Iddef","F-CONSCIOUS"]," 4>\t",["Comment",";\"rise and shine\""]],["<CONSTANT ",["Iddef","F-FIRST?"]," 5>\t\t",["Comment",";\"strike first?\""]],[],["\\"],[],[["Str","\"blow results\""]],[],["<CONSTANT ",["Iddef","MISSED"]," 1>\t\t",["Comment",";\"attacker misses\""]],["<CONSTANT ",["Iddef","UNCONSCIOUS"]," 2>\t",["Comment",";\"defender unconscious\""]],["<CONSTANT ",["Iddef","KILLED"]," 3>\t\t",["Comment",";\"defender dead\""]],["<CONSTANT ",["Iddef","LIGHT-WOUND"]," 4>\t",["Comment",";\"defender lightly wounded\""]],["<CONSTANT ",["Iddef","SERIOUS-WOUND"]," 5>\t",["Comment",";\"defender seriously wounded\""]],["<CONSTANT ",["Iddef","STAGGER"]," 6>\t\t",["Comment",";\"defender staggered (miss turn)\""]],["<CONSTANT ",["Iddef","LOSE-WEAPON"]," 7>\t",["Comment",";\"defender loses weapon\""]],["<CONSTANT ",["Iddef","HESITATE"]," 8>\t\t",["Comment",";\"hesitates (miss on free swing)\""]],["<CONSTANT ",["Iddef","SITTING-DUCK"]," 9>\t",["Comment",";\"sitting duck (crunch!)\""]],[],[["Str","\"tables of melee results\""]],[],["<GLOBAL ",["Iddef","DEF1"]],["\t<TABLE"],["\t ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]],["\t ",["Id","STAGGER"]," ",["Id","STAGGER"]],["\t ",["Id","UNCONSCIOUS"]," ",["Id","UNCONSCIOUS"]],["\t ",["Id","KILLED"]," ",["Id","KILLED"]," ",["Id","KILLED"]," ",["Id","KILLED"]," ",["Id","KILLED"],">>"],[],["<GLOBAL ",["Iddef","DEF2A"]],["\t<TABLE"],["\t ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]],["\t ",["Id","STAGGER"]," ",["Id","STAGGER"]],["\t ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]],["\t ",["Id","UNCONSCIOUS"],">>"],[],["<GLOBAL ",["Iddef","DEF2B"]],["\t<TABLE"],["\t ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]],["\t ",["Id","STAGGER"]," ",["Id","STAGGER"]],["\t ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]],["\t ",["Id","UNCONSCIOUS"]],["\t ",["Id","KILLED"]," ",["Id","KILLED"]," ",["Id","KILLED"],">>"],[],["<GLOBAL ",["Iddef","DEF3A"]],["\t<TABLE"],["\t ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]],["\t ",["Id","STAGGER"]," ",["Id","STAGGER"]],["\t ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]],["\t ",["Id","SERIOUS-WOUND"]," ",["Id","SERIOUS-WOUND"],">>"],[],["<GLOBAL ",["Iddef","DEF3B"]],["\t<TABLE"],["\t ",["Id","MISSED"]," ",["Id","MISSED"]," ",["Id","MISSED"]],["\t ",["Id","STAGGER"]," ",["Id","STAGGER"]],["\t ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]],["\t ",["Id","SERIOUS-WOUND"]," ",["Id","SERIOUS-WOUND"]," ",["Id","SERIOUS-WOUND"],">>"],[],["<GLOBAL ",["Iddef","DEF3C"]],["\t<TABLE"],["\t ",["Id","MISSED"]],["\t ",["Id","STAGGER"]," ",["Id","STAGGER"]],["\t ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]," ",["Id","LIGHT-WOUND"]],["\t ",["Id","SERIOUS-WOUND"]," ",["Id","SERIOUS-WOUND"]," ",["Id","SERIOUS-WOUND"],">>"],[],["<GLOBAL ",["Iddef","DEF1-RES"]],["\t<TABLE ",["Id","DEF1"]],["\t       0 ",["Comment",";<REST ,DEF1 2>"]],["\t       0 ",["Comment",";<REST ,DEF1 4>"],">>"],[],["<GLOBAL ",["Iddef","DEF2-RES"]],["\t<TABLE ",["Id","DEF2A"]],["\t       ",["Id","DEF2B"]],["\t       0",["Comment","; <REST ,DEF2B 2>"]],["\t       0",["Comment","; <REST ,DEF2B 4>"],">>"],[],["<GLOBAL ",["Iddef","DEF3-RES"]],["\t<TABLE ",["Id","DEF3A"]],["\t       0 ",["Comment",";<REST ,DEF3A 2>"]],["\t       ",["Id","DEF3B"]],["\t       0 ",["Comment",";<REST ,DEF3B 2>"]],["\t       ",["Id","DEF3C"],">>"],[],["\\"],[],[["Str","\"useful constants\""]],[],["<CONSTANT ",["Iddef","STRENGTH-MAX"]," 7>"],["<CONSTANT ",["Iddef","STRENGTH-MIN"]," 2>"],["<CONSTANT ",["Iddef","CURE-WAIT"]," 30>"],[],["\\"],[],[["Str","\"I-FIGHT moved to DEMONS\""]],[],["<ROUTINE ",["Iddef","DO-FIGHT"]," (",["Localid","LEN"]," ",["Str","\"AUX\""]," ",["Localid","CNT"]," ",["Localid","RES"]," ",["Localid","O"]," ",["Localid","OO"]," (",["Localid","OUT"]," <>))"],["\t<REPEAT ()"],["\t      <SET ",["Localid","CNT"]," 0>"],["\t      <REPEAT ()"],["\t\t      <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>"],["\t\t      <COND (<EQUAL? .",["Localid","CNT"]," .",["Localid","LEN"],">"],["\t\t\t     <SET ",["Localid","RES"]," T>"],["\t\t\t     <RETURN T>)>"],["\t\t      <SET ",["Localid","OO"]," <GET ,",["Id","VILLAINS"]," .",["Localid","CNT"],">>"],["\t\t      <SET ",["Localid","O"]," <GET .",["Localid","OO"]," ,",["Id","V-VILLAIN"],">>"],["\t\t      <COND (<NOT <FSET? .",["Localid","O"]," ,FIGHTBIT>>)"],["\t\t\t    (<APPLY <GETP .",["Localid","O"]," ,P?ACTION>"],["\t\t\t\t    ,",["Id","F-BUSY?"],">)"],["\t\t\t    (<NOT <SET ",["Localid","RES"]],["\t\t\t\t       <",["Id","VILLAIN-BLOW"]],["\t\t\t\t\t.",["Localid","OO"]],["\t\t\t\t\t.",["Localid","OUT"],">>>"],["\t\t\t     <SET ",["Localid","RES"]," <>>"],["\t\t\t     <RETURN>)"],["\t\t\t    (<EQUAL? .",["Localid","RES"]," ,",["Id","UNCONSCIOUS"],">"],["\t\t\t     <SET ",["Localid","OUT"]," <+ 1 <RANDOM 3>>>)>>"],["\t      <COND (.",["Localid","RES"]],["\t\t     <COND (<NOT .",["Localid","OUT"],"> <RETURN>)"],["\t\t\t   (T"],["\t\t\t    <SET ",["Localid","OUT"]," <- .",["Localid","OUT"]," 1>>"],["\t\t\t    <COND (<0? .",["Localid","OUT"],"> <RETURN>)>)>)"],["\t\t    (T <RETURN>)>>>"],[],["\\"],[],[["Str","\"takes a remark, defender, and good-guy's weapon\""]],[],["<ROUTINE ",["Localid","REMARK"]," (",["Localid","REMARK"]," ",["Localid","D"]," ",["Localid","W"]," ",["Str","\"AUX\""]," (",["Localid","LEN"]," <GET .",["Localid","REMARK"]," 0>) (",["Localid","CNT"]," 0) ",["Localid","STR"],")"],["\t <REPEAT ()"],["\t         <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> .",["Localid","LEN"],"> <RETURN>)>"],["\t\t <SET ",["Localid","STR"]," <GET .",["Localid","REMARK"]," .",["Localid","CNT"],">>"],["\t\t <COND (<EQUAL? .",["Localid","STR"]," ,",["Id","F-WEP"],"> <PRINTD .",["Localid","W"],">)"],["\t\t       (<EQUAL? .",["Localid","STR"]," ,",["Id","F-DEF"],"> <PRINTD .",["Localid","D"],">)"],["\t\t       (T <PRINT .",["Localid","STR"],">)>>"],["\t <CRLF>>"],[],[["Str","\"Strength of the player is a basic value (S) adjusted by his P?STRENGTH"]],[["Str","property, which is normally 0\""]],[],["<ROUTINE ",["Iddef","FIGHT-STRENGTH"]," (",["Str","\"OPTIONAL\""]," (",["Localid","ADJUST?"]," T) ",["Str","\"AUX\""]," ",["Localid","S"],")"],["\t <SET ",["Localid","S"]],["\t      <+ ,",["Id","STRENGTH-MIN"]],["\t\t </ ,",["Id","SCORE"]],["\t\t    </ ,",["Id","SCORE-MAX"]],["\t\t       <- ,",["Id","STRENGTH-MAX"]," ,",["Id","STRENGTH-MIN"],">>>>>"],["\t <COND (.",["Localid","ADJUST?"]," <+ .",["Localid","S"]," <GETP ,",["Id","WINNER"]," ,P?STRENGTH>>)(T .",["Localid","S"],")>>"],[],["<ROUTINE ",["Iddef","VILLAIN-STRENGTH"]," (",["Localid","OO"]],["\t\t\t   ",["Str","\"AUX\""]," (",["Localid","VILLAIN"]," <GET .",["Localid","OO"]," ,",["Id","V-VILLAIN"],">)"],["\t\t\t   ",["Localid","OD"]," ",["Localid","TMP"],")"],["\t <SET ",["Localid","OD"]," <GETP .",["Localid","VILLAIN"]," ,P?STRENGTH>>"],["\t <COND (<NOT <L? .",["Localid","OD"]," 0>>"],["\t\t<COND (<AND <EQUAL? .",["Localid","VILLAIN"]," ,",["Id","THIEF"],"> ,",["Id","THIEF-ENGROSSED"],">"],["\t\t       <COND (<G? .",["Localid","OD"]," 2> <SET ",["Localid","OD"]," 2>)>"],["\t\t       <SETG ",["Id","THIEF-ENGROSSED"]," <>>)>"],["\t\t<COND (<AND ,",["Id","PRSI"]],["\t\t\t    <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>"],["\t\t\t    <EQUAL? <GET .",["Localid","OO"]," ,",["Id","V-BEST"],"> ,",["Id","PRSI"],">>"],["\t\t       <SET ",["Localid","TMP"]," <- .",["Localid","OD"]," <GET .",["Localid","OO"]," ,",["Id","V-BEST-ADV"],">>>"],["\t\t       <COND (<L? .",["Localid","TMP"]," 1> <SET ",["Localid","TMP"]," 1>)>"],["\t\t       <SET ",["Localid","OD"]," .",["Localid","TMP"],">)>)>"],["\t .",["Localid","OD"],">"],[],[["Str","\"find a weapon (if any) in possession of argument\""]],[],["<ROUTINE ",["Iddef","FIND-WEAPON"]," (",["Localid","O"]," ",["Str","\"AUX\""]," ",["Localid","W"],")"],["\t <SET ",["Localid","W"]," <FIRST? .",["Localid","O"],">>"],["\t <COND (<NOT .",["Localid","W"],">"],["\t\t<RFALSE>)>"],["\t <REPEAT ()"],["\t\t <COND (<OR <EQUAL? .",["Localid","W"]," ,",["Id","STILETTO"]," ,",["Id","AXE"]," ,",["Id","SWORD"],">"],["\t\t\t    <EQUAL? .",["Localid","W"]," ,",["Id","KNIFE"]," ,",["Id","RUSTY-KNIFE"],">>"],["\t\t\t<RETURN .",["Localid","W"],">)"],["\t\t       (<NOT <SET ",["Localid","W"]," <NEXT? .",["Localid","W"],">>> <RFALSE>)>>>"],[],["\\"],[],["<ROUTINE ",["Iddef","VILLAIN-BLOW"]," (",["Localid","OO"]," ",["Localid","OUT?"]],["\t\t       ",["Str","\"AUX\""]," (",["Localid","VILLAIN"]," <GET .",["Localid","OO"]," ,",["Id","V-VILLAIN"],">)"],["\t\t       (",["Localid","REMARKS"]," <GET .",["Localid","OO"]," ,",["Id","V-MSGS"],">)"],["\t\t       ",["Localid","DWEAPON"]," ",["Localid","ATT"]," ",["Localid","DEF"]," ",["Localid","OA"]," ",["Localid","OD"]," ",["Localid","TBL"]," ",["Localid","RES"]," ",["Localid","NWEAPON"],")"],["\t <FCLEAR ,",["Id","WINNER"]," ,STAGGERED>"],["\t <COND (<FSET? .",["Localid","VILLAIN"]," ,STAGGERED>"],["\t\t<TELL ",["Str","\"The \""]," D .",["Localid","VILLAIN"]],["\t\t      ",["Str","\" slowly regains his feet.\""]," CR>"],["\t\t<FCLEAR .",["Localid","VILLAIN"]," ,STAGGERED>"],["\t\t<RTRUE>)>"],["\t <SET ",["Localid","OA"]," <SET ",["Localid","ATT"]," <",["Id","VILLAIN-STRENGTH"]," .",["Localid","OO"],">>>"],["\t <COND (<NOT <G? <SET ",["Localid","DEF"]," <",["Id","FIGHT-STRENGTH"],">> 0>> <RTRUE>)>"],["\t <SET ",["Localid","OD"]," <",["Id","FIGHT-STRENGTH"]," <>>>"],["\t <SET ",["Localid","DWEAPON"]," <",["Id","FIND-WEAPON"]," ,",["Id","WINNER"],">>"],["\t <COND (<L? .",["Localid","DEF"]," 0> <SET ",["Localid","RES"]," ,",["Id","KILLED"],">)"],["\t       (T"],["\t\t<COND (<1? .",["Localid","DEF"],">"],["\t\t       <COND (<G? .",["Localid","ATT"]," 2> <SET ",["Localid","ATT"]," 3>)>"],["\t\t       <SET ",["Localid","TBL"]," <GET ,",["Id","DEF1-RES"]," <- .",["Localid","ATT"]," 1>>>)"],["\t\t      (<EQUAL? .",["Localid","DEF"]," 2>"],["\t\t       <COND (<G? .",["Localid","ATT"]," 3> <SET ",["Localid","ATT"]," 4>)>"],["\t\t       <SET ",["Localid","TBL"]," <GET ,",["Id","DEF2-RES"]," <- .",["Localid","ATT"]," 1>>>)"],["\t\t      (<G? .",["Localid","DEF"]," 2>"],["\t\t       <SET ",["Localid","ATT"]," <- .",["Localid","ATT"]," .",["Localid","DEF"],">>"],["\t\t       <COND (<L? .",["Localid","ATT"]," -1> <SET ",["Localid","ATT"]," -2>)"],["\t\t\t     (<G? .",["Localid","ATT"]," 1> <SET ",["Localid","ATT"]," 2>)>"],["\t\t       <SET ",["Localid","TBL"]," <GET ,",["Id","DEF3-RES"]," <+ .",["Localid","ATT"]," 2>>>)>"],["\t\t<SET ",["Localid","RES"]," <GET .",["Localid","TBL"]," <- <RANDOM 9> 1>>>"],["\t\t<COND (.",["Localid","OUT?"]],["\t\t       <COND (<EQUAL? .",["Localid","RES"]," ,",["Id","STAGGER"],"> <SET ",["Localid","RES"]," ,",["Id","HESITATE"],">)"],["\t\t\t     (T <SET ",["Localid","RES"]," ,",["Id","SITTING-DUCK"],">)>)>"],["\t\t<COND (<AND <EQUAL? .",["Localid","RES"]," ,",["Id","STAGGER"],">"],["\t\t\t    .",["Localid","DWEAPON"]],["\t\t\t    <PROB 25 <COND (.HERO? 10)(T 50)>>>"],["\t\t       <SET ",["Localid","RES"]," ,",["Id","LOSE-WEAPON"],">)>"],["\t\t<",["Id","REMARK"]],["\t\t  <",["Id","RANDOM-ELEMENT"]," <GET .",["Localid","REMARKS"]," <- .",["Localid","RES"]," 1>>>"],["\t\t  ,",["Id","WINNER"]],["\t\t  .",["Localid","DWEAPON"],">)>"],["\t <COND (<OR <EQUAL? .",["Localid","RES"]," ,",["Id","MISSED"],"> <EQUAL? .",["Localid","RES"]," ,",["Id","HESITATE"],">>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","UNCONSCIOUS"],">)"],["\t       (<OR <EQUAL? .",["Localid","RES"]," ,",["Id","KILLED"],">"],["\t\t    <EQUAL? .",["Localid","RES"]," ,",["Id","SITTING-DUCK"],">>"],["\t\t<SET ",["Localid","DEF"]," 0>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","LIGHT-WOUND"],">"],["\t\t<SET ",["Localid","DEF"]," <- .",["Localid","DEF"]," 1>>"],["\t\t<COND (<L? .",["Localid","DEF"]," 0> <SET ",["Localid","DEF"]," 0>)>"],["\t\t<COND (<G? ,",["Id","LOAD-ALLOWED"]," 50>"],["\t\t       <SETG ",["Id","LOAD-ALLOWED"]," <- ,",["Id","LOAD-ALLOWED"]," 10>>)>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","SERIOUS-WOUND"],">"],["\t\t<SET ",["Localid","DEF"]," <- .",["Localid","DEF"]," 2>>"],["\t\t<COND (<L? .",["Localid","DEF"]," 0> <SET ",["Localid","DEF"]," 0>)>"],["\t\t<COND (<G? ,",["Id","LOAD-ALLOWED"]," 50>"],["\t\t       <SETG ",["Id","LOAD-ALLOWED"]," <- ,",["Id","LOAD-ALLOWED"]," 20>>)>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","STAGGER"],"> <FSET ,",["Id","WINNER"]," ,STAGGERED>)"],["\t       (T"],["\t\t<AND <EQUAL? .",["Localid","RES"]," ,",["Id","LOSE-WEAPON"],"> .",["Localid","DWEAPON"],">"],["\t\t<MOVE .",["Localid","DWEAPON"]," ,",["Id","HERE"],">"],["\t\t<COND (<SET ",["Localid","NWEAPON"]," <",["Id","FIND-WEAPON"]," ,",["Id","WINNER"],">>"],["\t\t       <TELL"],[["Str","\"Fortunately, you still have a \""]," D .",["Localid","NWEAPON"]," ",["Str","\".\""]," CR>)>)>"],["\t <",["Id","WINNER-RESULT"]," .",["Localid","DEF"]," .",["Localid","RES"]," .",["Localid","OD"],">>"],[],["<ROUTINE ",["Iddef","HERO-BLOW"]," (",["Str","\"AUX\""]," ",["Localid","OO"]," ",["Localid","VILLAIN"]," (",["Localid","OUT?"]," <>) ",["Localid","DWEAPON"]," ",["Localid","ATT"]," ",["Localid","DEF"]," (",["Localid","CNT"]," 0)"],["\t\t    ",["Localid","OA"]," ",["Localid","OD"]," ",["Localid","TBL"]," ",["Localid","RES"]," ",["Localid","NWEAPON"]," (",["Localid","LEN"]," <GET ,",["Id","VILLAINS"]," 0>))"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>"],["\t\t <COND (<EQUAL? .",["Localid","CNT"]," .",["Localid","LEN"],"> <RETURN>)>"],["\t\t <SET ",["Localid","OO"]," <GET ,",["Id","VILLAINS"]," .",["Localid","CNT"],">>"],["\t\t <COND (<EQUAL? <GET .",["Localid","OO"]," ,",["Id","V-VILLAIN"],"> ,",["Id","PRSO"],">"],["\t\t\t<RETURN>)>>"],["\t <FSET ,",["Id","PRSO"]," ,FIGHTBIT>"],["\t <COND (<FSET? ,",["Id","WINNER"]," ,STAGGERED>"],["\t\t<TELL"],[["Str","\"You are still recovering from that last blow, so your attack is"]],[["Str","ineffective.\""]," CR>"],["\t\t<FCLEAR ,",["Id","WINNER"]," ,STAGGERED>"],["\t\t<RTRUE>)>"],["\t <SET ",["Localid","ATT"]," <",["Id","FIGHT-STRENGTH"],">>"],["\t <COND (<L? .",["Localid","ATT"]," 1> <SET ",["Localid","ATT"]," 1>)>"],["\t <SET ",["Localid","OA"]," .",["Localid","ATT"],">"],["\t <SET ",["Localid","VILLAIN"]," <GET .",["Localid","OO"]," ,",["Id","V-VILLAIN"],">>"],["\t <COND (<0? <SET ",["Localid","OD"]," <SET ",["Localid","DEF"]," <",["Id","VILLAIN-STRENGTH"]," .",["Localid","OO"],">>>>"],["\t\t<COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t       <RETURN <",["Id","JIGS-UP"]],[["Str","\"Well, you really did it that time. Is suicide painless?\""],">>)>"],["\t\t<TELL ",["Str","\"Attacking the \""]," D .",["Localid","VILLAIN"]," ",["Str","\" is pointless.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <SET ",["Localid","DWEAPON"]," <",["Id","FIND-WEAPON"]," .",["Localid","VILLAIN"],">>"],["\t <COND (<OR <NOT .",["Localid","DWEAPON"],"> <L? .",["Localid","DEF"]," 0>>"],["\t\t<TELL ",["Str","\"The \""],">"],["\t\t<COND (<NOT .",["Localid","DWEAPON"],"> <TELL ",["Str","\"unarmed\""],">)"],["\t\t      (T <TELL ",["Str","\"unconscious\""],">)>"],["\t\t<TELL ",["Str","\" \""]," D .",["Localid","VILLAIN"]],["\t\t      ",["Str","\" cannot defend himself: He dies.\""]," CR>"],["\t\t<SET ",["Localid","RES"]," ,",["Id","KILLED"],">)"],["\t       (T"],["\t\t<COND (<1? .",["Localid","DEF"],">"],["\t\t       <COND (<G? .",["Localid","ATT"]," 2> <SET ",["Localid","ATT"]," 3>)>"],["\t\t       <SET ",["Localid","TBL"]," <GET ,",["Id","DEF1-RES"]," <- .",["Localid","ATT"]," 1>>>)"],["\t\t      (<EQUAL? .",["Localid","DEF"]," 2>"],["\t\t       <COND (<G? .",["Localid","ATT"]," 3> <SET ",["Localid","ATT"]," 4>)>"],["\t\t       <SET ",["Localid","TBL"]," <GET ,",["Id","DEF2-RES"]," <- .",["Localid","ATT"]," 1>>>)"],["\t\t      (<G? .",["Localid","DEF"]," 2>"],["\t\t       <SET ",["Localid","ATT"]," <- .",["Localid","ATT"]," .",["Localid","DEF"],">>"],["\t\t       <COND (<L? .",["Localid","ATT"]," -1> <SET ",["Localid","ATT"]," -2>)"],["\t\t\t     (<G? .",["Localid","ATT"]," 1> <SET ",["Localid","ATT"]," 2>)>"],["\t\t       <SET ",["Localid","TBL"]," <GET ,",["Id","DEF3-RES"]," <+ .",["Localid","ATT"]," 2>>>)>"],["\t\t<SET ",["Localid","RES"]," <GET .",["Localid","TBL"]," <- <RANDOM 9> 1>>>"],["\t\t<COND (.",["Localid","OUT?"]],["\t\t       <COND (<EQUAL? .",["Localid","RES"]," ,",["Id","STAGGER"],"> <SET ",["Localid","RES"]," ,",["Id","HESITATE"],">)"],["\t\t\t     (T <SET ",["Localid","RES"]," ,",["Id","SITTING-DUCK"],">)>)>"],["\t\t<COND (<AND <EQUAL? .",["Localid","RES"]," ,",["Id","STAGGER"],"> .",["Localid","DWEAPON"]," <PROB 25>>"],["\t\t       <SET ",["Localid","RES"]," ,",["Id","LOSE-WEAPON"],">)>"],["\t\t<",["Id","REMARK"]],["\t\t  <",["Id","RANDOM-ELEMENT"]," <GET ,",["Id","HERO-MELEE"]," <- .",["Localid","RES"]," 1>>>"],["\t\t  ,",["Id","PRSO"]],["\t\t  ,",["Id","PRSI"],">)>"],["\t <COND (<OR <EQUAL? .",["Localid","RES"]," ,",["Id","MISSED"],"> <EQUAL? .",["Localid","RES"]," ,",["Id","HESITATE"],">>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","UNCONSCIOUS"],"> <SET ",["Localid","DEF"]," <- .",["Localid","DEF"],">>)"],["\t       (<OR <EQUAL? .",["Localid","RES"]," ,",["Id","KILLED"],"> <EQUAL? .",["Localid","RES"]," ,",["Id","SITTING-DUCK"],">>"],["\t\t<SET ",["Localid","DEF"]," 0>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","LIGHT-WOUND"],">"],["\t\t<SET ",["Localid","DEF"]," <- .",["Localid","DEF"]," 1>>"],["\t\t<COND (<L? .",["Localid","DEF"]," 0> <SET ",["Localid","DEF"]," 0>)>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","SERIOUS-WOUND"],">"],["\t\t<SET ",["Localid","DEF"]," <- .",["Localid","DEF"]," 2>>"],["\t\t<COND (<L? .",["Localid","DEF"]," 0> <SET ",["Localid","DEF"]," 0>)>)"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","STAGGER"],"> <FSET ,",["Id","PRSO"]," ,STAGGERED>)"],["\t       (T"],["\t\t<AND <EQUAL? .",["Localid","RES"]," ,",["Id","LOSE-WEAPON"],"> .",["Localid","DWEAPON"],">"],["\t\t<FCLEAR .",["Localid","DWEAPON"]," ,NDESCBIT>"],["\t\t<FSET .",["Localid","DWEAPON"]," ,WEAPONBIT>"],["\t\t<MOVE .",["Localid","DWEAPON"]," ,",["Id","HERE"],">"],["\t\t<",["Id","THIS-IS-IT"]," .",["Localid","DWEAPON"],">)>"],["\t <",["Id","VILLAIN-RESULT"]," ,",["Id","PRSO"]," .",["Localid","DEF"]," .",["Localid","RES"],">>"],[],["\\"],[],["<ROUTINE ",["Iddef","WINNER-RESULT"]," (",["Localid","DEF"]," ",["Localid","RES"]," ",["Localid","OD"],")"],["\t <PUTP ,",["Id","WINNER"]],["\t       ,P?STRENGTH"],["\t       <COND (<0? .",["Localid","DEF"],"> -10000)(T <- .",["Localid","DEF"]," .",["Localid","OD"],">)>>"],["\t <COND (<L? <- .",["Localid","DEF"]," .",["Localid","OD"],"> 0>"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-CURE"]," ,",["Id","CURE-WAIT"],">>)>"],["\t <COND (<NOT <G? <",["Id","FIGHT-STRENGTH"],"> 0>>"],["\t\t<PUTP ,",["Id","WINNER"]," ,P?STRENGTH <+ 1 <- <",["Id","FIGHT-STRENGTH"]," <>>>>>"],["\t\t<",["Id","JIGS-UP"]],[["Str","\"It appears that that last blow was too much for you. I'm afraid you"]],[["Str","are dead.\""],">"],["\t\t<>)"],["\t       (T .",["Localid","RES"],")>>"],[],["<ROUTINE ",["Iddef","VILLAIN-RESULT"]," (",["Localid","VILLAIN"]," ",["Localid","DEF"]," ",["Localid","RES"],")"],["\t <PUTP .",["Localid","VILLAIN"]," ,P?STRENGTH .",["Localid","DEF"],">"],["\t <COND (<0? .",["Localid","DEF"],">"],["\t\t<FCLEAR .",["Localid","VILLAIN"]," ,FIGHTBIT>"],["\t\t<TELL"],[["Str","\"Almost as soon as the \""]," D .",["Localid","VILLAIN"]," ",["Str","\" breathes his last breath, a cloud"]],[["Str","of sinister black fog envelops him, and when the fog lifts, the"]],[["Str","carcass has disappeared.\""]," CR>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," .",["Localid","VILLAIN"],">"],["\t\t<APPLY <GETP .",["Localid","VILLAIN"]," ,P?ACTION> ,",["Id","F-DEAD"],">"],["\t\t.",["Localid","RES"],")"],["\t       (<EQUAL? .",["Localid","RES"]," ,",["Id","UNCONSCIOUS"],">"],["\t\t<APPLY <GETP .",["Localid","VILLAIN"]," ,P?ACTION> ,",["Id","F-UNCONSCIOUS"],">"],["\t\t.",["Localid","RES"],")"],["\t       (T .",["Localid","RES"],")>>"],[],["\\"],[],["<ROUTINE ",["Iddef","WINNING?"]," (",["Localid","V"]," ",["Str","\"AUX\""]," ",["Localid","VS"]," ",["Localid","PS"],")"],["\t <SET ",["Localid","VS"]," <GETP .",["Localid","V"]," ,P?STRENGTH>>"],["\t <SET ",["Localid","PS"]," <- .",["Localid","VS"]," <",["Id","FIGHT-STRENGTH"],">>>"],["\t <COND (<G? .",["Localid","PS"]," 3> <PROB 90>)"],["\t       (<G? .",["Localid","PS"]," 0> <PROB 75>)"],["\t       (<0? .",["Localid","PS"],"> <PROB 50>)"],["\t       (<G? .",["Localid","VS"]," 1> <PROB 25>)"],["\t       (T <PROB 10>)>>"],[],["<ROUTINE ",["Iddef","I-CURE"]," (",["Str","\"AUX\""]," (",["Localid","S"]," <GETP ,",["Id","WINNER"]," ,P?STRENGTH>))"],["\t <COND (<G? .",["Localid","S"]," 0> <SET ",["Localid","S"]," 0> <PUTP ,",["Id","WINNER"]," ,P?STRENGTH .",["Localid","S"],">)"],["\t       (<L? .",["Localid","S"]," 0> <SET ",["Localid","S"]," <+ .",["Localid","S"]," 1>> <PUTP ,",["Id","WINNER"]," ,P?STRENGTH .",["Localid","S"],">)>"],["\t <COND (<L? .",["Localid","S"]," 0>"],["\t\t<COND (<L? ,",["Id","LOAD-ALLOWED"]," ,",["Id","LOAD-MAX"],">"],["\t\t       <SETG ",["Id","LOAD-ALLOWED"]," <+ ,",["Id","LOAD-ALLOWED"]," 10>>)>"],["\t\t<ENABLE <",["Id","QUEUE"]," ",["Iddef","I-CURE"]," ,",["Id","CURE-WAIT"],">>)"],["\t       (T"],["\t\t<SETG ",["Id","LOAD-ALLOWED"]," ,",["Id","LOAD-MAX"],">"],["\t\t<DISABLE <",["Id","INT"]," ",["Iddef","I-CURE"],">>)>>"],[],[["Str","\"FIGHTS\""]],[],[["Str","\"messages for winner\""]],[],["<CONSTANT ",["Iddef","F-WEP"]," 0>\t",["Comment",";\"means print weapon name\""]],["<CONSTANT ",["Iddef","F-DEF"]," 1>\t",["Comment",";\"means print defender name (villain, e.g.)\""]],[],["<GLOBAL ",["Iddef","HERO-MELEE"]],[" <TABLE"],["  <LTABLE"],["   <LTABLE ",["Str","\"Your \""]," ",["Id","F-WEP"]," ",["Str","\" misses the \""]," ",["Id","F-DEF"]," ",["Str","\" by an inch.\""],">"],["   <LTABLE ",["Str","\"A good slash, but it misses the \""]," ",["Id","F-DEF"]," ",["Str","\" by a mile.\""],">"],["   <LTABLE ",["Str","\"You charge, but the \""]," ",["Id","F-DEF"]," ",["Str","\" jumps nimbly aside.\""],">"],["   <LTABLE ",["Str","\"Clang! Crash! The \""]," ",["Id","F-DEF"]," ",["Str","\" parries.\""],">"],["   <LTABLE ",["Str","\"A quick stroke, but the \""]," ",["Id","F-DEF"]," ",["Str","\" is on guard.\""],">"],["   <LTABLE ",["Str","\"A good stroke, but it's too slow; the \""]," ",["Id","F-DEF"]," ",["Str","\" dodges.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"Your \""]," ",["Id","F-WEP"]," ",["Str","\" crashes down, knocking the \""]," ",["Id","F-DEF"]," ",["Str","\" into dreamland.\""],">"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is battered into unconsciousness.\""],">"],["   <LTABLE ",["Str","\"A furious exchange, and the \""]," ",["Id","F-DEF"]," ",["Str","\" is knocked out!\""],">"],["   <LTABLE ",["Str","\"The haft of your \""]," ",["Id","F-WEP"]," ",["Str","\" knocks out the \""]," ",["Id","F-DEF"]," ",["Str","\".\""],">"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is knocked out!\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"It's curtains for the \""]," ",["Id","F-DEF"]," ",["Str","\" as your \""]," ",["Id","F-WEP"]," ",["Str","\" removes his head.\""],">"],["   <LTABLE ",["Str","\"The fatal blow strikes the \""]," ",["Id","F-DEF"]," ",["Str","\" square in the heart:  He dies.\""],">"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" takes a fatal blow and slumps to the floor dead.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is struck on the arm; blood begins to trickle down.\""],">"],["   <LTABLE ",["Str","\"Your \""]," ",["Id","F-WEP"]," ",["Str","\" pinks the \""]," ",["Id","F-DEF"]," ",["Str","\" on the wrist, but it's not serious.\""],">"],["   <LTABLE ",["Str","\"Your stroke lands, but it was only the flat of the blade.\""],">"],["   <LTABLE ",["Str","\"The blow lands, making a shallow gash in the \""]," ",["Id","F-DEF"]," ",["Str","\"'s arm!\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" receives a deep gash in his side.\""],">"],["   <LTABLE ",["Str","\"A savage blow on the thigh! The \""]," ",["Id","F-DEF"]," ",["Str","\" is stunned but can still fight!\""],">"],["   <LTABLE ",["Str","\"Slash! Your blow lands! That one hit an artery, it could be serious!\""],">"],["   <LTABLE ",["Str","\"Slash! Your stroke connects! This could be serious!\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is staggered, and drops to his knees.\""],">"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is momentarily disoriented and can't fight back.\""],">"],["   <LTABLE ",["Str","\"The force of your blow knocks the \""]," ",["Id","F-DEF"]," ",["Str","\" back, stunned.\""],">"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is confused and can't fight back.\""],">"],["   <LTABLE ",["Str","\"The quickness of your thrust knocks the \""]," ",["Id","F-DEF"]," ",["Str","\" back, stunned.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\"'s weapon is knocked to the floor, leaving him unarmed.\""],">"],["   <LTABLE ",["Str","\"The \""]," ",["Id","F-DEF"]," ",["Str","\" is disarmed by a subtle feint past his guard.\""],">>>>"],[],["\\"],[],[["Str","\"messages for cyclops (note that he has no weapon\""]],[],["<GLOBAL ",["Iddef","CYCLOPS-MELEE"]],[" <TABLE"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops misses, but the backwash almost knocks you over.\""],">"],["   <LTABLE ",["Str","\"The Cyclops rushes you, but runs into the wall.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops sends you crashing to the floor, unconscious.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops breaks your neck with a massive smash.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"A quick punch, but it was only a glancing blow.\""],">"],["   <LTABLE ",["Str","\"A glancing blow from the Cyclops' fist.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The monster smashes his huge fist into your chest, breaking several"]],[["Str","ribs.\""],">"],["   <LTABLE ",["Str","\"The Cyclops almost knocks the wind out of you with a quick punch.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops lands a punch that knocks the wind out of you.\""],">"],["   <LTABLE ",["Str","\"Heedless of your weapons, the Cyclops tosses you against the rock"]],[["Str","wall of the room.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops grabs your \""]," ",["Id","F-WEP"]," ",["Str","\", tastes it, and throws it to the"]],[["Str","ground in disgust.\""],">"],["   <LTABLE ",["Str","\"The monster grabs you on the wrist, squeezes, and you drop your"]],[["Str","\""]," ",["Id","F-WEP"]," ",["Str","\" in pain.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops seems unable to decide whether to broil or stew his"]],[["Str","dinner.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops, no sportsman, dispatches his unconscious victim.\""],">>>>"],[],["\\"],[],[["Str","\"messages for troll\""]],[],["<GLOBAL ",["Iddef","TROLL-MELEE"]],["<TABLE"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll swings his axe, but it misses.\""],">"],["  <LTABLE ",["Str","\"The troll's axe barely misses your ear.\""],">"],["  <LTABLE ",["Str","\"The axe sweeps past as you jump aside.\""],">"],["  <LTABLE ",["Str","\"The axe crashes against the rock, throwing sparks!\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The flat of the troll's axe hits you delicately on the head, knocking"]],[["Str","you out.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll neatly removes your head.\""],">"],["  <LTABLE ",["Str","\"The troll's axe stroke cleaves you from the nave to the chops.\""],">"],["  <LTABLE ",["Str","\"The troll's axe removes your head.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The axe gets you right in the side. Ouch!\""],">"],["  <LTABLE ",["Str","\"The flat of the troll's axe skins across your forearm.\""],">"],["  <LTABLE ",["Str","\"The troll's swing almost knocks you over as you barely parry"]],[["Str","in time.\""],">"],["  <LTABLE ",["Str","\"The troll swings his axe, and it nicks your arm as you dodge.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll charges, and his axe slashes you on your \""]," ",["Id","F-WEP"]," ",["Str","\" arm.\""],">"],["  <LTABLE ",["Str","\"An axe stroke makes a deep wound in your leg.\""],">"],["  <LTABLE ",["Str","\"The troll's axe swings down, gashing your shoulder.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll hits you with a glancing blow, and you are momentarily"]],[["Str","stunned.\""],">"],["  <LTABLE ",["Str","\"The troll swings; the blade turns on your armor but crashes"]],[["Str","broadside into your head.\""],">"],["  <LTABLE ",["Str","\"You stagger back under a hail of axe strokes.\""],">"],["  <LTABLE ",["Str","\"The troll's mighty blow drops you to your knees.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The axe hits your \""]," ",["Id","F-WEP"]," ",["Str","\" and knocks it spinning.\""],">"],["  <LTABLE ",["Str","\"The troll swings, you parry, but the force of his blow knocks your \""]," ",["Id","F-WEP"]," ",["Str","\" away.\""],">"],["  <LTABLE ",["Str","\"The axe knocks your \""]," ",["Id","F-WEP"]," ",["Str","\" out of your hand. It falls to the floor.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll hesitates, fingering his axe.\""],">"],["  <LTABLE ",["Str","\"The troll scratches his head ruminatively:  Might you be magically"]],[["Str","protected, he wonders?\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"Conquering his fears, the troll puts you to death.\""],">>>>"],[],["\\"],[],[["Str","\"messages for thief\""]],[],["<GLOBAL ",["Iddef","THIEF-MELEE"]],["<TABLE"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief stabs nonchalantly with his stiletto and misses.\""],">"],["  <LTABLE ",["Str","\"You dodge as the thief comes in low.\""],">"],["  <LTABLE ",["Str","\"You parry a lightning thrust, and the thief salutes you with"]],[["Str","a grim nod.\""],">"],["  <LTABLE ",["Str","\"The thief tries to sneak past your guard, but you twist away.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"Shifting in the midst of a thrust, the thief knocks you unconscious"]],[["Str","with the haft of his stiletto.\""],">"],["  <LTABLE ",["Str","\"The thief knocks you out.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"Finishing you off, the thief inserts his blade into your heart.\""],">"],["  <LTABLE ",["Str","\"The thief comes in from the side, feints, and inserts the blade"]],[["Str","into your ribs.\""],">"],["  <LTABLE ",["Str","\"The thief bows formally, raises his stiletto, and with a wry grin,"]],[["Str","ends the battle and your life.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"A quick thrust pinks your left arm, and blood starts to"]],[["Str","trickle down.\""],">"],["  <LTABLE ",["Str","\"The thief draws blood, raking his stiletto across your arm.\""],">"],["  <LTABLE ",["Str","\"The stiletto flashes faster than you can follow, and blood wells"]],[["Str","from your leg.\""],">"],["  <LTABLE ",["Str","\"The thief slowly approaches, strikes like a snake, and leaves"]],[["Str","you wounded.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief strikes like a snake! The resulting wound is serious.\""],">"],["  <LTABLE ",["Str","\"The thief stabs a deep cut in your upper arm.\""],">"],["  <LTABLE ",["Str","\"The stiletto touches your forehead, and the blood obscures your"]],[["Str","vision.\""],">"],["  <LTABLE ",["Str","\"The thief strikes at your wrist, and suddenly your grip is slippery"]],[["Str","with blood.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The butt of his stiletto cracks you on the skull, and you stagger"]],[["Str","back.\""],">"],["  <LTABLE ",["Str","\"The thief rams the haft of his blade into your stomach, leaving"]],[["Str","you out of breath.\""],">"],["  <LTABLE ",["Str","\"The thief attacks, and you fall back desperately.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"A long, theatrical slash. You catch it on your \""]," ",["Id","F-WEP"]," ",["Str","\", but the"]],[["Str","thief twists his knife, and the \""]," ",["Id","F-WEP"]," ",["Str","\" goes flying.\""],">"],["  <LTABLE ",["Str","\"The thief neatly flips your \""]," ",["Id","F-WEP"]," ",["Str","\" out of your hands, and it drops"]],[["Str","to the floor.\""],">"],["  <LTABLE ",["Str","\"You parry a low thrust, and your \""]," ",["Id","F-WEP"]," ",["Str","\" slips out of your hand.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief, a man of superior breeding, pauses for a moment to consider the propriety of finishing you off.\""],">"],["  <LTABLE ",["Str","\"The thief amuses himself by searching your pockets.\""],">"],["  <LTABLE ",["Str","\"The thief entertains himself by rifling your pack.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief, forgetting his essentially genteel upbringing, cuts your"]],[["Str","throat.\""],">"],["  <LTABLE ",["Str","\"The thief, a pragmatist, dispatches you as a threat to his"]],[["Str","livelihood.\""],">>>>"],[],[],[["Str","\"each table entry is:\""]],[],["<CONSTANT ",["Iddef","V-VILLAIN"]," 0>\t",["Comment",";\"villain\""]],["<CONSTANT ",["Iddef","V-BEST"]," 1>\t",["Comment",";\"best weapon\""]],["<CONSTANT ",["Iddef","V-BEST-ADV"]," 2>\t",["Comment",";\"advantage it confers\""]],["<CONSTANT ",["Iddef","V-PROB"]," 3>\t",["Comment",";\"prob of waking if unconscious\""]],["<CONSTANT ",["Iddef","V-MSGS"]," 4>\t",["Comment",";\"messages for that villain\""]],[],[["Str","\"This table must be after TROLL-MELEE, THIEF-MELEE, CYCLOPS-MELEE defined!\""]],[],["<GLOBAL ",["Iddef","VILLAINS"]],["\t<LTABLE <TABLE ",["Id","TROLL"]," ",["Id","SWORD"]," 1 0 ",["Id","TROLL-MELEE"],">"],["\t\t<TABLE ",["Id","THIEF"]," ",["Id","KNIFE"]," 1 0 ",["Id","THIEF-MELEE"],">"],["\t\t<TABLE ",["Id","CYCLOPS"]," <> 0 0 ",["Id","CYCLOPS-MELEE"],">>>"],[],[["Str","\"DEMONS\""]],[],[["Str","\"Fighting demon\""]],[],["<ROUTINE ",["Iddef","I-FIGHT"]," (",["Str","\"AUX\""]," (",["Localid","FIGHT?"]," <>) (",["Localid","LEN"]," <GET ,",["Id","VILLAINS"]," 0>)"],["\t\t  ",["Localid","CNT"]," ",["Localid","OO"]," ",["Localid","O"]," ",["Localid","P"],")"],["      <COND (,",["Id","DEAD"]," <RFALSE>)>"],["      <SET ",["Localid","CNT"]," 0>"],["      <REPEAT ()"],["\t      <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>"],["\t      <COND (<EQUAL? .",["Localid","CNT"]," .",["Localid","LEN"],"> <RETURN>)>"],["\t      <SET ",["Localid","OO"]," <GET ,",["Id","VILLAINS"]," .",["Localid","CNT"],">>"],["\t      <COND (<AND <IN? <SET ",["Localid","O"]," <GET .",["Localid","OO"]," ,",["Id","V-VILLAIN"],">> ,",["Id","HERE"],">"],["\t\t\t  <NOT <FSET? .",["Localid","O"]," ,INVISIBLE>>>"],["\t\t     <COND (<AND <EQUAL? .",["Localid","O"]," ,",["Id","THIEF"],"> ,",["Id","THIEF-ENGROSSED"],">"],["\t\t\t    <SETG ",["Id","THIEF-ENGROSSED"]," <>>)"],["\t\t\t   (<L? <GETP .",["Localid","O"]," ,P?STRENGTH> 0>"],["\t\t\t    <SET ",["Localid","P"]," <GET .",["Localid","OO"]," ,",["Id","V-PROB"],">>"],["\t\t\t    <COND (<AND <NOT <0? .",["Localid","P"],">> <PROB .",["Localid","P"],">>"],["\t\t\t\t   <PUT .",["Localid","OO"]," ,",["Id","V-PROB"]," 0>"],["\t\t\t\t   <",["Id","AWAKEN"]," .",["Localid","O"],">)"],["\t\t\t\t  (T"],["\t\t\t\t   <PUT .",["Localid","OO"]," ,",["Id","V-PROB"]," <+ .",["Localid","P"]," 25>>)>)"],["\t\t\t   (<OR <FSET? .",["Localid","O"]," ,FIGHTBIT>"],["\t\t\t\t<APPLY <GETP .",["Localid","O"]," ,P?ACTION> ,",["Id","F-FIRST?"],">>"],["\t\t\t    <SET ",["Localid","FIGHT?"]," T>)>)"],["\t\t    (T"],["\t\t     <COND (<FSET? .",["Localid","O"]," ,FIGHTBIT>"],["\t\t\t    <APPLY <GETP .",["Localid","O"]," ,P?ACTION> ,",["Id","F-BUSY?"],">)>"],["\t\t     <COND (<EQUAL? .",["Localid","O"]," ,",["Id","THIEF"],"> <SETG ",["Id","THIEF-ENGROSSED"]," <>>)>"],["\t\t     <FCLEAR ,",["Id","WINNER"]," ,STAGGERED>"],["\t\t     <FCLEAR .",["Localid","O"]," ,STAGGERED>"],["\t\t     <FCLEAR .",["Localid","O"]," ,FIGHTBIT>"],["\t\t     <",["Id","AWAKEN"]," .",["Localid","O"],">)>>"],["      <COND (<NOT .",["Localid","FIGHT?"],"> <RFALSE>)>"],["      <",["Id","DO-FIGHT"]," .",["Localid","LEN"],">>"],[],["<ROUTINE ",["Iddef","AWAKEN"]," (",["Localid","O"]," ",["Str","\"AUX\""]," (",["Localid","S"]," <GETP .",["Localid","O"]," ,P?STRENGTH>))"],["\t <COND (<L? .",["Localid","S"]," 0>"],["\t\t<PUTP .",["Localid","O"]," ,P?STRENGTH <- 0 .",["Localid","S"],">>"],["\t\t<APPLY <GETP .",["Localid","O"]," ,P?ACTION> ,",["Id","F-CONSCIOUS"],">)>"],["\t T>"],[],[["Str","\"SWORD demon\""]],[],["<ROUTINE ",["Iddef","I-SWORD"]," (",["Str","\"AUX\""]," (",["Localid","DEM"]," <",["Id","INT"]," ",["Iddef","I-SWORD"],">) (",["Localid","G"]," <GETP ,",["Id","SWORD"]," ,P?TVALUE>)"],["\t\t        (",["Localid","NG"]," 0) ",["Localid","P"]," ",["Localid","T"]," ",["Localid","L"],")"],["\t <COND (<IN? ,",["Id","SWORD"]," ,",["Id","ADVENTURER"],">"],["\t\t<COND (<",["Id","INFESTED?"]," ,",["Id","HERE"],"> <SET ",["Localid","NG"]," 2>)"],["\t\t      (",["Localid","T"]],["\t\t       <SET ",["Localid","P"]," 0>"],["\t\t       <REPEAT ()"],["\t\t\t       <COND (<0? <SET ",["Localid","P"]," <NEXTP ,",["Id","HERE"]," .",["Localid","P"],">>>"],["\t\t\t\t      <RETURN>)"],["\t\t\t\t     (<NOT <L? .",["Localid","P"]," ,",["Id","LOW-DIRECTION"],">>"],["\t\t\t\t      <SET ",["Localid","T"]," <GETPT ,",["Id","HERE"]," .",["Localid","P"],">>"],["\t\t\t\t      <SET ",["Localid","L"]," <PTSIZE .",["Localid","T"],">>"],["\t\t\t\t      <COND (<EQUAL? .",["Localid","L"]," ,",["Id","UEXIT"]," ,",["Id","CEXIT"]," ,",["Id","DEXIT"],">"],["\t\t\t\t\t     <COND (<",["Id","INFESTED?"]," <GETB .",["Localid","T"]," 0>>"],["\t\t\t\t\t\t    <SET ",["Localid","NG"]," 1>"],["\t\t\t\t\t\t    <RETURN>)>)>)>>)>"],["\t\t<COND (<EQUAL? .",["Localid","NG"]," .",["Localid","G"],"> <RFALSE>)"],["\t\t      (<EQUAL? .",["Localid","NG"]," 2>"],["\t\t       <TELL ",["Str","\"Your sword has begun to glow very brightly.\""]," CR>)"],["\t\t      (<1? .",["Localid","NG"],">"],["\t\t       <TELL ",["Str","\"Your sword is glowing with a faint blue glow.\""]],["\t\t\t     CR>)"],["\t\t      (<0? .",["Localid","NG"],">"],["\t\t       <TELL ",["Str","\"Your sword is no longer glowing.\""]," CR>)>"],["\t\t<PUTP ,",["Id","SWORD"]," ,P?TVALUE .",["Localid","NG"],">"],["\t\t<RTRUE>)"],["\t       (",["Localid","T"]],["\t\t<PUT .",["Localid","DEM"]," ,",["Id","C-ENABLED?"]," 0>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE ",["Iddef","INFESTED?"]," (",["Localid","R"]," ",["Str","\"AUX\""]," (",["Localid","F"]," <FIRST? .",["Localid","R"],">))"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","F"],"> <RFALSE>)"],["\t\t       (<AND <FSET? .",["Localid","F"]," ,ACTORBIT> <NOT <FSET? .",["Localid","F"]," ,INVISIBLE>>>"],["\t\t\t<RTRUE>)"],["\t\t       (<NOT <SET ",["Localid","F"]," <NEXT? .",["Localid","F"],">>> <RFALSE>)>>>"],[],[["Str","\"THIEF demon\""]],[],["<ROUTINE ",["Iddef","I-THIEF"]," (",["Str","\"AUX\""]," (",["Localid","RM"]," <LOC ,",["Id","THIEF"],">) ",["Localid","ROBJ"]," ",["Localid","HERE?"]," (",["Localid","ONCE"]," <>) (",["Localid","FLG"]," <>))"],["   <PROG ()"],["     <COND (<SET ",["Localid","HERE?"]," <NOT <FSET? ,",["Id","THIEF"]," ,INVISIBLE>>>"],["\t    <SET ",["Localid","RM"]," <LOC ,",["Id","THIEF"],">>)>"],["     <COND"],["      (<AND <EQUAL? .",["Localid","RM"]," ,",["Id","TREASURE-ROOM"],"> <NOT <EQUAL? .",["Localid","RM"]," ,",["Id","HERE"],">>>"],["       <COND (.",["Localid","HERE?"]," <",["Id","HACK-TREASURES"],"> <SET ",["Localid","HERE?"]," <>>)>"],["       <",["Id","DEPOSIT-BOOTY"]," ,",["Id","TREASURE-ROOM"],"> ",["Comment",";\"silent\""],")"],["      (<AND <EQUAL? .",["Localid","RM"]," ,",["Id","HERE"],">"],["\t    <NOT <FSET? .",["Localid","RM"]," ,ONBIT>>"],["\t    <NOT <IN? ,",["Id","TROLL"]," ,",["Id","HERE"],">>>"],["       <COND (<",["Id","THIEF-VS-ADVENTURER"]," .",["Localid","HERE?"],"> <RTRUE>)>"],["       <COND (<FSET? ,",["Id","THIEF"]," ,INVISIBLE> <SET ",["Localid","HERE?"]," <>>)>)"],["      (T"],["       <COND (<AND <IN? ,",["Id","THIEF"]," .",["Localid","RM"],">"],["\t\t   <NOT <FSET? ,",["Id","THIEF"]," ,INVISIBLE>>> ",["Comment",";\"Leave if victim left\""]],["\t      <FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t      <SET ",["Localid","HERE?"]," <>>)>"],["       <COND (<FSET? .",["Localid","RM"]," ,TOUCHBIT>     ",["Comment",";\"Hack the adventurer's belongings\""]],["\t      <",["Id","ROB"]," .",["Localid","RM"]," ,",["Id","THIEF"]," 75>"],["\t      <SET ",["Localid","FLG"]],["\t\t   <COND (<AND <FSET? .",["Localid","RM"]," ,MAZEBIT>"],["\t\t\t       <FSET? ,",["Id","HERE"]," ,MAZEBIT>>"],["\t\t\t  <",["Id","ROB-MAZE"]," .",["Localid","RM"],">)"],["\t\t\t (T <",["Id","STEAL-JUNK"]," .",["Localid","RM"],">)>>)>)>"],["     <COND (<AND <SET ",["Localid","ONCE"]," <NOT .",["Localid","ONCE"],">> <NOT .",["Localid","HERE?"],">>"],["\t\t\t\t\t   ",["Comment",";\"Move to next room, and hack.\""]],["\t    <",["Id","RECOVER-STILETTO"],">"],["\t    <REPEAT ()"],["\t\t    <COND (<AND .",["Localid","RM"]," <SET ",["Localid","RM"]," <NEXT? .",["Localid","RM"],">>>)"],["\t\t\t  (T <SET ",["Localid","RM"]," <FIRST? ,",["Id","ROOMS"],">>)>"],["\t\t    <COND (<AND <NOT <FSET? .",["Localid","RM"]," ,SACREDBIT>>"],["\t\t\t\t<FSET? .",["Localid","RM"]," ,RLANDBIT>>"],["\t\t\t   <MOVE ,",["Id","THIEF"]," .",["Localid","RM"],">"],["\t\t\t   <FCLEAR ,",["Id","THIEF"]," ,FIGHTBIT>"],["\t\t\t   <FSET ,",["Id","THIEF"]," ,INVISIBLE>"],["\t\t\t   <SETG ",["Id","THIEF-HERE"]," <>>"],["\t\t\t   <RETURN>)>>"],["\t    <AGAIN>)>>"],["   <COND (<NOT <EQUAL? .",["Localid","RM"]," ,",["Id","TREASURE-ROOM"],">>"],["\t  <",["Id","DROP-JUNK"]," .",["Localid","RM"],">)>"],["   .",["Localid","FLG"],">"],[],["<ROUTINE ",["Iddef","DROP-JUNK"]," (",["Localid","RM"]," ",["Str","\"AUX\""]," ",["Localid","X"]," ",["Localid","N"]," (",["Localid","FLG"]," <>))"],["\t <SET ",["Localid","X"]," <FIRST? ,",["Id","THIEF"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RETURN .",["Localid","FLG"],">)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t <COND (<EQUAL? .",["Localid","X"]," ,",["Id","STILETTO"]," ,",["Id","LARGE-BAG"],">)"],["\t\t       (<AND <0? <GETP .",["Localid","X"]," ,P?TVALUE>> <PROB 30 T>>"],["\t\t\t<FCLEAR .",["Localid","X"]," ,INVISIBLE>"],["\t\t\t<MOVE .",["Localid","X"]," .",["Localid","RM"],">"],["\t\t\t<COND (<AND <NOT .",["Localid","FLG"],"> <EQUAL? .",["Localid","RM"]," ,",["Id","HERE"],">>"],["\t\t\t       <TELL"],[["Str","\"The robber, rummaging through his bag, dropped a few items he found"]],[["Str","valueless.\""]," CR>"],["\t\t\t       <SET ",["Localid","FLG"]," T>)>)>"],["\t\t <SET ",["Localid","X"]," .",["Localid","N"],">>>"],[],["<ROUTINE ",["Iddef","RECOVER-STILETTO"]," ()"],["\t <COND (<IN? ,",["Id","STILETTO"]," <LOC ,",["Id","THIEF"],">>"],["\t\t<FSET ,",["Id","STILETTO"]," ,NDESCBIT>"],["\t\t<MOVE ,",["Id","STILETTO"]," ,",["Id","THIEF"],">)>>"],[],["<ROUTINE ",["Iddef","STEAL-JUNK"]," (",["Localid","RM"]," ",["Str","\"AUX\""]," ",["Localid","X"]," ",["Localid","N"],")"],["\t <SET ",["Localid","X"]," <FIRST? .",["Localid","RM"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RFALSE>)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t <COND (<AND <0? <GETP .",["Localid","X"]," ,P?TVALUE>>"],["\t\t\t     <FSET? .",["Localid","X"]," ,TAKEBIT>"],["\t\t\t     <NOT <FSET? .",["Localid","X"]," ,SACREDBIT>>"],["\t\t\t     <NOT <FSET? .",["Localid","X"]," ,INVISIBLE>>"],["\t\t\t     <OR <EQUAL? .",["Localid","X"]," ,",["Id","STILETTO"],">"],["\t\t\t\t <PROB 10 T>>>"],["\t\t\t<MOVE .",["Localid","X"]," ,",["Id","THIEF"],">"],["\t\t\t<FSET .",["Localid","X"]," ,TOUCHBIT>"],["\t\t\t<FSET .",["Localid","X"]," ,INVISIBLE>"],["\t\t\t<COND (<EQUAL? .",["Localid","X"]," ,",["Id","ROPE"],"> <SETG ",["Id","DOME-FLAG"]," <>>)>"],["\t\t\t<COND (<EQUAL? .",["Localid","RM"]," ,",["Id","HERE"],">"],["\t\t\t       <TELL ",["Str","\"You suddenly notice that the \""]],["\t\t\t\t     D .",["Localid","X"]," ",["Str","\" vanished.\""]," CR>"],["\t\t\t       <RTRUE>)"],["\t\t\t      (ELSE <RFALSE>)>)>"],["\t\t <SET ",["Localid","X"]," .",["Localid","N"],">>>"],[],["<ROUTINE ",["Iddef","ROB"]," (",["Localid","WHAT"]," ",["Localid","THIEF"]," ",["Str","\"OPTIONAL\""]," (",["Localid","PROB"]," <>) ",["Str","\"AUX\""]," ",["Localid","N"]," ",["Localid","X"]," (",["Localid","ROBBED?"]," <>))"],["\t <SET ",["Localid","X"]," <FIRST? .",["Localid","WHAT"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","X"],"> <RETURN .",["Localid","ROBBED?"],">)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","X"],">>"],["\t\t <COND (<AND <NOT <FSET? .",["Localid","X"]," ,INVISIBLE>>"],["\t\t\t     <NOT <FSET? .",["Localid","X"]," ,SACREDBIT>>"],["\t\t\t     <G? <GETP .",["Localid","X"]," ,P?TVALUE> 0>"],["\t\t\t     <OR <NOT .",["Localid","PROB"],"> <",["Localid","PROB"]," .",["Localid","PROB"],">>>"],["\t\t\t<MOVE .",["Localid","X"]," .",["Localid","THIEF"],">"],["\t\t\t<FSET .",["Localid","X"]," ,TOUCHBIT>"],["\t\t\t<COND (<EQUAL? .",["Localid","THIEF"]," ,",["Localid","THIEF"],"> <FSET .",["Localid","X"]," ,INVISIBLE>)>"],["\t\t\t<SET ",["Localid","ROBBED?"]," T>)>"],["\t\t <SET ",["Localid","X"]," .",["Localid","N"],">>>"],[],["^/L"],[],[["Comment",";\"special-cased routines\""]],[],["<ROUTINE ",["Iddef","V-DIAGNOSE"]," (",["Str","\"AUX\""]," (",["Localid","MS"]," <",["Id","FIGHT-STRENGTH"]," <>>)"],["\t\t     (",["Localid","WD"]," <GETP ,",["Id","WINNER"]," ,P?STRENGTH>) (",["Localid","RS"]," <+ .",["Localid","MS"]," .",["Localid","WD"],">))"],["\t #DECL ((",["Localid","MS"]," ",["Localid","WD"]," ",["Localid","RS"],") FIX)"],["\t <COND (<0? <GET <",["Id","INT"]," ",["Id","I-CURE"],"> ,",["Id","C-ENABLED?"],">> <SET ",["Localid","WD"]," 0>)"],["\t       (ELSE <SET ",["Localid","WD"]," <- .",["Localid","WD"],">>)>"],["\t <COND (<0? .",["Localid","WD"],"> <TELL ",["Str","\"You are in perfect health.\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"You have \""],">"],["\t\t<COND (<1? .",["Localid","WD"],"> <TELL ",["Str","\"a light wound,\""],">)"],["\t\t      (<EQUAL? .",["Localid","WD"]," 2> <TELL ",["Str","\"a serious wound,\""],">)"],["\t\t      (<EQUAL? .",["Localid","WD"]," 3> <TELL ",["Str","\"several wounds,\""],">)"],["\t\t      (<G? .",["Localid","WD"]," 3> <TELL ",["Str","\"serious wounds,\""],">)>)>"],["\t <COND (<NOT <0? .",["Localid","WD"],">>"],["\t\t<TELL ",["Str","\" which will be cured after \""],">"],["\t\t<PRINTN"],["\t\t <+ <* ,",["Id","CURE-WAIT"]," <- .",["Localid","WD"]," 1>>"],["\t\t    <GET <",["Id","INT"]," ",["Id","I-CURE"],"> ,",["Id","C-TICK"],">>>"],["\t\t<TELL ",["Str","\" moves.\""],">)>"],["\t <CRLF>"],["\t <TELL ",["Str","\"You can \""],">"],["\t <COND (<0? .",["Localid","RS"],"> <TELL ",["Str","\"expect death soon\""],">)"],["\t       (<1? .",["Localid","RS"],"> <TELL ",["Str","\"be killed by one more light wound\""],">)"],["\t       (<EQUAL? .",["Localid","RS"]," 2> <TELL ",["Str","\"be killed by a serious wound\""],">)"],["\t       (<EQUAL? .",["Localid","RS"]," 3> <TELL ",["Str","\"survive one serious wound\""],">)"],["\t       (<G? .",["Localid","RS"]," 3>"],["\t\t<TELL ",["Str","\"strong enough to take several wounds.\""],">)>"],["\t <TELL ",["Str","\".\""]," CR>"],["\t <COND (<NOT <0? ,",["Id","DEATHS"],">>"],["\t\t<TELL ",["Str","\"You have been killed \""],">"],["\t\t<COND (<1? ,",["Id","DEATHS"],"> <TELL ",["Str","\"once\""],">)"],["\t\t      (T <TELL ",["Str","\"twice\""],">)>"],["\t\t<TELL ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-SCORE"]," (",["Str","\"OPTIONAL\""]," (",["Localid","ASK?"]," T))"],["\t #DECL ((",["Localid","ASK?"],") <OR ATOM FALSE>)"],["\t <TELL ",["Str","\"Your score is \""],">"],["\t <TELL N ,",["Id","SCORE"],">"],["\t <TELL ",["Str","\" (total of 350 points), in \""],">"],["\t <TELL N ,",["Id","MOVES"],">"],["\t <COND (<1? ,",["Id","MOVES"],"> <TELL ",["Str","\" move.\""],">) (ELSE <TELL ",["Str","\" moves.\""],">)>"],["\t <CRLF>"],["\t <TELL ",["Str","\"This gives you the rank of \""],">"],["\t <COND (<EQUAL? ,",["Id","SCORE"]," 350> <TELL ",["Str","\"Master Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 330> <TELL ",["Str","\"Wizard\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 300> <TELL ",["Str","\"Master\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 200> <TELL ",["Str","\"Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 100> <TELL ",["Str","\"Junior Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 50> <TELL ",["Str","\"Novice Adventurer\""],">)"],["\t       (<G? ,",["Id","SCORE"]," 25> <TELL ",["Str","\"Amateur Adventurer\""],">)"],["\t       (T <TELL ",["Str","\"Beginner\""],">)>"],["\t <TELL ",["Str","\".\""]," CR>"],["\t ,",["Id","SCORE"],">"],[],["<ROUTINE ",["Iddef","JIGS-UP"]," (",["Localid","DESC"]," ",["Str","\"OPTIONAL\""]," (",["Localid","PLAYER?"]," <>))"],[" \t <COND (,",["Id","DEAD"]],["\t\t<TELL ",["Str","\"|"]],[["Str","It takes a talented person to be killed while already dead. YOU are such"]],[["Str","a talent. Unfortunately, it takes a talented person to deal with it."]],[["Str","I am not such a talent. Sorry.\""]," CR>"],["\t\t<",["Id","FINISH"],">)>"],["\t <TELL .",["Localid","DESC"]," CR>"],["\t <COND (<NOT ,",["Id","LUCKY"],">"],["\t\t<TELL ",["Str","\"Bad luck, huh?\""]," CR>)>"],["\t <PROG ()"],["\t       <",["Id","SCORE-UPD"]," -10>"],["\t       <TELL ",["Str","\""]],[["Str","|    ****  You have died  ****"]],[["Str","|"]],[["Str","|\""],">"],["\t       <COND (<FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>"],["\t\t      <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">)>"],["\t       <COND"],["\t\t(<NOT <L? ,",["Id","DEATHS"]," 2>>"],["\t\t <TELL"],[["Str","\"You clearly are a suicidal maniac.  We don't allow psychotics in the"]],[["Str","cave, since they may harm other adventurers.  Your remains will be"]],[["Str","installed in the Land of the Living Dead, where your fellow"]],[["Str","adventurers may gloat over them.\""]," CR>"],["\t\t <",["Id","FINISH"],">)"],["\t\t(T"],["\t\t <SETG ",["Id","DEATHS"]," <+ ,",["Id","DEATHS"]," 1>>"],["\t\t <MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t\t <COND (<FSET? ,",["Id","SOUTH-TEMPLE"]," ,TOUCHBIT>"],["\t\t\t<TELL"],[["Str","\"As you take your last breath, you feel relieved of your burdens. The"]],[["Str","feeling passes as you find yourself before the gates of Hell, where"]],[["Str","the spirits jeer at you and deny you entry.  Your senses are"]],[["Str","disturbed.  The objects in the dungeon appear indistinct, bleached of"]],[["Str","color, even unreal.\""]," CR CR>"],["\t\t\t<SETG ",["Id","DEAD"]," T>"],["\t\t\t<SETG ",["Id","TROLL-FLAG"]," T>"],["\t\t\t<SETG ",["Id","GWIM-DISABLE"]," T>"],["\t\t\t<SETG ",["Id","ALWAYS-LIT"]," T>"],["\t\t\t<PUTP ,",["Id","WINNER"]," ,P?ACTION ",["Id","DEAD-FUNCTION"],">"],["\t\t\t<",["Id","GOTO"]," ,",["Id","ENTRANCE-TO-HADES"],">)"],["\t\t       (T"],["\t\t\t<TELL"],[["Str","\"Now, let's take a look here..."]],[["Str","Well, you probably deserve another chance.  I can't quite fix you"]],[["Str","up completely, but you can't have everything.\""]," CR CR>"],["\t\t\t<",["Id","GOTO"]," ,",["Id","FOREST-1"],">)>"],["\t\t <FCLEAR ,",["Id","TRAP-DOOR"]," ,TOUCHBIT>"],["\t\t <SETG ",["Id","P-CONT"]," <>>"],["\t\t <",["Id","RANDOMIZE-OBJECTS"],">"],["\t\t <",["Id","KILL-INTERRUPTS"],">)>>>"],[],["<ROUTINE ",["Iddef","RANDOMIZE-OBJECTS"]," (",["Str","\"AUX\""]," (",["Localid","R"]," <>) ",["Localid","F"]," ",["Localid","N"]," ",["Localid","L"],")"],["\t <COND (<IN? ,",["Id","LAMP"]," ,",["Id","WINNER"],">"],["\t\t<MOVE ,",["Id","LAMP"]," ,",["Id","LIVING-ROOM"],">)>"],["\t <COND (<IN? ,",["Id","COFFIN"]," ,",["Id","WINNER"],">"],["\t\t<MOVE ,",["Id","COFFIN"]," ,",["Id","EGYPT-ROOM"],">)>"],["\t <PUTP ,",["Id","SWORD"]," ,P?TVALUE 0>"],["\t <SET ",["Localid","N"]," <FIRST? ,",["Id","WINNER"],">>"],["\t <SET ",["Localid","L"]," <GET ,",["Id","ABOVE-GROUND"]," 0>>"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","F"]," .",["Localid","N"],">"],["\t\t <COND (<NOT .",["Localid","F"],"> <RETURN>)>"],["\t\t <SET ",["Localid","N"]," <NEXT? .",["Localid","F"],">>"],["\t\t <COND (<G? <GETP .",["Localid","F"]," ,P?TVALUE> 0>"],["\t\t\t<REPEAT ()"],["\t\t\t\t<COND (<NOT .",["Localid","R"],"> <SET ",["Localid","R"]," <FIRST? ,",["Id","ROOMS"],">>)>"],["\t\t\t\t<COND (<AND <FSET? .",["Localid","R"]," ,RLANDBIT>"],["\t\t\t\t\t    <NOT <FSET? .",["Localid","R"]," ,ONBIT>>"],["\t\t\t\t\t    <PROB 50>>"],["\t\t\t\t       <MOVE .",["Localid","F"]," .",["Localid","R"],">"],["\t\t\t\t       <RETURN>)"],["\t\t\t\t      (ELSE <SET ",["Localid","R"]," <NEXT? .",["Localid","R"],">>)>>)"],["\t\t       (ELSE"],["\t\t\t<MOVE .",["Localid","F"]," <GET ,",["Id","ABOVE-GROUND"]," <RANDOM .",["Localid","L"],">>>)>>>"],[],["<ROUTINE ",["Iddef","KILL-INTERRUPTS"]," ()"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-XB"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-XC"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-CYCLOPS"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-LANTERN"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-CANDLES"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-SWORD"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-FOREST-ROOM"],">>"],["\t <DISABLE <",["Id","INT"]," ",["Id","I-MATCH"],">>"],["\t <FCLEAR ,",["Id","MATCH"]," ,ONBIT>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","BAG-OF-COINS-F"]," ()"],["\t <",["Id","STUPID-CONTAINER"]," ,",["Id","BAG-OF-COINS"]," ",["Str","\"coins\""],">>"],[],["<ROUTINE ",["Iddef","TRUNK-F"]," ()"],["\t <",["Id","STUPID-CONTAINER"]," ,",["Id","TRUNK"]," ",["Str","\"jewels\""],">>"],[],["<ROUTINE ",["Iddef","STUPID-CONTAINER"]," (",["Localid","OBJ"]," ",["Localid","STR"],")"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL"],[["Str","\"The \""]," .",["Localid","STR"]," ",["Str","\" are safely inside; there's no need to do that.\""]," CR>)"],["\t       (<VERB? LOOK-INSIDE EXAMINE>"],["\t\t<TELL"],[["Str","\"There are lots of \""]," .",["Localid","STR"]," ",["Str","\" in there.\""]," CR>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,",["Id","PRSI"]," .",["Localid","OBJ"],">>"],["\t\t<TELL"],[["Str","\"Don't be silly. It wouldn't be a \""]," D .",["Localid","OBJ"]," ",["Str","\" anymore.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","DUMB-CONTAINER"]," ()"],["\t <COND (<VERB? OPEN CLOSE LOOK-INSIDE>"],["\t\t<TELL ",["Str","\"You can't do that.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"It looks pretty much like a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","GARLIC-F"]," ()"],["\t <COND (<VERB? EAT>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t<TELL"],[["Str","\"What the heck! You won't make friends this way, but nobody around"]],[["Str","here is too friendly anyhow. Gulp!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","CHAIN-PSEUDO"]," ()"],["\t <COND (<VERB? TAKE MOVE>"],["\t\t<TELL ",["Str","\"The chain is secure.\""]," CR>)"],["\t       (<VERB? RAISE LOWER>"],["\t\t<TELL ",["Str","\"Perhaps you should do that to the basket.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The chain secures a basket within the shaft.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","TROLL-ROOM-F"]," (",["Localid","RARG"],")"],["\t <COND (<AND <EQUAL? .",["Localid","RARG"]," ,",["Id","M-ENTER"],">"],["\t\t     <IN? ,",["Id","TROLL"]," ,",["Id","HERE"],">>"],["\t\t<",["Id","THIS-IS-IT"]," ,",["Id","TROLL"],">)>>"]],"1dungeon.zil":[[["Str","\"1DUNGEON for"]],[["Str","\t        Zork I: The Great Underground Empire"]],[["Str","\t(c) Copyright 1983 Infocom, Inc. All Rights Reserved.\""]],[],["<DIRECTIONS NORTH EAST WEST SOUTH NE NW SE SW UP DOWN IN OUT LAND>"],[],["<GLOBAL ",["Iddef","SCORE-MAX"]," 350>"],[],["<GLOBAL ",["Iddef","FALSE-FLAG"]," <>>"],[],[["Str","\"SUBTITLE OBJECTS\""]],[],["<OBJECT ",["Iddef","BOARD"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BOARDS"]," ",["Dict","BOARD"],")"],["\t(DESC ",["Str","\"board\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BOARD-F"],")>"],[],["<OBJECT ",["Iddef","TEETH"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","OVERBOARD"]," ",["Dict","TEETH"],")"],["\t(DESC ",["Str","\"set of teeth\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","TEETH-F"],")>"],[],["<OBJECT ",["Iddef","WALL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WALL"]," ",["Dict","WALLS"],")"],["\t(ADJECTIVE ",["Dict","SURROUNDING"],")"],["\t(DESC ",["Str","\"surrounding wall\""],")>"],[],["<OBJECT ",["Iddef","GRANITE-WALL"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE ",["Dict","GRANITE"],")"],["\t(DESC ",["Str","\"granite wall\""],")"],["\t(ACTION ",["Id","GRANITE-WALL-F"],")>"],[],["<OBJECT ",["Iddef","SONGBIRD"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BIRD"]," ",["Dict","SONGBIRD"],")"],["\t(ADJECTIVE ",["Dict","SONG"],")"],["\t(DESC ",["Str","\"songbird\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","SONGBIRD-F"],")>"],[],["<OBJECT ",["Iddef","WHITE-HOUSE"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","HOUSE"],")"],["\t(ADJECTIVE ",["Dict","WHITE"]," ",["Dict","BEAUTI"]," ",["Dict","COLONI"],")"],["\t(DESC ",["Str","\"white house\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","WHITE-HOUSE-F"],")>"],[],["<OBJECT ",["Iddef","FOREST"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","FOREST"]," ",["Dict","TREES"]," ",["Dict","PINES"]," ",["Dict","HEMLOCKS"],")"],["\t(DESC ",["Str","\"forest\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","FOREST-F"],")>"],[],["<OBJECT ",["Iddef","TREE"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","TREE"]," ",["Dict","BRANCH"],")"],["\t(ADJECTIVE ",["Dict","LARGE"]," ",["Dict","STORM"]," ",["Comment",";\"-TOSSED\""],")"],["\t(DESC ",["Str","\"tree\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)>"],[],["<OBJECT ",["Iddef","MOUNTAIN-RANGE"]],["\t(IN ",["Id","MOUNTAINS"],")"],["\t(DESC ",["Str","\"mountain range\""],")"],["\t(SYNONYM ",["Dict","MOUNTAIN"]," ",["Dict","RANGE"],")"],["\t(ADJECTIVE ",["Dict","IMPASSABLE"]," ",["Dict","FLATHEAD"],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION ",["Id","MOUNTAIN-RANGE-F"],")>"],[],["<OBJECT ",["Iddef","GLOBAL-WATER"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"],")"],["\t(DESC ",["Str","\"water\""],")"],["\t(FLAGS DRINKBIT)"],["\t(ACTION ",["Id","WATER-F"],")>"],[],["<OBJECT ",["Iddef","WATER"]],["\t(IN ",["Id","BOTTLE"],")"],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"]," ",["Dict","LIQUID"]," ",["Dict","H2O"],")"],["\t(DESC ",["Str","\"quantity of water\""],")"],["\t(FLAGS TRYTAKEBIT TAKEBIT DRINKBIT)"],["\t(ACTION ",["Id","WATER-F"],")"],["\t(SIZE 4)>"],[],["<OBJECT\t",["Iddef","KITCHEN-WINDOW"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WINDOW"],")"],["\t(ADJECTIVE ",["Dict","KITCHEN"]," ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"kitchen window\""],")"],["\t(FLAGS DOORBIT NDESCBIT)"],["\t(ACTION ",["Id","KITCHEN-WINDOW-F"],")>"],[],["<OBJECT ",["Iddef","CHIMNEY"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CHIMNEY"],")"],["\t(ADJECTIVE ",["Dict","DARK"]," ",["Dict","NARROW"],")"],["\t(DESC ",["Str","\"chimney\""],")"],["\t(ACTION ",["Id","CHIMNEY-F"],")"],["\t(FLAGS CLIMBBIT NDESCBIT)>"],[],["<OBJECT ",["Iddef","GHOSTS"]],["\t(IN ",["Id","ENTRANCE-TO-HADES"],")"],["\t(SYNONYM ",["Dict","GHOSTS"]," ",["Dict","SPIRITS"]," ",["Dict","FIENDS"]," ",["Dict","FORCE"],")"],["\t(ADJECTIVE ",["Dict","INVISIBLE"]," ",["Dict","EVIL"],")"],["\t(DESC ",["Str","\"number of ghosts\""],")"],["\t(FLAGS ACTORBIT NDESCBIT)"],["\t(ACTION ",["Id","GHOSTS-F"],")>"],[],["<OBJECT ",["Iddef","SKULL"]],["\t(IN ",["Id","LAND-OF-LIVING-DEAD"],")"],["\t(SYNONYM ",["Dict","SKULL"]," ",["Dict","HEAD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","CRYSTAL"],")"],["\t(DESC ",["Str","\"crystal skull\""],")"],["\t(FDESC"],[["Str","\"Lying in one corner of the room is a beautifully carved crystal skull."]],[["Str","It appears to be grinning at you rather nastily.\""],")"],["\t(FLAGS TAKEBIT)"],["\t(VALUE 10)"],["\t(TVALUE 10)>"],[],["<OBJECT ",["Iddef","LOWERED-BASKET"]],["\t(IN ",["Id","LOWER-SHAFT"],")"],["\t(SYNONYM ",["Dict","CAGE"]," ",["Dict","DUMBWAITER"]," ",["Dict","BASKET"],")"],["\t(ADJECTIVE ",["Dict","LOWERED"],")"],["\t(LDESC ",["Str","\"From the chain is suspended a basket.\""],")"],["\t(DESC ",["Str","\"basket\""],")"],["\t(FLAGS TRYTAKEBIT)"],["\t(ACTION ",["Id","BASKET-F"],")>"],[],["<OBJECT ",["Iddef","RAISED-BASKET"]],["\t(IN ",["Id","SHAFT-ROOM"],")"],["\t(SYNONYM ",["Dict","CAGE"]," ",["Dict","DUMBWAITER"]," ",["Dict","BASKET"],")"],["\t(DESC ",["Str","\"basket\""],")"],["\t(FLAGS TRANSBIT TRYTAKEBIT CONTBIT OPENBIT)"],["\t(ACTION ",["Id","BASKET-F"],")"],["\t(LDESC ",["Str","\"At the end of the chain is a basket.\""],")"],["\t(CAPACITY 50)>"],[],["<OBJECT ",["Iddef","LUNCH"]],["\t(IN ",["Id","SANDWICH-BAG"],")"],["\t(SYNONYM ",["Dict","FOOD"]," ",["Dict","SANDWICH"]," ",["Dict","LUNCH"]," ",["Dict","DINNER"],")"],["\t(ADJECTIVE ",["Dict","HOT"]," ",["Dict","PEPPER"],")"],["\t(DESC ",["Str","\"lunch\""],")"],["\t(FLAGS TAKEBIT FOODBIT)"],["\t(LDESC ",["Str","\"A hot pepper sandwich is here.\""],")>"],[],["<OBJECT ",["Iddef","BAT"]],["\t(IN ",["Id","BAT-ROOM"],")"],["\t(SYNONYM ",["Dict","BAT"]," ",["Dict","VAMPIRE"],")"],["\t(ADJECTIVE ",["Dict","VAMPIRE"]," ",["Dict","DERANGED"],")"],["\t(DESC ",["Str","\"bat\""],")"],["\t(FLAGS ACTORBIT TRYTAKEBIT)"],["\t(DESCFCN ",["Id","BAT-D"],")"],["\t(ACTION ",["Id","BAT-F"],")>"],[],["<OBJECT ",["Iddef","BELL"]],["\t(IN ",["Id","NORTH-TEMPLE"],")"],["\t(SYNONYM ",["Dict","BELL"],")"],["\t(ADJECTIVE ",["Dict","SMALL"]," ",["Dict","BRASS"],")"],["\t(DESC ",["Str","\"brass bell\""],")"],["\t(FLAGS TAKEBIT)"],["\t(ACTION ",["Id","BELL-F"],")>"],[],["<OBJECT ",["Iddef","HOT-BELL"]],["\t(SYNONYM ",["Dict","BELL"],")"],["\t(ADJECTIVE ",["Dict","BRASS"]," ",["Dict","HOT"]," ",["Dict","RED"]," ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"red hot brass bell\""],")"],["\t(FLAGS TRYTAKEBIT)"],["\t(ACTION ",["Id","HOT-BELL-F"],")"],["\t(LDESC ",["Str","\"On the ground is a red hot bell.\""],")>"],[],["<OBJECT ",["Iddef","AXE"]],["\t(IN ",["Id","TROLL"],")"],["\t(SYNONYM ",["Dict","AXE"]," ",["Dict","AX"],")"],["\t(ADJECTIVE ",["Dict","BLOODY"],")"],["\t(DESC ",["Str","\"bloody axe\""],")"],["\t(FLAGS WEAPONBIT TRYTAKEBIT TAKEBIT NDESCBIT)"],["\t(ACTION ",["Id","AXE-F"],")"],["\t(SIZE 25)>"],[],["<OBJECT ",["Iddef","BOLT"]],["\t(IN ",["Id","DAM-ROOM"],")"],["\t(SYNONYM ",["Dict","BOLT"]," ",["Dict","NUT"],")"],["\t(ADJECTIVE ",["Dict","METAL"]," ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"bolt\""],")"],["\t(FLAGS NDESCBIT TURNBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","BOLT-F"],")>"],[],["<OBJECT ",["Iddef","BUBBLE"]],["\t(IN ",["Id","DAM-ROOM"],")"],["\t(SYNONYM ",["Dict","BUBBLE"],")"],["\t(ADJECTIVE ",["Dict","SMALL"]," ",["Dict","GREEN"]," ",["Dict","PLASTIC"],")"],["\t(DESC ",["Str","\"green bubble\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","BUBBLE-F"],")>"],[],["<OBJECT ",["Iddef","ALTAR"]],["\t(IN ",["Id","SOUTH-TEMPLE"],")"],["\t(SYNONYM ",["Dict","ALTAR"],")"],["\t(DESC ",["Str","\"altar\""],")"],["\t(FLAGS NDESCBIT SURFACEBIT CONTBIT OPENBIT)"],["\t(CAPACITY 50)>"],[],["<OBJECT ",["Iddef","BOOK"]],["\t(IN ",["Id","ALTAR"],")"],["\t(SYNONYM ",["Dict","BOOK"]," ",["Dict","PRAYER"]," ",["Dict","PAGE"]," ",["Dict","BOOKS"],")"],["\t(ADJECTIVE ",["Dict","LARGE"]," ",["Dict","BLACK"],")"],["\t(DESC ",["Str","\"black book\""],")"],["\t(FLAGS READBIT TAKEBIT CONTBIT BURNBIT TURNBIT)"],["\t(ACTION ",["Id","BLACK-BOOK"],")"],["\t(FDESC ",["Str","\"On the altar is a large black book, open to page 569.\""],")"],["\t(SIZE 10)"],["\t(TEXT"],[["Str","\"Commandment #12592|"]],[["Str","|"]],[["Str","Oh ye who go about saying unto each:  \\\"Hello sailor\\\":|"]],[["Str","Dost thou know the magnitude of thy sin before the gods?|"]],[["Str","Yea, verily, thou shalt be ground between two stones.|"]],[["Str","Shall the angry gods cast thy body into the whirlpool?|"]],[["Str","Surely, thy eye shall be put out with a sharp stick!|"]],[["Str","Even unto the ends of the earth shalt thou wander and|"]],[["Str","Unto the land of the dead shalt thou be sent at last.|"]],[["Str","Surely thou shalt repent of thy cunning.\""]," )>"],[],["<OBJECT ",["Iddef","BROKEN-LAMP"]],["\t(SYNONYM ",["Dict","LAMP"]," ",["Dict","LANTERN"],")"],["\t(ADJECTIVE ",["Dict","BROKEN"],")"],["\t(DESC ",["Str","\"broken lantern\""],")"],["\t(FLAGS TAKEBIT)>"],[],["<OBJECT ",["Iddef","SCEPTRE"]],["\t(IN ",["Id","COFFIN"],")"],["\t(SYNONYM ",["Dict","SCEPTRE"]," ",["Dict","SCEPTER"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","SHARP"]," ",["Dict","EGYPTIAN"]," ",["Dict","ANCIENT"]," ",["Dict","ENAMELED"],")"],["\t(DESC ",["Str","\"sceptre\""],")"],["\t(FLAGS TAKEBIT WEAPONBIT)"],["\t(ACTION ",["Id","SCEPTRE-FUNCTION"],")"],["\t(LDESC"],[["Str","\"An ornamented sceptre, tapering to a sharp point, is here.\""],")"],["\t(FDESC"],[["Str","\"A sceptre, possibly that of ancient Egypt itself, is in the coffin. The"]],[["Str","sceptre is ornamented with colored enamel, and tapers to a sharp point.\""],")"],["\t(SIZE 3)"],["\t(VALUE 4)"],["\t(TVALUE 6)>"],[],["<OBJECT ",["Iddef","TIMBERS"]],["\t(IN ",["Id","TIMBER-ROOM"],")"],["\t(SYNONYM ",["Dict","TIMBERS"]," ",["Dict","PILE"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"]," ",["Dict","BROKEN"],")"],["\t(DESC ",["Str","\"broken timber\""],")"],["\t(FLAGS TAKEBIT)"],["\t(SIZE 50)>"],[],["<OBJECT\t",["Iddef","SLIDE"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CHUTE"]," ",["Dict","RAMP"]," ",["Dict","SLIDE"],")"],["\t(ADJECTIVE ",["Dict","STEEP"]," ",["Dict","METAL"]," ",["Dict","TWISTING"],")"],["\t(DESC ",["Str","\"chute\""],")"],["\t(FLAGS CLIMBBIT)"],["\t(ACTION ",["Id","SLIDE-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","KITCHEN-TABLE"]],["\t(IN ",["Id","KITCHEN"],")"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(ADJECTIVE ",["Dict","KITCHEN"],")"],["\t(DESC ",["Str","\"kitchen table\""],")"],["\t(FLAGS NDESCBIT CONTBIT OPENBIT SURFACEBIT)"],["\t(CAPACITY 50)>"],[],["<OBJECT ",["Iddef","ATTIC-TABLE"]],["\t(IN ",["Id","ATTIC"],")"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(DESC ",["Str","\"table\""],")"],["\t(FLAGS NDESCBIT CONTBIT OPENBIT SURFACEBIT)"],["\t(CAPACITY 40)>"],[],["<OBJECT ",["Iddef","SANDWICH-BAG"]],["\t(IN ",["Id","KITCHEN-TABLE"],")"],["\t(SYNONYM ",["Dict","BAG"]," ",["Dict","SACK"],")"],["\t(ADJECTIVE ",["Dict","BROWN"]," ",["Dict","ELONGATED"]," ",["Dict","SMELLY"],")"],["\t(DESC ",["Str","\"brown sack\""],")"],["\t(FLAGS TAKEBIT CONTBIT BURNBIT)"],["\t(FDESC"],[["Str","\"On the table is an elongated brown sack, smelling of hot peppers.\""],")"],["\t(CAPACITY 15)"],["\t(SIZE 3)"],["\t(ACTION ",["Id","SANDWICH-BAG-FCN"],")>"],[],["<OBJECT ",["Iddef","TOOL-CHEST"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","CHEST"]," ",["Dict","CHESTS"]," ",["Dict","GROUP"]," ",["Dict","TOOLCHESTS"],")"],["\t(ADJECTIVE ",["Dict","TOOL"],")"],["\t(DESC ",["Str","\"group of tool chests\""],")"],["\t(FLAGS CONTBIT OPENBIT TRYTAKEBIT SACREDBIT)"],["\t(ACTION ",["Id","TOOL-CHEST-FCN"],")>"],[],["<OBJECT ",["Iddef","YELLOW-BUTTON"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE ",["Dict","YELLOW"],")"],["\t(DESC ",["Str","\"yellow button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BUTTON-F"],")>"],[],["<OBJECT ",["Iddef","BROWN-BUTTON"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE ",["Dict","BROWN"],")"],["\t(DESC ",["Str","\"brown button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BUTTON-F"],")>"],[],["<OBJECT ",["Iddef","RED-BUTTON"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE ",["Dict","RED"],")"],["\t(DESC ",["Str","\"red button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BUTTON-F"],")>"],[],["<OBJECT ",["Iddef","BLUE-BUTTON"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE ",["Dict","BLUE"],")"],["\t(DESC ",["Str","\"blue button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BUTTON-F"],")>"],[],["<OBJECT ",["Iddef","TROPHY-CASE"],"\t",["Comment",";\"first obj so L.R. desc looks right.\""]],["\t(IN ",["Id","LIVING-ROOM"],")"],["\t(SYNONYM ",["Dict","CASE"],")"],["\t(ADJECTIVE ",["Dict","TROPHY"],")"],["\t(DESC ",["Str","\"trophy case\""],")"],["\t(FLAGS TRANSBIT CONTBIT NDESCBIT TRYTAKEBIT SEARCHBIT)"],["\t(ACTION ",["Id","TROPHY-CASE-FCN"],")"],["\t(CAPACITY 10000)>"],[],["<OBJECT ",["Iddef","RUG"]],["\t(IN ",["Id","LIVING-ROOM"],")"],["\t(SYNONYM ",["Dict","RUG"]," ",["Dict","CARPET"],")"],["\t(ADJECTIVE ",["Dict","LARGE"]," ",["Dict","ORIENTAL"],")"],["\t(DESC ",["Str","\"carpet\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","RUG-FCN"],")>"],[],["<OBJECT ",["Iddef","CHALICE"]],["\t(IN ",["Id","TREASURE-ROOM"],")"],["\t(SYNONYM ",["Dict","CHALICE"]," ",["Dict","CUP"]," ",["Dict","SILVER"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","SILVER"]," ",["Dict","ENGRAVINGS"],") ",["Comment",";\"engravings exists...\""]],["\t(DESC ",["Str","\"chalice\""],")"],["\t(FLAGS TAKEBIT TRYTAKEBIT CONTBIT)"],["\t(ACTION ",["Id","CHALICE-FCN"],")"],["\t(LDESC ",["Str","\"There is a silver chalice, intricately engraved, here.\""],")"],["\t(CAPACITY 5)"],["\t(SIZE 10)"],["\t(VALUE 10)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","GARLIC"]],["\t(IN ",["Id","SANDWICH-BAG"],")"],["\t(SYNONYM ",["Dict","GARLIC"]," ",["Dict","CLOVE"],")"],["\t(DESC ",["Str","\"clove of garlic\""],")"],["\t(FLAGS TAKEBIT FOODBIT)"],["\t(ACTION ",["Id","GARLIC-F"],")>"],[],["<OBJECT ",["Iddef","TRIDENT"]],["\t(IN ",["Id","ATLANTIS-ROOM"],")"],["\t(SYNONYM ",["Dict","TRIDENT"]," ",["Dict","FORK"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","POSEIDON"]," ",["Dict","OWN"]," ",["Dict","CRYSTAL"],")"],["\t(DESC ",["Str","\"crystal trident\""],")"],["\t(FLAGS TAKEBIT)"],["\t(FDESC ",["Str","\"On the shore lies Poseidon's own crystal trident.\""],")"],["\t(SIZE 20)"],["\t(VALUE 4)"],["\t(TVALUE 11)>"],[],["<OBJECT ",["Iddef","CYCLOPS"]],["\t(IN ",["Id","CYCLOPS-ROOM"],")"],["\t(SYNONYM ",["Dict","CYCLOPS"]," ",["Dict","MONSTER"]," ",["Dict","EYE"],")"],["\t(ADJECTIVE ",["Dict","HUNGRY"]," ",["Dict","GIANT"],")"],["\t(DESC ",["Str","\"cyclops\""],")"],["\t(FLAGS ACTORBIT NDESCBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","CYCLOPS-FCN"],")"],["\t(STRENGTH 10000)>"],[],["<OBJECT ",["Iddef","DAM"]],["\t(IN ",["Id","DAM-ROOM"],")"],["\t(SYNONYM ",["Dict","DAM"]," ",["Dict","GATE"]," ",["Dict","GATES"]," ",["Dict","FCD\\#3"],")"],["\t(DESC ",["Str","\"dam\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","DAM-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","TRAP-DOOR"]],["\t(IN ",["Id","LIVING-ROOM"],")"],["\t(SYNONYM ",["Dict","DOOR"]," ",["Dict","TRAPDOOR"]," ",["Dict","TRAP-DOOR"]," ",["Dict","COVER"],")"],["\t(ADJECTIVE ",["Dict","TRAP"]," ",["Dict","DUSTY"],")"],["\t(DESC ",["Str","\"trap door\""],")"],["\t(FLAGS DOORBIT NDESCBIT INVISIBLE)"],["\t(ACTION ",["Id","TRAP-DOOR-FCN"],")>"],[],["<OBJECT ",["Iddef","BOARDED-WINDOW"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["        (SYNONYM ",["Dict","WINDOW"],")"],["\t(ADJECTIVE ",["Dict","BOARDED"],")"],["\t(DESC ",["Str","\"boarded window\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BOARDED-WINDOW-FCN"],")>"],[],["<OBJECT ",["Iddef","FRONT-DOOR"]],["\t(IN ",["Id","WEST-OF-HOUSE"],")"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE ",["Dict","FRONT"]," ",["Dict","BOARDED"],")"],["\t(DESC ",["Str","\"door\""],")"],["\t(FLAGS DOORBIT NDESCBIT)"],["\t(ACTION ",["Id","FRONT-DOOR-FCN"],")>"],[],["<OBJECT ",["Iddef","BARROW-DOOR"]],["\t(IN ",["Id","STONE-BARROW"],")"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","STONE"],")"],["\t(DESC ",["Str","\"stone door\""],")"],["\t(FLAGS DOORBIT NDESCBIT)"],["\t(ACTION ",["Id","BARROW-DOOR-FCN"],")>"],[],["<OBJECT ",["Iddef","BARROW"]],["\t(IN ",["Id","STONE-BARROW"],")"],["\t(SYNONYM ",["Dict","BARROW"]," ",["Dict","TOMB"],")"],["\t(ADJECTIVE ",["Dict","MASSIVE"]," ",["Dict","STONE"],")"],["\t(DESC ",["Str","\"stone barrow\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BARROW-FCN"],")>"],[],["<OBJECT ",["Iddef","BOTTLE"]],["\t(IN ",["Id","KITCHEN-TABLE"],")"],["\t(SYNONYM ",["Dict","BOTTLE"]," ",["Dict","CONTAINER"],")"],["\t(ADJECTIVE ",["Dict","CLEAR"]," ",["Dict","GLASS"],")"],["\t(DESC ",["Str","\"glass bottle\""],")"],["\t(FLAGS TAKEBIT TRANSBIT CONTBIT)"],["\t(ACTION ",["Id","BOTTLE-FUNCTION"],")"],["\t(FDESC ",["Str","\"A bottle is sitting on the table.\""],")"],["\t(CAPACITY 4)>"],[],["<OBJECT ",["Iddef","CRACK"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CRACK"],")"],["\t(ADJECTIVE ",["Dict","NARROW"],")"],["\t(DESC ",["Str","\"crack\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","CRACK-FCN"],")>"],[],["<OBJECT ",["Iddef","COFFIN"]],["\t(IN ",["Id","EGYPT-ROOM"],")"],["\t(SYNONYM ",["Dict","COFFIN"]," ",["Dict","CASKET"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","SOLID"]," ",["Dict","GOLD"],")"],["\t(DESC ",["Str","\"gold coffin\""],")"],["\t(FLAGS TAKEBIT CONTBIT SACREDBIT SEARCHBIT)"],["\t(LDESC"],[["Str","\"The solid-gold coffin used for the burial of Ramses II is here.\""],")"],["\t(CAPACITY 35)"],["\t(SIZE 55)"],["\t(VALUE 10)"],["\t(TVALUE 15)>"],[],["<OBJECT ",["Iddef","GRATE"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","GRATE"]," ",["Dict","GRATING"],")"],["\t(DESC ",["Str","\"grating\""],")"],["\t(FLAGS DOORBIT NDESCBIT INVISIBLE)"],["\t(ACTION ",["Id","GRATE-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","PUMP"]],["\t(IN ",["Id","RESERVOIR-NORTH"],")"],["\t(SYNONYM ",["Dict","PUMP"]," ",["Dict","AIR-PUMP"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"],")"],["\t(ADJECTIVE ",["Dict","SMALL"]," ",["Dict","HAND-HELD"],")"],["\t(DESC ",["Str","\"hand-held air pump\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)>"],[],["<OBJECT ",["Iddef","DIAMOND"]],["\t(SYNONYM ",["Dict","DIAMOND"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","HUGE"]," ",["Dict","ENORMOUS"],")"],["\t(DESC ",["Str","\"huge diamond\""],")"],["\t(FLAGS TAKEBIT)"],["\t(LDESC ",["Str","\"There is an enormous diamond (perfectly cut) here.\""],")"],["\t(VALUE 10)"],["\t(TVALUE 10)>"],[],["<OBJECT ",["Iddef","JADE"]],["\t(IN ",["Id","BAT-ROOM"],")"],["\t(SYNONYM ",["Dict","FIGURINE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","EXQUISITE"]," ",["Dict","JADE"],")"],["\t(DESC ",["Str","\"jade figurine\""],")"],["\t(FLAGS TAKEBIT)"],["\t(LDESC ",["Str","\"There is an exquisite jade figurine here.\""],")"],["\t(SIZE 10)"],["\t(VALUE 5)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","KNIFE"]],["\t(IN ",["Id","ATTIC-TABLE"],")"],["\t(SYNONYM ",["Dict","KNIVES"]," ",["Dict","KNIFE"]," ",["Dict","BLADE"],")"],["\t(ADJECTIVE ",["Dict","NASTY"]," ",["Dict","UNRUSTY"],")"],["\t(DESC ",["Str","\"nasty knife\""],")"],["\t(FLAGS TAKEBIT WEAPONBIT TRYTAKEBIT)"],["\t(FDESC ",["Str","\"On a table is a nasty-looking knife.\""],")"],["\t(ACTION ",["Id","KNIFE-F"],")>"],[],["<OBJECT ",["Iddef","BONES"]],["\t(IN ",["Id","MAZE-5"],")"],["\t(SYNONYM ",["Dict","BONES"]," ",["Dict","SKELETON"]," ",["Dict","BODY"],")"],["\t(DESC ",["Str","\"skeleton\""],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)"],["\t(ACTION ",["Id","SKELETON"],")>"],[],["<OBJECT ",["Iddef","BURNED-OUT-LANTERN"]],["\t(IN ",["Id","MAZE-5"],")"],["\t(SYNONYM ",["Dict","LANTERN"]," ",["Dict","LAMP"],")"],["\t(ADJECTIVE ",["Dict","RUSTY"]," ",["Dict","BURNED"]," ",["Dict","DEAD"]," ",["Dict","USELESS"],")"],["\t(DESC ",["Str","\"burned-out lantern\""],")"],["\t(FLAGS TAKEBIT)"],["\t(FDESC ",["Str","\"The deceased adventurer's useless lantern is here.\""],")"],["\t(SIZE 20)>"],[],["<OBJECT ",["Iddef","BAG-OF-COINS"]],["\t(IN ",["Id","MAZE-5"],")"],["\t(SYNONYM ",["Dict","BAG"]," ",["Dict","COINS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","OLD"]," ",["Dict","LEATHER"],")"],["\t(DESC ",["Str","\"leather bag of coins\""],")"],["\t(FLAGS TAKEBIT)"],["\t(LDESC ",["Str","\"An old leather bag, bulging with coins, is here.\""],")"],["\t(ACTION ",["Id","BAG-OF-COINS-F"],")"],["\t(SIZE 15)"],["\t(VALUE 10)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","LAMP"]],["\t(IN ",["Id","LIVING-ROOM"],")"],["\t(SYNONYM ",["Dict","LAMP"]," ",["Dict","LANTERN"]," ",["Dict","LIGHT"],")"],["\t(ADJECTIVE ",["Dict","BRASS"],")"],["\t(DESC ",["Str","\"brass lantern\""],")"],["\t(FLAGS TAKEBIT LIGHTBIT)"],["\t(ACTION ",["Id","LANTERN"],")"],["\t(FDESC ",["Str","\"A battery-powered brass lantern is on the trophy case.\""],")"],["\t(LDESC ",["Str","\"There is a brass lantern (battery-powered) here.\""],")"],["\t(SIZE 15)>"],[],["<OBJECT ",["Iddef","EMERALD"]],["\t(IN ",["Id","BUOY"],")"],["\t(SYNONYM ",["Dict","EMERALD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"large emerald\""],")"],["\t(FLAGS TAKEBIT)"],["\t(VALUE 5)"],["\t(TVALUE 10)>"],[],["<OBJECT ",["Iddef","ADVERTISEMENT"]],["\t(IN ",["Id","MAILBOX"],")"],["\t(SYNONYM ",["Dict","ADVERTISEMENT"]," ",["Dict","LEAFLET"]," ",["Dict","BOOKLET"]," ",["Dict","MAIL"],")"],["\t(ADJECTIVE ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"leaflet\""],")"],["\t(FLAGS READBIT TAKEBIT BURNBIT)"],["\t(LDESC ",["Str","\"A small leaflet is on the ground.\""],")"],["\t(TEXT"],[["Str","\"\\\"WELCOME TO ZORK!|"]],[["Str","|"]],[["Str","ZORK is a game of adventure, danger, and low cunning. In it you"]],[["Str","will explore some of the most amazing territory ever seen by mortals."]],[["Str","No computer should be without one!\\\"|"]],[["Str","\""],")"],["\t(SIZE 2)>"],[],["<OBJECT ",["Iddef","LEAK"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","LEAK"]," ",["Dict","DRIP"]," ",["Dict","PIPE"],")"],["\t(DESC ",["Str","\"leak\""],")"],["\t(FLAGS NDESCBIT INVISIBLE)"],["\t(ACTION ",["Id","LEAK-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","MACHINE"]],["\t(IN ",["Id","MACHINE-ROOM"],")"],["\t(SYNONYM ",["Dict","MACHINE"]," ",["Dict","PDP10"]," ",["Dict","DRYER"]," ",["Dict","LID"],")"],["\t(DESC ",["Str","\"machine\""],")"],["\t(FLAGS CONTBIT NDESCBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","MACHINE-F"],")"],["\t(CAPACITY 50)>"],[],["<OBJECT ",["Iddef","INFLATED-BOAT"]],["\t(SYNONYM ",["Dict","BOAT"]," ",["Dict","RAFT"],")"],["\t(ADJECTIVE ",["Dict","INFLAT"]," ",["Dict","MAGIC"]," ",["Dict","PLASTIC"]," ",["Dict","SEAWORTHY"],")"],["\t(DESC ",["Str","\"magic boat\""],")"],["\t(FLAGS TAKEBIT BURNBIT VEHBIT OPENBIT SEARCHBIT)"],["\t(ACTION ",["Id","RBOAT-FUNCTION"],")"],["\t(CAPACITY 100)"],["\t(SIZE 20)"],["\t(VTYPE NONLANDBIT)>"],[],["<OBJECT ",["Iddef","MAILBOX"]],["\t(IN ",["Id","WEST-OF-HOUSE"],")"],["\t(SYNONYM ",["Dict","MAILBOX"]," ",["Dict","BOX"],")"],["\t(ADJECTIVE ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"small mailbox\""],")"],["\t(FLAGS CONTBIT TRYTAKEBIT)"],["\t(CAPACITY 10)"],["\t(ACTION ",["Id","MAILBOX-F"],")>"],[],["<OBJECT ",["Iddef","MATCH"]],["\t(IN ",["Id","DAM-LOBBY"],")"],["\t(SYNONYM ",["Dict","MATCH"]," ",["Dict","MATCHES"]," ",["Dict","MATCHBOOK"],")"],["\t(ADJECTIVE ",["Dict","MATCH"],")"],["\t(DESC ",["Str","\"matchbook\""],")"],["\t(FLAGS READBIT TAKEBIT)"],["\t(ACTION ",["Id","MATCH-FUNCTION"],")"],["\t(LDESC"],[["Str","\"There is a matchbook whose cover says \\\"Visit Beautiful FCD#3\\\" here.\""],")"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"|"]],[["Str","(Close cover before striking)|"]],[["Str","|"]],[["Str","YOU too can make BIG MONEY in the exciting field of PAPER SHUFFLING!|"]],[["Str","|"]],[["Str","Mr. Anderson of Muddle, Mass. says: \\\"Before I took this course I"]],[["Str","was a lowly bit twiddler. Now with what I learned at GUE Tech"]],[["Str","I feel really important and can obfuscate and confuse with the best.\\\"|"]],[["Str","|"]],[["Str","Dr. Blank had this to say: \\\"Ten short days ago all I could look"]],[["Str","forward to was a dead-end job as a doctor. Now I have a promising"]],[["Str","future and make really big Zorkmids.\\\"|"]],[["Str","|"]],[["Str","GUE Tech can't promise these fantastic results to everyone. But when"]],[["Str","you earn your degree from GUE Tech, your future will be brighter.|\""]," )>"],[],["<OBJECT ",["Iddef","MIRROR-2"]],["\t(IN ",["Id","MIRROR-ROOM-2"],")"],["\t(SYNONYM ",["Dict","REFLECTION"]," ",["Dict","MIRROR"]," ",["Dict","ENORMOUS"],")"],["\t(DESC ",["Str","\"mirror\""],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)"],["\t(ACTION ",["Id","MIRROR-MIRROR"],")>"],[],["<OBJECT ",["Iddef","MIRROR-1"]],["\t(IN ",["Id","MIRROR-ROOM-1"],")"],["\t(SYNONYM ",["Dict","REFLECTION"]," ",["Dict","MIRROR"]," ",["Dict","ENORMOUS"],")"],["\t(DESC ",["Str","\"mirror\""],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)"],["\t(ACTION ",["Id","MIRROR-MIRROR"],")>"],[],["<OBJECT ",["Iddef","PAINTING"]],["\t(IN ",["Id","GALLERY"],")"],["\t(SYNONYM ",["Dict","PAINTING"]," ",["Dict","ART"]," ",["Dict","CANVAS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","BEAUTI"],")"],["\t(DESC ",["Str","\"painting\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(ACTION ",["Id","PAINTING-FCN"],")"],["\t(FDESC"],[["Str","\"Fortunately, there is still one chance for you to be a vandal, for on"]],[["Str","the far wall is a painting of unparalleled beauty.\""],")"],["\t(LDESC ",["Str","\"A painting by a neglected genius is here.\""],")"],["\t(SIZE 15)"],["\t(VALUE 4)"],["\t(TVALUE 6)>"],[],["<OBJECT ",["Iddef","CANDLES"]],["\t(IN ",["Id","SOUTH-TEMPLE"],")"],["\t(SYNONYM ",["Dict","CANDLES"]," ",["Dict","PAIR"],")"],["\t(ADJECTIVE ",["Dict","BURNING"],")"],["\t(DESC ",["Str","\"pair of candles\""],")"],["\t(FLAGS TAKEBIT FLAMEBIT ONBIT LIGHTBIT)"],["\t(ACTION ",["Id","CANDLES-FCN"],")"],["\t(FDESC ",["Str","\"On the two ends of the altar are burning candles.\""],")"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","GUNK"]],["\t(SYNONYM ",["Dict","GUNK"]," ",["Dict","PIECE"]," ",["Dict","SLAG"],")"],["\t(ADJECTIVE ",["Dict","SMALL"]," ",["Dict","VITREOUS"],")"],["\t(DESC ",["Str","\"small piece of vitreous slag\""],")"],["\t(FLAGS TAKEBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","GUNK-FUNCTION"],")"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","BODIES"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BODIES"]," ",["Dict","BODY"]," ",["Dict","REMAINS"]," ",["Dict","PILE"],")"],["\t(ADJECTIVE ",["Dict","MANGLED"],")"],["\t(DESC ",["Str","\"pile of bodies\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","BODY-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","LEAVES"]],["\t(IN ",["Id","GRATING-CLEARING"],")"],["\t(SYNONYM ",["Dict","LEAVES"]," ",["Dict","LEAF"]," ",["Dict","PILE"],")"],["\t(DESC ",["Str","\"pile of leaves\""],")"],["\t(FLAGS TAKEBIT BURNBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","LEAF-PILE"],")"],["\t(LDESC ",["Str","\"On the ground is a pile of leaves.\""],")"],["\t(SIZE 25)>"],[],["<OBJECT ",["Iddef","PUNCTURED-BOAT"]],["\t(SYNONYM ",["Dict","BOAT"]," ",["Dict","PILE"]," ",["Dict","PLASTIC"],")"],["\t(ADJECTIVE ",["Dict","PLASTIC"]," ",["Dict","PUNCTURE"]," ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"punctured boat\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(ACTION ",["Id","DBOAT-FUNCTION"],")"],["\t(SIZE 20)>"],[],["<OBJECT ",["Iddef","INFLATABLE-BOAT"]],["\t(IN ",["Id","DAM-BASE"],")"],["\t(SYNONYM ",["Dict","BOAT"]," ",["Dict","PILE"]," ",["Dict","PLASTIC"]," ",["Dict","VALVE"],")"],["\t(ADJECTIVE ",["Dict","PLASTIC"]," ",["Dict","INFLAT"],")"],["\t(DESC ",["Str","\"pile of plastic\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(ACTION ",["Id","IBOAT-FUNCTION"],")"],["\t(LDESC"],[["Str","\"There is a folded pile of plastic here which has a small valve"]],[["Str","attached.\""],")"],["\t(SIZE 20)>"],[],["<OBJECT ",["Iddef","BAR"]],["\t(IN ",["Id","LOUD-ROOM"],")"],["\t(SYNONYM ",["Dict","BAR"]," ",["Dict","PLATINUM"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","PLATINUM"]," ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"platinum bar\""],")"],["\t(FLAGS TAKEBIT SACREDBIT)"],["\t(LDESC ",["Str","\"On the ground is a large platinum bar.\""],")"],["\t(SIZE 20)"],["\t(VALUE 10)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","POT-OF-GOLD"]],["\t(IN ",["Id","END-OF-RAINBOW"],")"],["\t(SYNONYM ",["Dict","POT"]," ",["Dict","GOLD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","GOLD"],")"],["\t(DESC ",["Str","\"pot of gold\""],")"],["\t(FLAGS TAKEBIT INVISIBLE)"],["\t(FDESC ",["Str","\"At the end of the rainbow is a pot of gold.\""],")"],["\t(SIZE 15)"],["\t(VALUE 10)"],["\t(TVALUE 10)>"],[],["<OBJECT ",["Iddef","PRAYER"]],["\t(IN ",["Id","NORTH-TEMPLE"],")"],["\t(SYNONYM ",["Dict","PRAYER"]," ",["Dict","INSCRIPTION"],")"],["\t(ADJECTIVE ",["Dict","ANCIENT"]," ",["Dict","OLD"],")"],["\t(DESC ",["Str","\"prayer\""],")"],["\t(FLAGS READBIT SACREDBIT NDESCBIT)"],["\t(TEXT"],[["Str","\"The prayer is inscribed in an ancient script, rarely used today. It seems"]],[["Str","to be a philippic against small insects, absent-mindedness, and the picking"]],[["Str","up and dropping of small objects. The final verse consigns trespassers to"]],[["Str","the land of the dead. All evidence indicates that the beliefs of the ancient"]],[["Str","Zorkers were obscure.\""]," )>"],[],["<OBJECT ",["Iddef","RAILING"]],["\t(IN ",["Id","DOME-ROOM"],")"],["\t(SYNONYM ",["Dict","RAILING"]," ",["Dict","RAIL"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"],")"],["\t(DESC ",["Str","\"wooden railing\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT ",["Iddef","RAINBOW"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","RAINBOW"],")"],["\t(DESC ",["Str","\"rainbow\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION ",["Id","RAINBOW-FCN"],")>"],[],["<OBJECT ",["Iddef","RIVER"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(DESC ",["Str","\"river\""],")"],["\t(SYNONYM ",["Dict","RIVER"],")"],["\t(ADJECTIVE ",["Dict","FRIGID"],")"],["\t(ACTION ",["Id","RIVER-FUNCTION"],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT ",["Iddef","BUOY"]],["\t(IN ",["Id","RIVER-4"],")"],["\t(SYNONYM ",["Dict","BUOY"],")"],["\t(ADJECTIVE ",["Dict","RED"],")"],["\t(DESC ",["Str","\"red buoy\""],")"],["\t(FLAGS TAKEBIT CONTBIT)"],["\t(FDESC ",["Str","\"There is a red buoy here (probably a warning).\""],")"],["\t(CAPACITY 20)"],["\t(SIZE 10)"],["\t(ACTION ",["Id","TREASURE-INSIDE"],")>"],[],["<ROUTINE ",["Iddef","TREASURE-INSIDE"]," ()"],["\t <COND (<VERB? OPEN>"],["\t\t<",["Id","SCORE-OBJ"]," ,",["Id","EMERALD"],">"],["\t\t<RFALSE>)>>"],["<OBJECT ",["Iddef","ROPE"]],["\t(IN ",["Id","ATTIC"],")"],["\t(SYNONYM ",["Dict","ROPE"]," ",["Dict","HEMP"]," ",["Dict","COIL"],")"],["\t(ADJECTIVE ",["Dict","LARGE"],")"],["\t(DESC ",["Str","\"rope\""],")"],["\t(FLAGS TAKEBIT SACREDBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","ROPE-FUNCTION"],")"],["\t(FDESC ",["Str","\"A large coil of rope is lying in the corner.\""],")"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","RUSTY-KNIFE"]],["\t(IN ",["Id","MAZE-5"],")"],["\t(SYNONYM ",["Dict","KNIVES"]," ",["Dict","KNIFE"],")"],["\t(ADJECTIVE ",["Dict","RUSTY"],")"],["\t(DESC ",["Str","\"rusty knife\""],")"],["\t(FLAGS TAKEBIT TRYTAKEBIT WEAPONBIT TOOLBIT)"],["\t(ACTION ",["Id","RUSTY-KNIFE-FCN"],")"],["\t(FDESC ",["Str","\"Beside the skeleton is a rusty knife.\""],")"],["\t(SIZE 20)>"],[],["<OBJECT ",["Iddef","SAND"]],["\t(IN ",["Id","SANDY-CAVE"],")"],["\t(SYNONYM ",["Dict","SAND"],")"],["\t(DESC ",["Str","\"sand\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","SAND-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","BRACELET"]],["\t(IN ",["Id","GAS-ROOM"],")"],["\t(SYNONYM ",["Dict","BRACELET"]," ",["Dict","JEWEL"]," ",["Dict","SAPPHIRE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","SAPPHIRE"],")"],["\t(DESC ",["Str","\"sapphire-encrusted bracelet\""],")"],["\t(FLAGS TAKEBIT)"],["\t(SIZE 10)"],["\t(VALUE 5)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","SCREWDRIVER"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","SCREWDRIVER"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"]," ",["Dict","DRIVER"],")"],["\t(ADJECTIVE ",["Dict","SCREW"],")"],["\t(DESC ",["Str","\"screwdriver\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)>"],[],["<OBJECT ",["Iddef","KEYS"]],["\t(IN ",["Id","MAZE-5"],")"],["\t(SYNONYM ",["Dict","KEY"],")"],["\t(ADJECTIVE ",["Dict","SKELETON"],")"],["\t(DESC ",["Str","\"skeleton key\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","SHOVEL"]],["\t(IN ",["Id","SANDY-BEACH"],")"],["\t(SYNONYM ",["Dict","SHOVEL"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"],")"],["\t(DESC ",["Str","\"shovel\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 15)>"],[],["<OBJECT ",["Iddef","COAL"]],["\t(IN ",["Id","DEAD-END-5"],")"],["\t(SYNONYM ",["Dict","COAL"]," ",["Dict","PILE"]," ",["Dict","HEAP"],")"],["\t(ADJECTIVE ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"small pile of coal\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(SIZE 20)>"],[],["<OBJECT ",["Iddef","LADDER"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","LADDER"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"]," ",["Dict","RICKETY"]," ",["Dict","NARROW"],")"],["\t(DESC ",["Str","\"wooden ladder\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)>"],[],["<OBJECT ",["Iddef","SCARAB"]],["\t(IN ",["Id","SANDY-CAVE"],")"],["\t(SYNONYM ",["Dict","SCARAB"]," ",["Dict","BUG"]," ",["Dict","BEETLE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","BEAUTI"]," ",["Dict","CARVED"]," ",["Dict","JEWELED"],")"],["\t(DESC ",["Str","\"beautiful jeweled scarab\""],")"],["\t(FLAGS TAKEBIT INVISIBLE)"],["\t(SIZE 8)"],["\t(VALUE 5)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","LARGE-BAG"]],["\t(IN ",["Id","THIEF"],")"],["\t(SYNONYM ",["Dict","BAG"],")"],["\t(ADJECTIVE ",["Dict","LARGE"]," ",["Dict","THIEFS"],")"],["\t(DESC ",["Str","\"large bag\""],")"],["\t(ACTION ",["Id","LARGE-BAG-F"],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)>"],[],["<OBJECT ",["Iddef","STILETTO"]],["\t(IN ",["Id","THIEF"],")"],["\t(SYNONYM ",["Dict","STILETTO"],")"],["\t(ADJECTIVE ",["Dict","VICIOUS"],")"],["\t(DESC ",["Str","\"stiletto\""],")"],["\t(ACTION ",["Id","STILETTO-FUNCTION"],")"],["\t(FLAGS WEAPONBIT TRYTAKEBIT TAKEBIT NDESCBIT)"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","MACHINE-SWITCH"]],["\t(IN ",["Id","MACHINE-ROOM"],")"],["\t(SYNONYM ",["Dict","SWITCH"],")"],["\t(DESC ",["Str","\"switch\""],")"],["\t(FLAGS NDESCBIT TURNBIT)"],["\t(ACTION ",["Id","MSWITCH-FUNCTION"],")>"],[],["<OBJECT ",["Iddef","WOODEN-DOOR"]],["\t(IN ",["Id","LIVING-ROOM"],")"],["\t(SYNONYM ",["Dict","DOOR"]," ",["Dict","LETTERING"]," ",["Dict","WRITING"],")"],["\t(ADJECTIVE ",["Dict","WOODEN"]," ",["Dict","GOTHIC"]," ",["Dict","STRANGE"]," ",["Dict","WEST"],")"],["\t(DESC ",["Str","\"wooden door\""],")"],["\t(FLAGS READBIT DOORBIT NDESCBIT TRANSBIT)"],["\t(ACTION ",["Id","FRONT-DOOR-FCN"],")"],["\t(TEXT"],[["Str","\"The engravings translate to \\\"This space intentionally left blank.\\\"\""],")>"],[],["<OBJECT ",["Iddef","SWORD"]],["\t(IN ",["Id","LIVING-ROOM"],")"],["\t(SYNONYM ",["Dict","SWORD"]," ",["Dict","ORCRIST"]," ",["Dict","GLAMDRING"]," ",["Dict","BLADE"],")"],["\t(ADJECTIVE ",["Dict","ELVISH"]," ",["Dict","OLD"]," ",["Dict","ANTIQUE"],")"],["\t(DESC ",["Str","\"sword\""],")"],["\t(FLAGS TAKEBIT WEAPONBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","SWORD-FCN"],")"],["\t(FDESC"],[["Str","\"Above the trophy case hangs an elvish sword of great antiquity.\""],")"],["\t(SIZE 30)"],["\t(TVALUE 0)>"],[],["<OBJECT ",["Iddef","MAP"]],["\t(IN ",["Id","TROPHY-CASE"],")"],["\t(SYNONYM ",["Dict","PARCHMENT"]," ",["Dict","MAP"],")"],["\t(ADJECTIVE ",["Dict","ANTIQUE"]," ",["Dict","OLD"]," ",["Dict","ANCIENT"],")"],["\t(DESC ",["Str","\"ancient map\""],")"],["\t(FLAGS INVISIBLE READBIT TAKEBIT)"],["\t(FDESC"],[["Str","\"In the trophy case is an ancient parchment which appears to be a map.\""],")"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"The map shows a forest with three clearings. The largest clearing contains"]],[["Str","a house. Three paths leave the large clearing. One of these paths, leading"]],[["Str","southwest, is marked \\\"To Stone Barrow\\\".\""],")>"],[],["<OBJECT ",["Iddef","BOAT-LABEL"]],["\t(IN ",["Id","INFLATED-BOAT"],")"],["\t(SYNONYM ",["Dict","LABEL"]," ",["Dict","FINEPRINT"]," ",["Dict","PRINT"],")"],["\t(ADJECTIVE ",["Dict","TAN"]," ",["Dict","FINE"],")"],["\t(DESC ",["Str","\"tan label\""],")"],["\t(FLAGS READBIT TAKEBIT BURNBIT)"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"\t  !!!! \tFROBOZZ MAGIC BOAT COMPANY  !!!!|"]],[["Str","|"]],[["Str","Hello, Sailor!|"]],[["Str","|"]],[["Str","Instructions for use:|"]],[["Str","|"]],[["Str","   To get into a body of water, say \\\"Launch\\\".|"]],[["Str","   To get to shore, say \\\"Land\\\" or the direction in which you want"]],[["Str","to maneuver the boat.|"]],[["Str","|"]],[["Str","Warranty:|"]],[["Str","|"]],[["Str","  This boat is guaranteed against all defects for a period of 76"]],[["Str","milliseconds from date of purchase or until first used, whichever comes first.|"]],[["Str","|"]],[["Str","Warning:|"]],[["Str","   This boat is made of thin plastic.|"]],[["Str","   Good Luck!|"]],[["Str","\""]," )>"],[],["<OBJECT ",["Iddef","THIEF"]],["\t(IN ",["Id","ROUND-ROOM"],")"],["\t(SYNONYM ",["Dict","THIEF"]," ",["Dict","ROBBER"]," ",["Dict","MAN"]," ",["Dict","PERSON"],")"],["\t(ADJECTIVE ",["Dict","SHADY"]," ",["Dict","SUSPICIOUS"]," ",["Dict","SEEDY"],")"],["\t(DESC ",["Str","\"thief\""],")"],["\t(FLAGS ACTORBIT INVISIBLE CONTBIT OPENBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","ROBBER-FUNCTION"],")"],["\t(LDESC"],[["Str","\"There is a suspicious-looking individual, holding a large bag, leaning"]],[["Str","against one wall. He is armed with a deadly stiletto.\""],")"],["\t(STRENGTH 5)>"],[],["<OBJECT ",["Iddef","PEDESTAL"]],["\t(IN ",["Id","TORCH-ROOM"],")"],["\t(SYNONYM ",["Dict","PEDESTAL"],")"],["\t(ADJECTIVE ",["Dict","WHITE"]," ",["Dict","MARBLE"],")"],["\t(DESC ",["Str","\"pedestal\""],")"],["\t(FLAGS NDESCBIT CONTBIT OPENBIT SURFACEBIT)"],["\t(ACTION ",["Id","DUMB-CONTAINER"],")"],["\t(CAPACITY 30)>"],[],["<OBJECT ",["Iddef","TORCH"]],["\t(IN ",["Id","PEDESTAL"],")"],["\t(SYNONYM ",["Dict","TORCH"]," ",["Dict","IVORY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","FLAMING"]," ",["Dict","IVORY"],")"],["\t(DESC ",["Str","\"torch\""],")"],["\t(FLAGS TAKEBIT FLAMEBIT ONBIT LIGHTBIT)"],["\t(ACTION ",["Id","TORCH-OBJECT"],")"],["\t(FDESC ",["Str","\"Sitting on the pedestal is a flaming torch, made of ivory.\""],")"],["\t(SIZE 20)"],["\t(VALUE 14)"],["\t(TVALUE 6)>"],[],["<OBJECT ",["Iddef","GUIDE"]],["\t(IN ",["Id","DAM-LOBBY"],")"],["\t(SYNONYM ",["Dict","GUIDE"]," ",["Dict","BOOK"]," ",["Dict","BOOKS"]," ",["Dict","GUIDEBOOKS"],")"],["\t(ADJECTIVE ",["Dict","TOUR"]," ",["Dict","GUIDE"],")"],["\t(DESC ",["Str","\"tour guidebook\""],")"],["\t(FLAGS READBIT TAKEBIT BURNBIT)"],["\t(FDESC"],[["Str","\"Some guidebooks entitled \\\"Flood Control Dam #3\\\" are on the reception"]],[["Str","desk.\""],")"],["\t(TEXT"],[["Str","\"\\\"\tFlood Control Dam #3|"]],[["Str","|"]],[["Str","FCD#3 was constructed in year 783 of the Great Underground Empire to"]],[["Str","harness the mighty Frigid River. This work was supported by a grant of"]],[["Str","37 million zorkmids from your omnipotent local tyrant Lord Dimwit"]],[["Str","Flathead the Excessive. This impressive structure is composed of"]],[["Str","370,000 cubic feet of concrete, is 256 feet tall at the center, and 193"]],[["Str","feet wide at the top. The lake created behind the dam has a volume"]],[["Str","of 1.7 billion cubic feet, an area of 12 million square feet, and a"]],[["Str","shore line of 36 thousand feet.|"]],[["Str","|"]],[["Str","We will now point out some of the more interesting features"]],[["Str","of FCD#3 as we conduct you on a guided tour of the facilities:|"]],[["Str","        1) You start your tour here in the Dam Lobby. You will notice"]],[["Str","on your right that....\""]," )>"],[],[["Comment",";\"  The construction of FCD#3 took 112 days from ground breaking to"]],[["Comment","the dedication. It required a work force of 384 slaves, 34 slave"]],[["Comment","drivers, 12 engineers, 2 turtle doves, and a partridge in a pear"]],[["Comment","tree. The work was managed by a command team composed of 2345"]],[["Comment","bureaucrats, 2347 secretaries (at least two of whom can type),"]],[["Comment","12,256 paper shufflers, 52,469 rubber stampers, 245,193 red tape"]],[["Comment","processors, and nearly one million dead trees.|\""]],[],["<OBJECT ",["Iddef","TROLL"]],["\t(IN ",["Id","TROLL-ROOM"],")"],["\t(SYNONYM ",["Dict","TROLL"],")"],["\t(ADJECTIVE ",["Dict","NASTY"],")"],["\t(DESC ",["Str","\"troll\""],")"],["\t(FLAGS ACTORBIT OPENBIT TRYTAKEBIT)"],["\t(ACTION ",["Id","TROLL-FCN"],")"],["\t(LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks all passages"]],[["Str","out of the room.\""],")"],["\t(STRENGTH 2)>"],[],["<OBJECT ",["Iddef","TRUNK"]],["\t(IN ",["Id","RESERVOIR"],")"],["\t(SYNONYM ",["Dict","TRUNK"]," ",["Dict","CHEST"]," ",["Dict","JEWELS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","OLD"],")"],["\t(DESC ",["Str","\"trunk of jewels\""],")"],["\t(FLAGS TAKEBIT INVISIBLE)"],["\t(FDESC"],[["Str","\"Lying half buried in the mud is an old trunk, bulging with jewels.\""],")"],["\t(LDESC ",["Str","\"There is an old trunk here, bulging with assorted jewels.\""],")"],["\t(ACTION ",["Id","TRUNK-F"],")"],["\t(SIZE 35)"],["\t(VALUE 15)"],["\t(TVALUE 5)>"],[],["<OBJECT ",["Iddef","TUBE"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","TUBE"]," ",["Dict","TOOTH"]," ",["Dict","PASTE"],")"],["\t(DESC ",["Str","\"tube\""],")"],["\t(FLAGS TAKEBIT CONTBIT READBIT)"],["\t(ACTION ",["Id","TUBE-FUNCTION"],")"],["\t(LDESC"],["\t ",["Str","\"There is an object which looks like a tube of toothpaste here.\""],")"],["\t(CAPACITY 7)"],["\t(SIZE 5)"],["\t(TEXT"],[["Str","\"---> Frobozz Magic Gunk Company <---|"]],[["Str","\t  All-Purpose Gunk\""],")>"],[],["<OBJECT ",["Iddef","PUTTY"]],["\t(IN ",["Id","TUBE"],")"],["\t(SYNONYM ",["Dict","MATERIAL"]," ",["Dict","GUNK"],")"],["\t(ADJECTIVE ",["Dict","VISCOUS"],")"],["\t(DESC ",["Str","\"viscous material\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 6)"],["\t(ACTION ",["Id","PUTTY-FCN"],")>"],[],["<OBJECT ",["Iddef","ENGRAVINGS"]],["\t(IN ",["Id","ENGRAVINGS-CAVE"],")"],["\t(SYNONYM ",["Dict","WALL"]," ",["Dict","ENGRAVINGS"]," ",["Dict","INSCRIPTION"],")"],["\t(ADJECTIVE ",["Dict","OLD"]," ",["Dict","ANCIENT"],")"],["\t(DESC ",["Str","\"wall with engravings\""],")"],["\t(FLAGS READBIT SACREDBIT)"],["\t(LDESC ",["Str","\"There are old engravings on the walls here.\""],")"],["\t(TEXT"],[["Str","\"The engravings were incised in the living rock of the cave wall by"]],[["Str","an unknown hand. They depict, in symbolic form, the beliefs of the"]],[["Str","ancient Zorkers. Skillfully interwoven with the bas reliefs are excerpts"]],[["Str","illustrating the major religious tenets of that time. Unfortunately, a"]],[["Str","later age seems to have considered them blasphemous and just as skillfully"]],[["Str","excised them.\""],")>"],[],["<OBJECT ",["Iddef","OWNERS-MANUAL"]],["\t(IN ",["Id","STUDIO"],")"],["\t(SYNONYM ",["Dict","MANUAL"]," ",["Dict","PIECE"]," ",["Dict","PAPER"],")"],["\t(ADJECTIVE ",["Dict","ZORK"]," ",["Dict","OWNERS"]," ",["Dict","SMALL"],")"],["\t(DESC ",["Str","\"ZORK owner's manual\""],")"],["\t(FLAGS READBIT TAKEBIT)"],["\t(FDESC ",["Str","\"Loosely attached to a wall is a small piece of paper.\""],")"],["\t(TEXT"],[["Str","\"|"]],[["Str","Congratulations!|"]],[["Str","|"]],[["Str","You are the privileged owner of ZORK I: The Great Underground Empire,"]],[["Str","a self-contained and self-maintaining universe. If used and maintained"]],[["Str","in accordance with normal operating practices for small universes, ZORK"]],[["Str","will provide many months of trouble-free operation.|"]],[["Str","|\""],")>"],[],["<OBJECT ",["Iddef","CLIMBABLE-CLIFF"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WALL"]," ",["Dict","CLIFF"]," ",["Dict","WALLS"]," ",["Dict","LEDGE"],")"],["\t(ADJECTIVE ",["Dict","ROCKY"]," ",["Dict","SHEER"],")"],["\t(DESC ",["Str","\"cliff\""],")"],["\t(ACTION ",["Id","CLIFF-OBJECT"],")"],["\t(FLAGS NDESCBIT CLIMBBIT)>"],[],["<OBJECT ",["Iddef","WHITE-CLIFF"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CLIFF"]," ",["Dict","CLIFFS"],")"],["\t(ADJECTIVE ",["Dict","WHITE"],")"],["\t(DESC ",["Str","\"white cliffs\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION ",["Id","WCLIF-OBJECT"],")>"],[],["<OBJECT ",["Iddef","WRENCH"]],["\t(IN ",["Id","MAINTENANCE-ROOM"],")"],["\t(SYNONYM ",["Dict","WRENCH"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"],")"],["\t(DESC ",["Str","\"wrench\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 10)>"],[],["<OBJECT ",["Iddef","CONTROL-PANEL"]],["\t(IN ",["Id","DAM-ROOM"],")"],["\t(SYNONYM ",["Dict","PANEL"],")"],["\t(ADJECTIVE ",["Dict","CONTROL"],")"],["\t(DESC ",["Str","\"control panel\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT ",["Iddef","NEST"]],["\t(IN ",["Id","UP-A-TREE"],")"],["\t(SYNONYM ",["Dict","NEST"],")"],["\t(ADJECTIVE ",["Dict","BIRDS"],")"],["\t(DESC ",["Str","\"bird's nest\""],")"],["\t(FLAGS TAKEBIT BURNBIT CONTBIT OPENBIT SEARCHBIT)"],["\t(FDESC ",["Str","\"Beside you on the branch is a small bird's nest.\""],")"],["\t(CAPACITY 20)>"],[],["<OBJECT ",["Iddef","EGG"]],["\t(IN ",["Id","NEST"],")"],["\t(SYNONYM ",["Dict","EGG"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","BIRDS"]," ",["Dict","ENCRUSTED"]," ",["Dict","JEWELED"],")"],["\t(DESC ",["Str","\"jewel-encrusted egg\""],")"],["\t(FLAGS TAKEBIT CONTBIT SEARCHBIT)"],["\t(ACTION ",["Id","EGG-OBJECT"],")"],["\t(VALUE 5)"],["\t(TVALUE 5)"],["\t(CAPACITY 6)"],["\t(FDESC"],[["Str","\"In the bird's nest is a large egg encrusted with precious jewels,"]],[["Str","apparently scavenged by a childless songbird. The egg is covered with"]],[["Str","fine gold inlay, and ornamented in lapis lazuli and mother-of-pearl."]],[["Str","Unlike most eggs, this one is hinged and closed with a delicate looking"]],[["Str","clasp. The egg appears extremely fragile.\""],")>"],[],["<OBJECT ",["Iddef","BROKEN-EGG"]],["\t(SYNONYM ",["Dict","EGG"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","BROKEN"]," ",["Dict","BIRDS"]," ",["Dict","ENCRUSTED"]," ",["Dict","JEWEL"],")"],["\t(DESC ",["Str","\"broken jewel-encrusted egg\""],")"],["\t(FLAGS TAKEBIT CONTBIT OPENBIT)"],["\t(CAPACITY 6)"],["\t(TVALUE 2)"],["\t(LDESC ",["Str","\"There is a somewhat ruined egg here.\""],")>"],[],["<OBJECT ",["Iddef","BAUBLE"]],["\t(SYNONYM ",["Dict","BAUBLE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","BRASS"]," ",["Dict","BEAUTI"],")"],["\t(DESC ",["Str","\"beautiful brass bauble\""],")"],["\t(FLAGS TAKEBIT)"],["\t(VALUE 1)"],["\t(TVALUE 1)>"],[],["<OBJECT ",["Iddef","CANARY"]],["\t(IN ",["Id","EGG"],")"],["\t(SYNONYM ",["Dict","CANARY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","CLOCKWORK"]," ",["Dict","GOLD"]," ",["Dict","GOLDEN"],")"],["\t(DESC ",["Str","\"golden clockwork canary\""],")"],["\t(FLAGS TAKEBIT SEARCHBIT)"],["\t(ACTION ",["Id","CANARY-OBJECT"],")"],["\t(VALUE 6)"],["\t(TVALUE 4)"],["\t(FDESC"],[["Str","\"There is a golden clockwork canary nestled in the egg. It has ruby"]],[["Str","eyes and a silver beak. Through a crystal window below its left"]],[["Str","wing you can see intricate machinery inside. It appears to have"]],[["Str","wound down.\""],")>"],[],["<OBJECT ",["Iddef","BROKEN-CANARY"]],["\t(IN ",["Id","BROKEN-EGG"],")"],["\t(SYNONYM ",["Dict","CANARY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE ",["Dict","BROKEN"]," ",["Dict","CLOCKWORK"]," ",["Dict","GOLD"]," ",["Dict","GOLDEN"],")"],["\t(DESC ",["Str","\"broken clockwork canary\""],")"],["\t(FLAGS TAKEBIT)"],["\t(ACTION ",["Id","CANARY-OBJECT"],")"],["\t(TVALUE 1)"],["\t(FDESC"],[["Str","\"There is a golden clockwork canary nestled in the egg. It seems to"]],[["Str","have recently had a bad experience. The mountings for its jewel-like"]],[["Str","eyes are empty, and its silver beak is crumpled. Through a cracked"]],[["Str","crystal window below its left wing you can see the remains of"]],[["Str","intricate machinery. It is not clear what result winding it would"]],[["Str","have, as the mainspring seems sprung.\""],")>"],[],["\\"],[],[["Str","\"SUBTITLE ROOMS\""]],[],[["Str","\"SUBTITLE CONDITIONAL EXIT FLAGS\""]],[],["<GLOBAL ",["Iddef","CYCLOPS-FLAG"]," <>>"],["<GLOBAL ",["Iddef","DEFLATE"]," <>>"],["<GLOBAL ",["Iddef","DOME-FLAG"]," <>>"],["<GLOBAL ",["Iddef","EMPTY-HANDED"]," <>>"],["<GLOBAL ",["Iddef","LLD-FLAG"]," <>>"],["<GLOBAL ",["Iddef","LOW-TIDE"]," <>>"],["<GLOBAL ",["Iddef","MAGIC-FLAG"]," <>>"],["<GLOBAL ",["Iddef","RAINBOW-FLAG"]," <>>"],["<GLOBAL ",["Iddef","TROLL-FLAG"]," <>>"],["<GLOBAL ",["Iddef","WON-FLAG"]," <>>"],["<GLOBAL ",["Iddef","COFFIN-CURE"]," <>>"],[],[["Str","\"SUBTITLE FOREST AND OUTSIDE OF HOUSE\""]],[],["<ROOM ",["Iddef","WEST-OF-HOUSE"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"West of House\""],")"],["      (NORTH TO ",["Id","NORTH-OF-HOUSE"],")"],["      (SOUTH TO ",["Id","SOUTH-OF-HOUSE"],")"],["      (NE TO ",["Id","NORTH-OF-HOUSE"],")"],["      (SE TO ",["Id","SOUTH-OF-HOUSE"],")"],["      (WEST TO ",["Id","FOREST-1"],")"],["      (EAST ",["Str","\"The door is boarded and you can't remove the boards.\""],")"],["      (SW TO ",["Id","STONE-BARROW"]," IF ",["Id","WON-FLAG"],")"],["      (IN TO ",["Id","STONE-BARROW"]," IF ",["Id","WON-FLAG"],")"],["      (ACTION ",["Id","WEST-HOUSE"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","WHITE-HOUSE"]," ",["Id","BOARD"],")>"],[],["<ROOM ",["Iddef","STONE-BARROW"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are standing in front of a massive barrow of stone. In the east face"]],[["Str","is a huge stone door which is open. You cannot see into the dark of the"]],[["Str","tomb.\""],")"],["      (DESC ",["Str","\"Stone Barrow\""],")"],["      (NE TO ",["Id","WEST-OF-HOUSE"],")"],["      (ACTION ",["Id","STONE-BARROW-FCN"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)>"],[],["<ROOM ",["Iddef","NORTH-OF-HOUSE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are facing the north side of a white house. There is no door here,"]],[["Str","and all the windows are boarded up. To the north a narrow path winds through"]],[["Str","the trees.\""],")"],["      (DESC ",["Str","\"North of House\""],")"],["      (SW TO ",["Id","WEST-OF-HOUSE"],")"],["      (SE TO ",["Id","EAST-OF-HOUSE"],")"],["      (WEST TO ",["Id","WEST-OF-HOUSE"],")"],["      (EAST TO ",["Id","EAST-OF-HOUSE"],")"],["      (NORTH TO ",["Id","PATH"],")"],["      (SOUTH ",["Str","\"The windows are all boarded.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","BOARDED-WINDOW"]," ",["Id","BOARD"]," ",["Id","WHITE-HOUSE"],")>"],[],["<ROOM ",["Iddef","SOUTH-OF-HOUSE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are facing the south side of a white house. There is no door here,"]],[["Str","and all the windows are boarded.\""],")"],["      (DESC ",["Str","\"South of House\""],")"],["      (WEST TO ",["Id","WEST-OF-HOUSE"],")"],["      (EAST TO ",["Id","EAST-OF-HOUSE"],")"],["      (NE TO ",["Id","EAST-OF-HOUSE"],")"],["      (NW TO ",["Id","WEST-OF-HOUSE"],")"],["      (SOUTH TO ",["Id","FOREST-3"],")"],["      (NORTH ",["Str","\"The windows are all boarded.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","BOARDED-WINDOW"]," ",["Id","BOARD"]," ",["Id","WHITE-HOUSE"],")>"],[],["<ROOM ",["Iddef","EAST-OF-HOUSE"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Behind House\""],")"],["      (NORTH TO ",["Id","NORTH-OF-HOUSE"],")"],["      (SOUTH TO ",["Id","SOUTH-OF-HOUSE"],")"],["      (SW TO ",["Id","SOUTH-OF-HOUSE"],")"],["      (NW TO ",["Id","NORTH-OF-HOUSE"],")"],["      (EAST TO ",["Id","CLEARING"],")"],["      (WEST TO ",["Id","KITCHEN"]," IF ",["Id","KITCHEN-WINDOW"]," IS OPEN)"],["      (IN TO ",["Id","KITCHEN"]," IF ",["Id","KITCHEN-WINDOW"]," IS OPEN)"],["      (ACTION ",["Id","EAST-HOUSE"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","WHITE-HOUSE"]," ",["Id","KITCHEN-WINDOW"],")>"],[],["<ROOM ",["Iddef","FOREST-1"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a forest, with trees in all directions. To the east,"]],[["Str","there appears to be sunlight.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (NORTH TO ",["Id","GRATING-CLEARING"],")"],["      (EAST TO ",["Id","PATH"],")"],["      (SOUTH TO ",["Id","FOREST-3"],")"],["      (WEST ",["Str","\"You would need a machete to go further west.\""],")"],["      (ACTION ",["Id","FOREST-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","SONGBIRD"]," ",["Id","WHITE-HOUSE"]," ",["Id","FOREST"],")>"],[],["<ROOM ",["Iddef","FOREST-2"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is a dimly lit forest, with large trees all around.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (NORTH ",["Str","\"The forest becomes impenetrable to the north.\""],")"],["      (EAST TO ",["Id","MOUNTAINS"],")"],["      (SOUTH TO ",["Id","CLEARING"],")"],["      (WEST TO ",["Id","PATH"],")"],["      (ACTION ",["Id","FOREST-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","SONGBIRD"]," ",["Id","WHITE-HOUSE"]," ",["Id","FOREST"],")>"],[],["<ROOM ",["Iddef","MOUNTAINS"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"The forest thins out, revealing impassable mountains.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"The mountains are impassable.\""],")"],["      (NORTH TO ",["Id","FOREST-2"],")"],["      (EAST ",["Str","\"The mountains are impassable.\""],")"],["      (SOUTH TO ",["Id","FOREST-2"],")"],["      (WEST TO ",["Id","FOREST-2"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","WHITE-HOUSE"],")>"],[],["<ROOM ",["Iddef","FOREST-3"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is a dimly lit forest, with large trees all around.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (NORTH TO ",["Id","CLEARING"],")"],["      (EAST ",["Str","\"The rank undergrowth prevents eastward movement.\""],")"],["      (SOUTH ",["Str","\"Storm-tossed trees block your way.\""],")"],["      (WEST TO ",["Id","FOREST-1"],")"],["      (NW TO ",["Id","SOUTH-OF-HOUSE"],")"],["      (ACTION ",["Id","FOREST-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","SONGBIRD"]," ",["Id","WHITE-HOUSE"]," ",["Id","FOREST"],")>"],[],["<ROOM ",["Iddef","PATH"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a path winding through a dimly lit forest. The path heads"]],[["Str","north-south here. One particularly large tree with some low branches"]],[["Str","stands at the edge of the path.\""],")"],["      (DESC ",["Str","\"Forest Path\""],")"],["      (UP TO ",["Id","UP-A-TREE"],")"],["      (NORTH TO ",["Id","GRATING-CLEARING"],")"],["      (EAST TO ",["Id","FOREST-2"],")"],["      (SOUTH TO ",["Id","NORTH-OF-HOUSE"],")"],["      (WEST TO ",["Id","FOREST-1"],")"],["      (ACTION ",["Id","FOREST-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","SONGBIRD"]," ",["Id","WHITE-HOUSE"]," ",["Id","FOREST"],")>"],[],["<ROOM ",["Iddef","UP-A-TREE"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Up a Tree\""],")"],["      (DOWN TO ",["Id","PATH"],")"],["      (UP ",["Str","\"You cannot climb any higher.\""],")"],["      (ACTION ",["Id","TREE-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","FOREST"]," ",["Id","SONGBIRD"]," ",["Id","WHITE-HOUSE"],")>"],[],["<ROOM ",["Iddef","GRATING-CLEARING"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Clearing\""],")"],["      (NORTH ",["Str","\"The forest becomes impenetrable to the north.\""],")"],["      (EAST TO ",["Id","FOREST-2"],")"],["      (WEST TO ",["Id","FOREST-1"],")"],["      (SOUTH TO ",["Id","PATH"],")"],["      (DOWN PER ",["Id","GRATING-EXIT"],")"],["      (ACTION ",["Id","CLEARING-FCN"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","WHITE-HOUSE"]," ",["Id","GRATE"],")>"],[],["<ROUTINE ",["Iddef","GRATING-EXIT"]," ()"],["\t <COND (,",["Id","GRATE-REVEALED"]],["\t\t<COND (<FSET? ,",["Id","GRATE"]," ,OPENBIT>"],["\t\t       ,",["Id","GRATING-ROOM"],")"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The grating is closed!\""]," CR>"],["\t\t       <",["Id","THIS-IS-IT"]," ,",["Id","GRATE"],">"],["\t\t       <RFALSE>)>)"],["\t       (T <TELL ",["Str","\"You can't go that way.\""]," CR> <RFALSE>)>>"],[],["<ROOM ",["Iddef","CLEARING"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are in a small clearing in a well marked forest path that"]],[["Str","extends to the east and west.\""],")"],["      (DESC ",["Str","\"Clearing\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (EAST TO ",["Id","CANYON-VIEW"],")"],["      (NORTH TO ",["Id","FOREST-2"],")"],["      (SOUTH TO ",["Id","FOREST-3"],")"],["      (WEST TO ",["Id","EAST-OF-HOUSE"],")"],["      (ACTION ",["Id","FOREST-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","TREE"]," ",["Id","SONGBIRD"]," ",["Id","WHITE-HOUSE"]," ",["Id","FOREST"],")>"],[],["\\"],[],[["Str","\"SUBTITLE HOUSE\""]],[],["<ROOM ",["Iddef","KITCHEN"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Kitchen\""],")"],["      (EAST TO ",["Id","EAST-OF-HOUSE"]," IF ",["Id","KITCHEN-WINDOW"]," IS OPEN)"],["      (WEST TO ",["Id","LIVING-ROOM"],")"],["      (OUT TO ",["Id","EAST-OF-HOUSE"]," IF ",["Id","KITCHEN-WINDOW"]," IS OPEN)"],["      (UP TO ",["Id","ATTIC"],")"],["      (DOWN TO ",["Id","STUDIO"]," IF ",["Id","FALSE-FLAG"]," ELSE"],["\t ",["Str","\"Only Santa Claus climbs down chimneys.\""],")"],["      (ACTION ",["Id","KITCHEN-FCN"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (VALUE 10)"],["      (GLOBAL ",["Id","KITCHEN-WINDOW"]," ",["Id","CHIMNEY"]," ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","ATTIC"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is the attic. The only exit is a stairway leading down.\""],")"],["      (DESC ",["Str","\"Attic\""],")"],["      (DOWN TO ",["Id","KITCHEN"],")"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","LIVING-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Living Room\""],")"],["      (EAST TO ",["Id","KITCHEN"],")"],["      (WEST TO ",["Id","STRANGE-PASSAGE"]," IF ",["Id","MAGIC-FLAG"]," ELSE ",["Str","\"The door is nailed shut.\""],")"],["      (DOWN PER ",["Id","TRAP-DOOR-EXIT"],")"],["      (ACTION ",["Id","LIVING-ROOM-FCN"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"NAILS\""]," ",["Id","NAILS-PSEUDO"]," ",["Dict","\"NAIL\""]," ",["Id","NAILS-PSEUDO"],")>"],[],["\\"],[],[["Str","\"SUBTITLE CELLAR AND VICINITY\""]],[],["<ROOM ",["Iddef","CELLAR"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Cellar\""],")"],["      (NORTH TO ",["Id","TROLL-ROOM"],")"],["      (SOUTH TO ",["Id","EAST-OF-CHASM"],")"],["      (UP TO ",["Id","LIVING-ROOM"]," IF ",["Id","TRAP-DOOR"]," IS OPEN)"],["      (WEST"],[["Str","\"You try to ascend the ramp, but it is impossible, and you slide back down.\""],")"],["      (ACTION ",["Id","CELLAR-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (VALUE 25)"],["      (GLOBAL ",["Id","TRAP-DOOR"]," ",["Id","SLIDE"]," ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","TROLL-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small room with passages to the east and south and a"]],[["Str","forbidding hole leading west. Bloodstains and deep scratches"]],[["Str","(perhaps made by an axe) mar the walls.\""],")"],["      (DESC ",["Str","\"The Troll Room\""],")"],["      (SOUTH TO ",["Id","CELLAR"],")"],["      (EAST TO ",["Id","EW-PASSAGE"]],["       IF ",["Id","TROLL-FLAG"]," ELSE ",["Str","\"The troll fends you off with a menacing gesture.\""],")"],["      (WEST TO ",["Id","MAZE-1"]],["       IF ",["Id","TROLL-FLAG"]," ELSE ",["Str","\"The troll fends you off with a menacing gesture.\""],")"],["      (FLAGS RLANDBIT)"],["      (ACTION ",["Id","TROLL-ROOM-F"],")>"],[],["<ROOM ",["Iddef","EAST-OF-CHASM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on the east edge of a chasm, the bottom of which cannot be"]],[["Str","seen. A narrow passage goes north, and the path you are on continues"]],[["Str","to the east.\""],")"],["      (DESC ",["Str","\"East of Chasm\""],")"],["      (NORTH TO ",["Id","CELLAR"],")"],["      (EAST TO ",["Id","GALLERY"],")"],["      (DOWN ",["Str","\"The chasm probably leads straight to the infernal regions.\""],")"],["      (FLAGS RLANDBIT)"],["      (PSEUDO ",["Dict","\"CHASM\""]," ",["Id","CHASM-PSEUDO"],")>"],[],["<ROOM ",["Iddef","GALLERY"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is an art gallery. Most of the paintings have been stolen by"]],[["Str","vandals with exceptional taste. The vandals left through either the"]],[["Str","north or west exits.\""],")"],["      (DESC ",["Str","\"Gallery\""],")"],["      (WEST TO ",["Id","EAST-OF-CHASM"],")"],["      (NORTH TO ",["Id","STUDIO"],")"],["      (FLAGS RLANDBIT ONBIT)>"],[],["<ROOM ",["Iddef","STUDIO"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This appears to have been an artist's studio. The walls and floors are"]],[["Str","splattered with paints of 69 different colors. Strangely enough, nothing"]],[["Str","of value is hanging here. At the south end of the room is an open door"]],[["Str","(also covered with paint). A dark and narrow chimney leads up from a"]],[["Str","fireplace; although you might be able to get up it, it seems unlikely"]],[["Str","you could get back down.\""],")"],["      (DESC ",["Str","\"Studio\""],")"],["      (SOUTH TO ",["Id","GALLERY"],")"],["      (UP PER ",["Id","UP-CHIMNEY-FUNCTION"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","CHIMNEY"],")"],["      (PSEUDO ",["Dict","\"DOOR\""]," ",["Id","DOOR-PSEUDO"]," ",["Dict","\"PAINT\""]," ",["Id","PAINT-PSEUDO"],")>"],[],["\\"],[],[["Str","\"SUBTITLE MAZE\""]],[],["<ROOM ",["Iddef","MAZE-1"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO ",["Id","TROLL-ROOM"],")"],["      (NORTH TO ",["Iddef","MAZE-1"],")"],["      (SOUTH TO ",["Id","MAZE-2"],")"],["      (WEST TO ",["Id","MAZE-4"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-2"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (SOUTH TO ",["Id","MAZE-1"],")"],["      (DOWN PER ",["Id","MAZE-DIODES"],") ",["Comment",";\"to MAZE-4\""]],["      (EAST TO ",["Id","MAZE-3"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-3"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (WEST TO ",["Id","MAZE-2"],")"],["      (NORTH TO ",["Id","MAZE-4"],")"],["      (UP TO ",["Id","MAZE-5"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-4"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (WEST TO ",["Id","MAZE-3"],")"],["      (NORTH TO ",["Id","MAZE-1"],")"],["      (EAST TO ",["Id","DEAD-END-1"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","DEAD-END-1"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (SOUTH TO ",["Id","MAZE-4"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-5"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike."]],[["Str","A skeleton, probably the remains of a luckless adventurer, lies here.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO ",["Id","DEAD-END-2"],")"],["      (NORTH TO ",["Id","MAZE-3"],")"],["      (SW TO ",["Id","MAZE-6"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","DEAD-END-2"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (WEST TO ",["Id","MAZE-5"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-6"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (DOWN TO ",["Id","MAZE-5"],")"],["      (EAST TO ",["Id","MAZE-7"],")"],["      (WEST TO ",["Iddef","MAZE-6"],")"],["      (UP TO ",["Id","MAZE-9"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-7"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (UP TO ",["Id","MAZE-14"],")"],["      (WEST TO ",["Id","MAZE-6"],")"],["      (DOWN PER ",["Id","MAZE-DIODES"],") ",["Comment",";\"to DEAD-END-1\""]],["      (EAST TO ",["Id","MAZE-8"],")"],["      (SOUTH TO ",["Id","MAZE-15"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-8"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (NE TO ",["Id","MAZE-7"],")"],["      (WEST TO ",["Iddef","MAZE-8"],")"],["      (SE TO ",["Id","DEAD-END-3"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","DEAD-END-3"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (NORTH TO ",["Id","MAZE-8"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-9"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (NORTH TO ",["Id","MAZE-6"],")"],["      (DOWN PER ",["Id","MAZE-DIODES"],") ",["Comment",";\"to MAZE-11\""]],["      (EAST TO ",["Id","MAZE-10"],")"],["      (SOUTH TO ",["Id","MAZE-13"],")"],["      (WEST TO ",["Id","MAZE-12"],")"],["      (NW TO ",["Iddef","MAZE-9"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-10"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO ",["Id","MAZE-9"],")"],["      (WEST TO ",["Id","MAZE-13"],")"],["      (UP TO ",["Id","MAZE-11"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-11"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["       (NE TO ",["Id","GRATING-ROOM"],")"],["      (DOWN TO ",["Id","MAZE-10"],")"],["      (NW TO ",["Id","MAZE-13"],")"],["      (SW TO ",["Id","MAZE-12"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","GRATING-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Grating Room\""],")"],["      (SW TO ",["Id","MAZE-11"],")"],["      (UP TO ",["Id","GRATING-CLEARING"]],["       IF ",["Id","GRATE"]," IS OPEN ELSE ",["Str","\"The grating is closed.\""],")"],["      (ACTION ",["Id","MAZE-11-FCN"],")"],["      (GLOBAL ",["Id","GRATE"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","MAZE-12"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (DOWN PER ",["Id","MAZE-DIODES"],") ",["Comment",";\"to MAZE-5\""]],["      (SW TO ",["Id","MAZE-11"],")"],["      (EAST TO ",["Id","MAZE-13"],")"],["      (UP TO ",["Id","MAZE-9"],")"],["      (NORTH TO ",["Id","DEAD-END-4"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","DEAD-END-4"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (SOUTH TO ",["Id","MAZE-12"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-13"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO ",["Id","MAZE-9"],")"],["      (DOWN TO ",["Id","MAZE-12"],")"],["      (SOUTH TO ",["Id","MAZE-10"],")"],["      (WEST TO ",["Id","MAZE-11"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-14"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["       (WEST TO ",["Id","MAZE-15"],")"],["      (NW TO ",["Iddef","MAZE-14"],")"],["      (NE TO ",["Id","MAZE-7"],")"],["      (SOUTH TO ",["Id","MAZE-7"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM ",["Iddef","MAZE-15"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (WEST TO ",["Id","MAZE-14"],")"],["      (SOUTH TO ",["Id","MAZE-7"],")"],["      (SE TO ",["Id","CYCLOPS-ROOM"],")"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["\\"],[],[["Str","\"SUBTITLE CYCLOPS AND HIDEAWAY\""]],[],["<ROOM ",["Iddef","CYCLOPS-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Cyclops Room\""],")"],["      (NW TO ",["Id","MAZE-15"],")"],["      (EAST TO ",["Id","STRANGE-PASSAGE"]],["       IF ",["Id","MAGIC-FLAG"]," ELSE ",["Str","\"The east wall is solid rock.\""],")"],["      (UP TO ",["Id","TREASURE-ROOM"]," IF ",["Id","CYCLOPS-FLAG"]],["        ELSE ",["Str","\"The cyclops doesn't look like he'll let you past.\""],")"],["      (ACTION ",["Id","CYCLOPS-ROOM-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","STRANGE-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a long passage. To the west is one entrance. On the"]],[["Str","east there is an old wooden door, with a large opening in it (about"]],[["Str","cyclops sized).\""],")"],["      (DESC ",["Str","\"Strange Passage\""],")"],["      (WEST TO ",["Id","CYCLOPS-ROOM"],")"],["      (IN TO ",["Id","CYCLOPS-ROOM"],")"],["      (EAST TO ",["Id","LIVING-ROOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","TREASURE-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a large room, whose east wall is solid granite. A number"]],[["Str","of discarded bags, which crumble at your touch, are scattered about"]],[["Str","on the floor. There is an exit down a staircase.\""],")"],["      (DESC ",["Str","\"Treasure Room\""],")"],["      (DOWN TO ",["Id","CYCLOPS-ROOM"],")"],["      (ACTION ",["Id","TREASURE-ROOM-FCN"],")"],["      (FLAGS RLANDBIT ",["Comment",";\"CANT-HAVE-ONBIT\""],")"],["      (VALUE 25)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["\\"],[],[["Str","\"SUBTITLE RESERVOIR AREA\""]],[],["<ROOM ",["Iddef","RESERVOIR-SOUTH"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Reservoir South\""],")"],["      (SE TO ",["Id","DEEP-CANYON"],")"],["      (SW TO ",["Id","CHASM-ROOM"],")"],["      (EAST TO ",["Id","DAM-ROOM"],")"],["      (WEST TO ",["Id","STREAM-VIEW"],")"],["      (NORTH TO ",["Id","RESERVOIR"]],["       IF ",["Id","LOW-TIDE"]," ELSE ",["Str","\"You would drown.\""],")"],["      (ACTION ",["Id","RESERVOIR-SOUTH-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"],")"],["      (PSEUDO ",["Dict","\"LAKE\""]," ",["Id","LAKE-PSEUDO"]," ",["Dict","\"CHASM\""]," ",["Id","CHASM-PSEUDO"],")>"],[],["<ROOM ",["Iddef","RESERVOIR"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Reservoir\""],")"],["      (NORTH TO ",["Id","RESERVOIR-NORTH"],")"],["      (SOUTH TO ",["Id","RESERVOIR-SOUTH"],")"],["      (UP TO ",["Id","IN-STREAM"],")"],["      (WEST TO ",["Id","IN-STREAM"],")"],["      (DOWN ",["Str","\"The dam blocks your way.\""],")"],["      (ACTION ",["Id","RESERVOIR-FCN"],")"],["      (FLAGS NONLANDBIT )"],["      (PSEUDO ",["Dict","\"STREAM\""]," ",["Id","STREAM-PSEUDO"],")"],["      (GLOBAL ",["Id","GLOBAL-WATER"],")>"],[],["<ROOM ",["Iddef","RESERVOIR-NORTH"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Reservoir North\""],")"],["      (NORTH TO ",["Id","ATLANTIS-ROOM"],")"],["      (SOUTH TO ",["Id","RESERVOIR"]],["       IF ",["Id","LOW-TIDE"]," ELSE ",["Str","\"You would drown.\""],")"],["      (ACTION ",["Id","RESERVOIR-NORTH-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"LAKE\""]," ",["Id","LAKE-PSEUDO"],")>"],[],["<ROOM ",["Iddef","STREAM-VIEW"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are standing on a path beside a gently flowing stream. The path"]],[["Str","follows the stream, which flows from west to east.\""],")"],["      (DESC ",["Str","\"Stream View\""],")"],["      (EAST TO ",["Id","RESERVOIR-SOUTH"],")"],["      (WEST ",["Str","\"The stream emerges from a spot too small for you to enter.\""],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"],")"],["      (PSEUDO ",["Dict","\"STREAM\""]," ",["Id","STREAM-PSEUDO"],")>"],[],["<ROOM ",["Iddef","IN-STREAM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on the gently flowing stream. The upstream route is too narrow"]],[["Str","to navigate, and the downstream route is invisible due to twisting"]],[["Str","walls. There is a narrow beach to land on.\""],")"],["      (DESC ",["Str","\"Stream\""],")"],["      (UP ",["Str","\"The channel is too narrow.\""],")"],["      (WEST ",["Str","\"The channel is too narrow.\""],")"],["      (LAND TO ",["Id","STREAM-VIEW"],")"],["      (DOWN TO ",["Id","RESERVOIR"],")"],["      (EAST TO ",["Id","RESERVOIR"],")"],["      (FLAGS NONLANDBIT )"],["      (GLOBAL ",["Id","GLOBAL-WATER"],")"],["      (PSEUDO ",["Dict","\"STREAM\""]," ",["Id","STREAM-PSEUDO"],")>"],[],["\\"],[],[["Str","\"SUBTITLE MIRROR ROOMS AND VICINITY\""]],[],["<ROOM ",["Iddef","MIRROR-ROOM-1"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Mirror Room\""],")"],["      (NORTH TO ",["Id","COLD-PASSAGE"],")"],["      (WEST TO ",["Id","TWISTING-PASSAGE"],")"],["      (EAST TO ",["Id","SMALL-CAVE"],")"],["      (ACTION ",["Id","MIRROR-ROOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","MIRROR-ROOM-2"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Mirror Room\""],")"],["      (WEST TO ",["Id","WINDING-PASSAGE"],")"],["      (NORTH TO ",["Id","NARROW-PASSAGE"],")"],["      (EAST TO ",["Id","TINY-CAVE"],")"],["      (ACTION ",["Id","MIRROR-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT)>"],[],["<ROOM ",["Iddef","SMALL-CAVE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a tiny cave with entrances west and north, and a staircase"]],[["Str","leading down.\""],")"],["      (DESC ",["Str","\"Cave\""],")"],["      (NORTH TO ",["Id","MIRROR-ROOM-1"],")"],["      (DOWN TO ",["Id","ATLANTIS-ROOM"],")"],["      (SOUTH TO ",["Id","ATLANTIS-ROOM"],")"],["      (WEST TO ",["Id","TWISTING-PASSAGE"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","TINY-CAVE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a tiny cave with entrances west and north, and a dark,"]],[["Str","forbidding staircase leading down.\""],")"],["      (DESC ",["Str","\"Cave\""],")"],["      (NORTH TO ",["Id","MIRROR-ROOM-2"],")"],["      (WEST TO ",["Id","WINDING-PASSAGE"],")"],["      (DOWN TO ",["Id","ENTRANCE-TO-HADES"],")"],["      (ACTION ",["Id","CAVE2-ROOM"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","COLD-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a cold and damp corridor where a long east-west passageway"]],[["Str","turns into a southward path.\""],")"],["      (DESC ",["Str","\"Cold Passage\""],")"],["      (SOUTH TO ",["Id","MIRROR-ROOM-1"],")"],["      (WEST TO ",["Id","SLIDE-ROOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","NARROW-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a long and narrow corridor where a long north-south passageway"]],[["Str","briefly narrows even further.\""],")"],["      (DESC ",["Str","\"Narrow Passage\""],")"],["      (NORTH TO ",["Id","ROUND-ROOM"],")"],["      (SOUTH TO ",["Id","MIRROR-ROOM-2"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","WINDING-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a winding passage. It seems that there are only exits"]],[["Str","on the east and north.\""],")"],["      (DESC ",["Str","\"Winding Passage\""],")"],["      (NORTH TO ",["Id","MIRROR-ROOM-2"],")"],["      (EAST TO ",["Id","TINY-CAVE"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","TWISTING-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a winding passage. It seems that there are only exits"]],[["Str","on the east and north.\""],")"],["      (DESC ",["Str","\"Twisting Passage\""],")"],["      (NORTH TO ",["Id","MIRROR-ROOM-1"],")"],["      (EAST TO ",["Id","SMALL-CAVE"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","ATLANTIS-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is an ancient room, long under water. There is an exit to"]],[["Str","the south and a staircase leading up.\""],")"],["      (DESC ",["Str","\"Atlantis Room\""],")"],["      (UP TO ",["Id","SMALL-CAVE"],")"],["      (SOUTH TO ",["Id","RESERVOIR-NORTH"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["\\"],[],[["Str","\"SUBTITLE ROUND ROOM AND VICINITY\""]],[],["<ROOM ",["Iddef","EW-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a narrow east-west passageway. There is a narrow stairway"]],[["Str","leading down at the north end of the room.\""],")"],["      (DESC ",["Str","\"East-West Passage\""],")"],["      (EAST TO ",["Id","ROUND-ROOM"],")"],["      (WEST TO ",["Id","TROLL-ROOM"],")"],["      (DOWN TO ",["Id","CHASM-ROOM"],")"],["      (NORTH TO ",["Id","CHASM-ROOM"],")"],["      (FLAGS RLANDBIT)"],["      (VALUE 5)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","ROUND-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a circular stone room with passages in all directions. Several"]],[["Str","of them have unfortunately been blocked by cave-ins.\""],")"],["      (DESC ",["Str","\"Round Room\""],")"],["      (EAST TO ",["Id","LOUD-ROOM"],")"],["      (WEST TO ",["Id","EW-PASSAGE"],")"],["      (NORTH TO ",["Id","NS-PASSAGE"],")"],["      (SOUTH TO ",["Id","NARROW-PASSAGE"],")"],["      (SE TO ",["Id","ENGRAVINGS-CAVE"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","DEEP-CANYON"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Deep Canyon\""],")"],["      (NW TO ",["Id","RESERVOIR-SOUTH"],") ",["Comment",";COFFIN-CURE"]],["      (EAST TO ",["Id","DAM-ROOM"],")"],["      (SW TO ",["Id","NS-PASSAGE"],")"],["      (DOWN TO ",["Id","LOUD-ROOM"],")"],["      (FLAGS RLANDBIT)"],["      (ACTION ",["Id","DEEP-CANYON-F"],")"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","DAMP-CAVE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This cave has exits to the west and east, and narrows to a crack toward"]],[["Str","the south. The earth is particularly damp here.\""],")"],["      (DESC ",["Str","\"Damp Cave\""],")"],["      (WEST TO ",["Id","LOUD-ROOM"],")"],["      (EAST TO ",["Id","WHITE-CLIFFS-NORTH"],")"],["      (SOUTH ",["Str","\"It is too narrow for most insects.\""],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","CRACK"],")>"],[],["<ROOM ",["Iddef","LOUD-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Loud Room\""],")"],["      (EAST TO ",["Id","DAMP-CAVE"],")"],["      (WEST TO ",["Id","ROUND-ROOM"],")"],["      (UP TO ",["Id","DEEP-CANYON"],")"],["      (ACTION ",["Id","LOUD-ROOM-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","NS-PASSAGE"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a high north-south passage, which forks to the northeast.\""],")"],["      (DESC ",["Str","\"North-South Passage\""],")"],["      (NORTH TO ",["Id","CHASM-ROOM"],")"],["      (NE TO ",["Id","DEEP-CANYON"],")"],["      (SOUTH TO ",["Id","ROUND-ROOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","CHASM-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"A chasm runs southwest to northeast and the path follows it. You are"]],[["Str","on the south side of the chasm, where a crack opens into a passage.\""],")"],["      (DESC ",["Str","\"Chasm\""],")"],["      (NE TO ",["Id","RESERVOIR-SOUTH"],")"],["      (SW TO ",["Id","EW-PASSAGE"],")"],["      (UP TO ",["Id","EW-PASSAGE"],")"],["      (SOUTH TO ",["Id","NS-PASSAGE"],")"],["      (DOWN ",["Str","\"Are you out of your mind?\""],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","CRACK"]," ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"CHASM\""]," ",["Id","CHASM-PSEUDO"],")>"],[],["\\"],[],[["Str","\"SUBTITLE HADES ET AL\""]],[],["<ROOM ",["Iddef","ENTRANCE-TO-HADES"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Entrance to Hades\""],")"],["      (UP TO ",["Id","TINY-CAVE"],")"],["      (IN TO ",["Id","LAND-OF-LIVING-DEAD"]," IF ",["Id","LLD-FLAG"]],["       ELSE ",["Str","\"Some invisible force prevents you from passing through the gate.\""],")"],["      (SOUTH TO ",["Id","LAND-OF-LIVING-DEAD"]," IF ",["Id","LLD-FLAG"]],["       ELSE ",["Str","\"Some invisible force prevents you from passing through the gate.\""],")"],["      (ACTION ",["Id","LLD-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL ",["Id","BODIES"],")"],["      (PSEUDO ",["Dict","\"GATE\""]," ",["Id","GATE-PSEUDO"]," ",["Dict","\"GATES\""]," ",["Id","GATE-PSEUDO"],")>"],[],["<ROOM ",["Iddef","LAND-OF-LIVING-DEAD"]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You have entered the Land of the Living Dead. Thousands of lost souls"]],[["Str","can be heard weeping and moaning. In the corner are stacked the remains"]],[["Str","of dozens of previous adventurers less fortunate than yourself."]],[["Str","A passage exits to the north.\""],")"],["      (DESC ",["Str","\"Land of the Dead\""],")"],["      (OUT TO ",["Id","ENTRANCE-TO-HADES"],")"],["      (NORTH TO ",["Id","ENTRANCE-TO-HADES"],")"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL ",["Id","BODIES"],")>"],[],["\\"],[],[["Str","\"SUBTITLE DOME, TEMPLE, EGYPT\""]],[],["<ROOM ",["Iddef","ENGRAVINGS-CAVE"],"\t",["Comment",";\"was CAVE4\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You have entered a low cave with passages leading northwest and east.\""],")"],["      (DESC ",["Str","\"Engravings Cave\""],")"],["      (NW TO ",["Id","ROUND-ROOM"],")"],["      (EAST TO ",["Id","DOME-ROOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","EGYPT-ROOM"],"\t",["Comment",";\"was EGYPT\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a room which looks like an Egyptian tomb. There is an"]],[["Str","ascending staircase to the west.\""],")"],["      (DESC ",["Str","\"Egyptian Room\""],")"],["      (WEST TO ",["Id","NORTH-TEMPLE"],")"],["      (UP TO ",["Id","NORTH-TEMPLE"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","DOME-ROOM"],"\t",["Comment",";\"was DOME\""]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dome Room\""],")"],["      (WEST TO ",["Id","ENGRAVINGS-CAVE"],")"],["      (DOWN TO ",["Id","TORCH-ROOM"]],["       IF ",["Id","DOME-FLAG"]," ELSE ",["Str","\"You cannot go down without fracturing many bones.\""],")"],["      (ACTION ",["Id","DOME-ROOM-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (PSEUDO ",["Dict","\"DOME\""]," ",["Id","DOME-PSEUDO"],")>"],[],["<ROOM ",["Iddef","TORCH-ROOM"]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Torch Room\""],")"],["      (UP ",["Str","\"You cannot reach the rope.\""],")"],["      (SOUTH TO ",["Id","NORTH-TEMPLE"],")"],["      (DOWN TO ",["Id","NORTH-TEMPLE"],")"],["      (ACTION ",["Id","TORCH-ROOM-FCN"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"DOME\""]," ",["Id","DOME-PSEUDO"],")>"],[],["<ROOM ",["Iddef","NORTH-TEMPLE"],"\t",["Comment",";\"was TEMP1\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is the north end of a large temple. On the east wall is an"]],[["Str","ancient inscription, probably a prayer in a long-forgotten language."]],[["Str","Below the prayer is a staircase leading down. The west wall is solid"]],[["Str","granite. The exit to the north end of the room is through huge"]],[["Str","marble pillars.\""],")"],["      (DESC ",["Str","\"Temple\""],")"],["      (DOWN TO ",["Id","EGYPT-ROOM"],")"],["      (EAST TO ",["Id","EGYPT-ROOM"],")"],["      (NORTH TO ",["Id","TORCH-ROOM"],")"],["      (OUT TO ",["Id","TORCH-ROOM"],")"],["      (UP TO ",["Id","TORCH-ROOM"],")"],["      (SOUTH TO ",["Id","SOUTH-TEMPLE"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","SOUTH-TEMPLE"],"\t",["Comment",";\"was TEMP2\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[],[["Str","\"This is the south end of a large temple. In front of you is what"]],[["Str","appears to be an altar. In one corner is a small hole in the floor"]],[["Str","which leads into darkness. You probably could not get back up it.\""],")"],["      (DESC ",["Str","\"Altar\""],")"],["      (NORTH TO ",["Id","NORTH-TEMPLE"],")"],["      (DOWN TO ",["Id","TINY-CAVE"]],["       IF ",["Id","COFFIN-CURE"]],["       ELSE ",["Str","\"You haven't a prayer of getting the coffin down there.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (ACTION ",["Id","SOUTH-TEMPLE-FCN"],")>"],[],["\\"],[],[["Str","\"SUBTITLE FLOOD CONTROL DAM #3\""]],[],["<ROOM ",["Iddef","DAM-ROOM"],"\t",["Comment",";\"was DAM\""]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dam\""],")"],["      (SOUTH TO ",["Id","DEEP-CANYON"],")"],["      (DOWN TO ",["Id","DAM-BASE"],")"],["      (EAST TO ",["Id","DAM-BASE"],")"],["      (NORTH TO ",["Id","DAM-LOBBY"],")"],["      (WEST TO ",["Id","RESERVOIR-SOUTH"],")"],["      (ACTION ",["Id","DAM-ROOM-FCN"],")"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"],")>"],[],["<ROOM ",["Iddef","DAM-LOBBY"],"\t",["Comment",";\"was LOBBY\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This room appears to have been the waiting room for groups touring"]],[["Str","the dam. There are open doorways here to the north and east marked"]],[["Str","\\\"Private\\\", and there is a path leading south over the top of the dam.\""],")"],["      (DESC ",["Str","\"Dam Lobby\""],")"],["      (SOUTH TO ",["Id","DAM-ROOM"],")"],["      (NORTH TO ",["Id","MAINTENANCE-ROOM"],")"],["      (EAST TO ",["Id","MAINTENANCE-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT)>"],[],["<ROOM ",["Iddef","MAINTENANCE-ROOM"],"\t",["Comment",";\"was MAINT\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is what appears to have been the maintenance room for Flood"]],[["Str","Control Dam #3. Apparently, this room has been ransacked recently, for"]],[["Str","most of the valuable equipment is gone. On the wall in front of you is a"]],[["Str","group of buttons colored blue, yellow, brown, and red. There are doorways to"]],[["Str","the west and south.\""],")"],["      (DESC ",["Str","\"Maintenance Room\""],")"],["      (SOUTH TO ",["Id","DAM-LOBBY"],")"],["      (WEST TO ",["Id","DAM-LOBBY"],")"],["      (FLAGS RLANDBIT)>"],[],["\\"],[],[["Str","\"SUBTITLE RIVER AREA\""]],[],["<ROOM ",["Iddef","DAM-BASE"],"\t",["Comment",";\"was DOCK\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are at the base of Flood Control Dam #3, which looms above you"]],[["Str","and to the north. The river Frigid is flowing by here. Along the"]],[["Str","river are the White Cliffs which seem to form giant walls stretching"]],[["Str","from north to south along the shores of the river as it winds its"]],[["Str","way downstream.\""],")"],["      (DESC ",["Str","\"Dam Base\""],")"],["      (NORTH TO ",["Id","DAM-ROOM"],")"],["      (UP TO ",["Id","DAM-ROOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","RIVER-1"],"\t",["Comment",";\"was RIVR1\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on the Frigid River in the vicinity of the Dam. The river"]],[["Str","flows quietly here. There is a landing on the west shore.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (WEST TO ",["Id","DAM-BASE"],")"],["      (LAND TO ",["Id","DAM-BASE"],")"],["      (DOWN TO ",["Id","RIVER-2"],")"],["      (EAST ",["Str","\"The White Cliffs prevent your landing here.\""],")"],["      (FLAGS NONLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","RIVER-2"],"\t",["Comment",";\"was RIVR2\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The river turns a corner here making it impossible to see the"]],[["Str","Dam. The White Cliffs loom on the east bank and large rocks prevent"]],[["Str","landing on the west.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (DOWN TO ",["Id","RIVER-3"],")"],["      (LAND ",["Str","\"There is no safe landing spot here.\""],")"],["      (EAST ",["Str","\"The White Cliffs prevent your landing here.\""],")"],["      (WEST ",["Str","\"Just in time you steer away from the rocks.\""],")"],["      (FLAGS NONLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","RIVER-3"],"\t",["Comment",";\"was RIVR3\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The river descends here into a valley. There is a narrow beach on the"]],[["Str","west shore below the cliffs. In the distance a faint rumbling can be"]],[["Str","heard.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (DOWN TO ",["Id","RIVER-4"],")"],["      (LAND TO ",["Id","WHITE-CLIFFS-NORTH"],")"],["      (WEST TO ",["Id","WHITE-CLIFFS-NORTH"],")"],["      (FLAGS NONLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","WHITE-CLIFFS-NORTH"],"\t",["Comment",";\"was WCLF1\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on a narrow strip of beach which runs along the base of the"]],[["Str","White Cliffs. There is a narrow path heading south along the Cliffs"]],[["Str","and a tight passage leading west into the cliffs themselves.\""],")"],["      (DESC ",["Str","\"White Cliffs Beach\""],")"],["      (SOUTH TO ",["Id","WHITE-CLIFFS-SOUTH"]," IF ",["Id","DEFLATE"]," ELSE ",["Str","\"The path is too narrow.\""],")"],["      (WEST TO ",["Id","DAMP-CAVE"]," IF ",["Id","DEFLATE"]," ELSE ",["Str","\"The path is too narrow.\""],")"],["      (ACTION ",["Id","WHITE-CLIFFS-FUNCTION"],")"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","WHITE-CLIFF"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","WHITE-CLIFFS-SOUTH"],"\t",["Comment",";\"was WCLF2\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on a rocky, narrow strip of beach beside the Cliffs. A"]],[["Str","narrow path leads north along the shore.\""],")"],["      (DESC ",["Str","\"White Cliffs Beach\""],")"],["      (NORTH TO ",["Id","WHITE-CLIFFS-NORTH"]],["       IF ",["Id","DEFLATE"]," ELSE ",["Str","\"The path is too narrow.\""],")"],["      (ACTION ",["Id","WHITE-CLIFFS-FUNCTION"],")"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","WHITE-CLIFF"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","RIVER-4"],"\t",["Comment",";\"was RIVR4\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The river is running faster here and the sound ahead appears to be"]],[["Str","that of rushing water. On the east shore is a sandy beach. A small"]],[["Str","area of beach can also be seen below the cliffs on the west shore.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (DOWN TO ",["Id","RIVER-5"],")"],["      (LAND ",["Str","\"You can land either to the east or the west.\""],")"],["      (WEST TO ",["Id","WHITE-CLIFFS-SOUTH"],")"],["      (EAST TO ",["Id","SANDY-BEACH"],")"],["      (ACTION ",["Id","RIVR4-ROOM"],")"],["      (FLAGS NONLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","RIVER-5"],"\t",["Comment",";\"was RIVR5\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"The sound of rushing water is nearly unbearable here. On the east"]],[["Str","shore is a large landing area.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (EAST TO ",["Id","SHORE"],")"],["      (LAND TO ",["Id","SHORE"],")"],["      (FLAGS NONLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","SHORE"],"\t",["Comment",";\"was FANTE\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on the east shore of the river. The water here seems somewhat"]],[["Str","treacherous. A path travels from north to south here, the south end"]],[["Str","quickly turning around a sharp corner.\""],")"],["      (DESC ",["Str","\"Shore\""],")"],["      (NORTH TO ",["Id","SANDY-BEACH"],")"],["      (SOUTH TO ",["Id","ARAGAIN-FALLS"],")"],["      (FLAGS RLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","SANDY-BEACH"],"\t",["Comment",";\"was BEACH\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[],[["Str","\"You are on a large sandy beach on the east shore of the river, which is"]],[["Str","flowing quickly by. A path runs beside the river to the south here, and"]],[["Str","a passage is partially buried in sand to the northeast.\""],")"],["      (DESC ",["Str","\"Sandy Beach\""],")"],["      (NE TO ",["Id","SANDY-CAVE"],")"],["      (SOUTH TO ",["Id","SHORE"],")"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","SANDY-CAVE"],"\t",["Comment",";\"was TCAVE\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a sand-filled cave whose exit is to the southwest.\""],")"],["      (DESC ",["Str","\"Sandy Cave\""],")"],["      (SW TO ",["Id","SANDY-BEACH"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","ARAGAIN-FALLS"],"\t",["Comment",";\"was FALLS\""]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Aragain Falls\""],")"],["      (WEST TO ",["Id","ON-RAINBOW"]," IF ",["Id","RAINBOW-FLAG"],")"],["      (DOWN ",["Str","\"It's a long way...\""],")"],["      (NORTH TO ",["Id","SHORE"],")"],["      (UP TO ",["Id","ON-RAINBOW"]," IF ",["Id","RAINBOW-FLAG"],")"],["      (ACTION ",["Id","FALLS-ROOM"],")"],["      (FLAGS RLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RIVER"]," ",["Id","RAINBOW"],")>"],[],["<ROOM ",["Iddef","ON-RAINBOW"],"\t",["Comment",";\"was RAINB\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on top of a rainbow (I bet you never thought you would walk"]],[["Str","on a rainbow), with a magnificent view of the Falls. The rainbow"]],[["Str","travels east-west here.\""],")"],["      (DESC ",["Str","\"On the Rainbow\""],")"],["      (WEST TO ",["Id","END-OF-RAINBOW"],")"],["      (EAST TO ",["Id","ARAGAIN-FALLS"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","RAINBOW"],")>"],[],["<ROOM ",["Iddef","END-OF-RAINBOW"],"\t",["Comment",";\"was POG\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on a small, rocky beach on the continuation of the Frigid"]],[["Str","River past the Falls. The beach is narrow due to the presence of the"]],[["Str","White Cliffs. The river canyon opens here and sunlight shines in"]],[["Str","from above. A rainbow crosses over the falls to the east and a narrow"]],[["Str","path continues to the southwest.\""],")"],["      (DESC ",["Str","\"End of Rainbow\""],")"],["      (UP TO ",["Id","ON-RAINBOW"]," IF ",["Id","RAINBOW-FLAG"],")"],["      (NE TO ",["Id","ON-RAINBOW"]," IF ",["Id","RAINBOW-FLAG"],")"],["      (EAST TO ",["Id","ON-RAINBOW"]," IF ",["Id","RAINBOW-FLAG"],")"],["      (SW TO ",["Id","CANYON-BOTTOM"],")"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","RAINBOW"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","CANYON-BOTTOM"],"\t",["Comment",";\"was CLBOT\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are beneath the walls of the river canyon which may be climbable"]],[["Str","here. The lesser part of the runoff of Aragain Falls flows by below."]],[["Str","To the north is a narrow path.\""],")"],["      (DESC ",["Str","\"Canyon Bottom\""],")"],["      (UP TO ",["Id","CLIFF-MIDDLE"],")"],["      (NORTH TO ",["Id","END-OF-RAINBOW"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","GLOBAL-WATER"]," ",["Id","CLIMBABLE-CLIFF"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","CLIFF-MIDDLE"],"\t",["Comment",";\"was CLMID\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are on a ledge about halfway up the wall of the river canyon."]],[["Str","You can see from here that the main flow from Aragain Falls twists"]],[["Str","along a passage which it is impossible for you to enter. Below you is the"]],[["Str","canyon bottom. Above you is more cliff, which appears"]],[["Str","climbable.\""],")"],["      (DESC ",["Str","\"Rocky Ledge\""],")"],["      (UP TO ",["Id","CANYON-VIEW"],")"],["      (DOWN TO ",["Id","CANYON-BOTTOM"],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","CLIMBABLE-CLIFF"]," ",["Id","RIVER"],")>"],[],["<ROOM ",["Iddef","CANYON-VIEW"],"\t",["Comment",";\"was CLTOP\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are at the top of the Great Canyon on its west wall. From here"]],[["Str","there is a marvelous view of the canyon and parts of the Frigid River"]],[["Str","upstream. Across the canyon, the walls of the White Cliffs join the"]],[["Str","mighty ramparts of the Flathead Mountains to the east. Following the"]],[["Str","Canyon upstream to the north, Aragain Falls may be seen, complete with"]],[["Str","rainbow. The mighty Frigid River flows out from a great dark cavern. To"]],[["Str","the west and south can be seen an immense forest, stretching for miles"]],[["Str","around. A path leads northwest. It is possible to climb down into"]],[["Str","the canyon from here.\""],")"],["      (DESC ",["Str","\"Canyon View\""],")"],["      (EAST TO ",["Id","CLIFF-MIDDLE"],")"],["      (DOWN TO ",["Id","CLIFF-MIDDLE"],")"],["      (NW TO ",["Id","CLEARING"],")"],["      (WEST TO ",["Id","FOREST-3"],")"],["      (SOUTH ",["Str","\"Storm-tossed trees block your way.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL ",["Id","CLIMBABLE-CLIFF"]," ",["Id","RIVER"]," ",["Id","RAINBOW"],")"],["      (ACTION ",["Id","CANYON-VIEW-F"],")>"],[],["<ROUTINE ",["Iddef","CANYON-VIEW-F"]," (",["Localid","RARG"],")"],["\t <COND (<AND <==? .",["Localid","RARG"]," ,",["Id","M-BEG"],">"],["\t\t     <VERB? LEAP>"],["\t\t     <NOT ,",["Id","PRSO"],">>"],["\t\t<",["Id","JIGS-UP"]," ",["Str","\"Nice view, lousy place to jump.\""],">"],["\t\t<RTRUE>)>>"],[],[],["\\"],[],[["Str","\"SUBTITLE COAL MINE AREA\""]],[],["<ROOM ",["Iddef","MINE-ENTRANCE"],"\t",["Comment",";\"was ENTRA\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[],[["Str","\"You are standing at the entrance of what might have been a coal mine."]],[["Str","The shaft enters the west wall, and there is another exit on the south"]],[["Str","end of the room.\""],")"],["      (DESC ",["Str","\"Mine Entrance\""],")"],["      (SOUTH TO ",["Id","SLIDE-ROOM"],")"],["      (IN TO ",["Id","SQUEEKY-ROOM"],")"],["      (WEST TO ",["Id","SQUEEKY-ROOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","SQUEEKY-ROOM"],"\t",["Comment",";\"was SQUEE\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"You are in a small room. Strange squeaky sounds may be heard coming"]],[["Str","from the passage at the north end. You may also escape to the east.\""],")"],["      (DESC ",["Str","\"Squeaky Room\""],")"],["      (NORTH TO ",["Id","BAT-ROOM"],")"],["      (EAST TO ",["Id","MINE-ENTRANCE"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","BAT-ROOM"],"\t",["Comment",";\"was BATS\""]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Bat Room\""],")"],["      (SOUTH TO ",["Id","SQUEEKY-ROOM"],")"],["      (EAST TO ",["Id","SHAFT-ROOM"],")"],["      (ACTION ",["Id","BATS-ROOM"],")"],["      (FLAGS RLANDBIT SACREDBIT)>"],[],["<ROOM ",["Iddef","SHAFT-ROOM"],"\t",["Comment",";\"was TSHAF\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a large room, in the middle of which is a small shaft"]],[["Str","descending through the floor into darkness below. To the west and"]],[["Str","the north are exits from this room. Constructed over the top of the"]],[["Str","shaft is a metal framework to which a heavy iron chain is attached.\""],")"],["      (DESC ",["Str","\"Shaft Room\""],")"],["      (DOWN ",["Str","\"You wouldn't fit and would die if you could.\""],")"],["      (WEST TO ",["Id","BAT-ROOM"],")"],["      (NORTH TO ",["Id","SMELLY-ROOM"],")"],["      (FLAGS RLANDBIT)"],["      (PSEUDO ",["Dict","\"CHAIN\""]," ",["Id","CHAIN-PSEUDO"],")>"],[],["<ROOM ",["Iddef","SMELLY-ROOM"],"\t",["Comment",";\"was SMELL\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small non-descript room. However, from the direction"]],[["Str","of a small descending staircase a foul odor can be detected. To the"]],[["Str","south is a narrow tunnel.\""],")"],["      (DESC ",["Str","\"Smelly Room\""],")"],["      (DOWN TO ",["Id","GAS-ROOM"],")"],["      (SOUTH TO ",["Id","SHAFT-ROOM"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"ODOR\""]," ",["Id","GAS-PSEUDO"]," ",["Dict","\"GAS\""]," ",["Id","GAS-PSEUDO"],")>"],[],["<ROOM ",["Iddef","GAS-ROOM"],"\t",["Comment",";\"was BOOM\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small room which smells strongly of coal gas. There is a"]],[["Str","short climb up some stairs and a narrow tunnel leading east.\""],")"],["      (DESC ",["Str","\"Gas Room\""],")"],["      (UP TO ",["Id","SMELLY-ROOM"],")"],["      (EAST TO ",["Id","MINE-1"],")"],["      (ACTION ",["Id","BOOM-ROOM"],")"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL ",["Id","STAIRS"],")"],["      (PSEUDO ",["Dict","\"GAS\""]," ",["Id","GAS-PSEUDO"]," ",["Dict","\"ODOR\""]," ",["Id","GAS-PSEUDO"],")>"],[],["<ROOM ",["Iddef","LADDER-TOP"],"\t",["Comment",";\"was TLADD\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a very small room. In the corner is a rickety wooden"]],[["Str","ladder, leading downward. It might be safe to descend. There is"]],[["Str","also a staircase leading upward.\""],")"],["      (DESC ",["Str","\"Ladder Top\""],")"],["      (DOWN TO ",["Id","LADDER-BOTTOM"],")"],["      (UP TO ",["Id","MINE-4"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","LADDER"]," ",["Id","STAIRS"],")>"],[],["<ROOM ",["Iddef","LADDER-BOTTOM"],"\t",["Comment",";\"was BLADD\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a rather wide room. On one side is the bottom of a"]],[["Str","narrow wooden ladder. To the west and the south are passages"]],[["Str","leaving the room.\""],")"],["      (DESC ",["Str","\"Ladder Bottom\""],")"],["      (SOUTH TO ",["Id","DEAD-END-5"],")"],["      (WEST TO ",["Id","TIMBER-ROOM"],")"],["      (UP TO ",["Id","LADDER-TOP"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","LADDER"],")>"],[],["<ROOM ",["Iddef","DEAD-END-5"],"\t",["Comment",";\"was DEAD7\""]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the mine.\""],")"],["      (NORTH TO ",["Id","LADDER-BOTTOM"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","TIMBER-ROOM"],"\t",["Comment",";\"was TIMBE\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a long and narrow passage, which is cluttered with broken"]],[["Str","timbers. A wide passage comes from the east and turns at the"]],[["Str","west end of the room into a very narrow passageway. From the west"]],[["Str","comes a strong draft.\""],")"],["      (DESC ",["Str","\"Timber Room\""],")"],["      (EAST TO ",["Id","LADDER-BOTTOM"],")"],["      (WEST TO ",["Id","LOWER-SHAFT"]],["       IF ",["Id","EMPTY-HANDED"]],["       ELSE ",["Str","\"You cannot fit through this passage with that load.\""],")"],["      (ACTION ",["Id","NO-OBJS"],")"],["      (FLAGS RLANDBIT SACREDBIT)>"],[],["<ROOM ",["Iddef","LOWER-SHAFT"],"\t",["Comment",";\"was BSHAF\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small drafty room in which is the bottom of a long"]],[["Str","shaft. To the south is a passageway and to the east a very narrow"]],[["Str","passage. In the shaft can be seen a heavy iron chain.\""],")"],["      (DESC ",["Str","\"Drafty Room\""],")"],["      (SOUTH TO ",["Id","MACHINE-ROOM"],")"],["      (OUT TO ",["Id","TIMBER-ROOM"]],["       IF ",["Id","EMPTY-HANDED"]],["       ELSE ",["Str","\"You cannot fit through this passage with that load.\""],")"],["      (EAST TO ",["Id","TIMBER-ROOM"]],["       IF ",["Id","EMPTY-HANDED"]],["       ELSE ",["Str","\"You cannot fit through this passage with that load.\""],")"],["      (ACTION ",["Id","NO-OBJS"],")"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (PSEUDO ",["Dict","\"CHAIN\""]," ",["Id","CHAIN-PSEUDO"],")>"],[],["<ROOM ",["Iddef","MACHINE-ROOM"],"\t",["Comment",";\"was MACHI\""]],["      (IN ",["Id","ROOMS"],")"],["      (DESC ",["Str","\"Machine Room\""],")"],["      (NORTH TO ",["Id","LOWER-SHAFT"],")"],["      (ACTION ",["Id","MACHINE-ROOM-FCN"],")"],["      (FLAGS RLANDBIT)>"],[],["\\"],[],[["Str","\"SUBTITLE COAL MINE\""]],[],["<ROOM ",["Iddef","MINE-1"],"\t",["Comment",";\"was MINE1\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (NORTH TO ",["Id","GAS-ROOM"],")"],["      (EAST TO ",["Iddef","MINE-1"],")"],["      (NE TO ",["Id","MINE-2"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","MINE-2"],"\t",["Comment",";\"was MINE2\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (NORTH TO ",["Iddef","MINE-2"],")"],["      (SOUTH TO ",["Id","MINE-1"],")"],["      (SE TO ",["Id","MINE-3"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","MINE-3"],"\t",["Comment",";\"was MINE3\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (SOUTH TO ",["Iddef","MINE-3"],")"],["      (SW TO ",["Id","MINE-4"],")"],["      (EAST TO ",["Id","MINE-2"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","MINE-4"],"\t",["Comment",";\"was MINE4\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (NORTH TO ",["Id","MINE-3"],")"],["      (WEST TO ",["Iddef","MINE-4"],")"],["      (DOWN TO ",["Id","LADDER-TOP"],")"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ",["Iddef","SLIDE-ROOM"],"\t",["Comment",";\"was SLIDE\""]],["      (IN ",["Id","ROOMS"],")"],["      (LDESC"],[["Str","\"This is a small chamber, which appears to have been part of a"]],[["Str","coal mine. On the south wall of the chamber the letters \\\"Granite"]],[["Str","Wall\\\" are etched in the rock. To the east is a long passage, and"]],[["Str","there is a steep metal slide twisting downward. To the north is"]],[["Str","a small opening.\""],")"],["      (DESC ",["Str","\"Slide Room\""],")"],["      (EAST TO ",["Id","COLD-PASSAGE"],")"],["      (NORTH TO ",["Id","MINE-ENTRANCE"],")"],["      (DOWN TO ",["Id","CELLAR"],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL ",["Id","SLIDE"],")>"],[],["\\"],[],[["Comment",";\"RANDOM TABLES FOR WALK-AROUND\""]],[],["<GLOBAL ",["Iddef","HOUSE-AROUND"]],["  <LTABLE ",["Id","WEST-OF-HOUSE"]," ",["Id","NORTH-OF-HOUSE"]," ",["Id","EAST-OF-HOUSE"]," ",["Id","SOUTH-OF-HOUSE"]],["\t  ",["Id","WEST-OF-HOUSE"],">>"],[],["<GLOBAL ",["Iddef","FOREST-AROUND"]],["  <LTABLE ",["Id","FOREST-1"]," ",["Id","FOREST-2"]," ",["Id","FOREST-3"]," ",["Id","PATH"]," ",["Id","CLEARING"]," ",["Id","FOREST-1"],">>"],[],["<GLOBAL ",["Iddef","IN-HOUSE-AROUND"]],["  <LTABLE ",["Id","LIVING-ROOM"]," ",["Id","KITCHEN"]," ",["Id","ATTIC"]," ",["Id","KITCHEN"],">>"],[],["<GLOBAL ",["Iddef","ABOVE-GROUND"]],["  <LTABLE ",["Id","WEST-OF-HOUSE"]," ",["Id","NORTH-OF-HOUSE"]," ",["Id","EAST-OF-HOUSE"]," ",["Id","SOUTH-OF-HOUSE"]],["\t  ",["Id","FOREST-1"]," ",["Id","FOREST-2"]," ",["Id","FOREST-3"]," ",["Id","PATH"]," ",["Id","CLEARING"]," ",["Id","GRATING-CLEARING"]],["\t  ",["Id","CANYON-VIEW"],">>"],[],[["Comment",";\"The GO routine must live here.\""]],[],["<ROUTINE ",["Iddef","GO"]," ()"],["\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-FIGHT"]," -1>>"],["\t<",["Id","QUEUE"]," ",["Id","I-SWORD"]," -1>"],["\t<ENABLE <",["Id","QUEUE"]," ",["Id","I-THIEF"]," -1>>"],["\t<",["Id","QUEUE"]," ",["Id","I-CANDLES"]," 40>"],["\t<",["Id","QUEUE"]," ",["Id","I-LANTERN"]," 200>"],["\t<PUTP ,",["Id","INFLATED-BOAT"]," ,P?VTYPE ,NONLANDBIT>"],["\t<PUT ,",["Id","DEF1-RES"]," 1 <REST ,",["Id","DEF1"]," 2>>"],["\t<PUT ,",["Id","DEF1-RES"]," 2 <REST ,",["Id","DEF1"]," 4>>"],["\t<PUT ,",["Id","DEF2-RES"]," 2 <REST ,",["Id","DEF2B"]," 2>>"],["\t<PUT ,",["Id","DEF2-RES"]," 3 <REST ,",["Id","DEF2B"]," 4>>"],["\t<PUT ,",["Id","DEF3-RES"]," 1 <REST ,",["Id","DEF3A"]," 2>>"],["\t<PUT ,",["Id","DEF3-RES"]," 3 <REST ,",["Id","DEF3B"]," 2>>"],["\t<SETG ",["Id","HERE"]," ,",["Id","WEST-OF-HOUSE"],">"],["\t<",["Id","THIS-IS-IT"]," ,",["Id","MAILBOX"],">"],["\t<COND (<NOT <FSET? ,",["Id","HERE"]," ,TOUCHBIT>>"],["\t       <",["Id","V-VERSION"],">"],["\t       <CRLF>)>"],["\t<SETG ",["Id","LIT"]," T>"],["\t<SETG ",["Id","WINNER"]," ,",["Id","ADVENTURER"],">"],["\t<SETG ",["Id","PLAYER"]," ,",["Id","WINNER"],">"],["\t<MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">"],["\t<",["Id","V-LOOK"],">"],["\t<",["Id","MAIN-LOOP"],">"],["\t<AGAIN>>"]],"gclock.zil":[[["Str","\"GCLOCK for"]],[["Str","\t\t\t    The Zork Trilogy"]],[["Str","\t (c) Copyright 1983 Infocom, Inc.  All Rights Reserved\""]],[],["<CONSTANT ",["Iddef","C-TABLELEN"]," 180>"],[],["<GLOBAL ",["Iddef","C-TABLE"]," <ITABLE NONE 180>>"],[],["<GLOBAL ",["Iddef","C-DEMONS"]," 180>"],[],["<GLOBAL ",["Iddef","C-INTS"]," 180>"],[],["<CONSTANT ",["Iddef","C-INTLEN"]," 6>"],[],["<CONSTANT ",["Iddef","C-ENABLED?"]," 0>"],[],["<CONSTANT ",["Iddef","C-TICK"]," 1>"],[],["<CONSTANT ",["Iddef","C-RTN"]," 2>"],[],["<ROUTINE ",["Iddef","DEMON"]," (",["Localid","RTN"]," ",["Localid","TICK"]," ",["Str","\"AUX\""]," ",["Localid","CINT"],")"],["\t #DECL ((",["Localid","RTN"],") ATOM (",["Localid","TICK"],") FIX (",["Localid","CINT"],") <PRIMTYPE VECTOR>)"],["\t <PUT <SET ",["Localid","CINT"]," <",["Id","INT"]," .",["Localid","RTN"]," T>> ,",["Id","C-TICK"]," .",["Localid","TICK"],">"],["\t .",["Localid","CINT"],">"],[],["<ROUTINE ",["Iddef","QUEUE"]," (",["Localid","RTN"]," ",["Localid","TICK"]," ",["Str","\"AUX\""]," ",["Localid","CINT"],")"],["\t #DECL ((",["Localid","RTN"],") ATOM (",["Localid","TICK"],") FIX (",["Localid","CINT"],") <PRIMTYPE VECTOR>)"],["\t <PUT <SET ",["Localid","CINT"]," <",["Id","INT"]," .",["Localid","RTN"],">> ,",["Id","C-TICK"]," .",["Localid","TICK"],">"],["\t .",["Localid","CINT"],">"],[],["<ROUTINE ",["Localid","INT"]," (",["Localid","RTN"]," ",["Str","\"OPTIONAL\""]," (",["Localid","DEMON"]," <>) ",["Localid","E"]," ",["Localid","C"]," ",["Localid","INT"],")"],["\t #DECL ((",["Localid","RTN"],") ATOM (",["Localid","DEMON"],") <OR ATOM FALSE> (",["Localid","E"]," ",["Localid","C"]," ",["Localid","INT"],") <PRIMTYPE"],["\t\t\t\t\t\t\t      VECTOR>)"],["\t <SET ",["Localid","E"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-TABLELEN"],">>"],["\t <SET ",["Localid","C"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-INTS"],">>"],["\t <REPEAT ()"],["\t\t <COND (<==? .",["Localid","C"]," .",["Localid","E"],">"],["\t\t\t<SETG ",["Id","C-INTS"]," <- ,",["Id","C-INTS"]," ,",["Id","C-INTLEN"],">>"],["\t\t\t<AND .",["Localid","DEMON"]," <SETG ",["Id","C-DEMONS"]," <- ,",["Id","C-DEMONS"]," ,",["Id","C-INTLEN"],">>>"],["\t\t\t<SET ",["Localid","INT"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-INTS"],">>"],["\t\t\t<PUT .",["Localid","INT"]," ,",["Id","C-RTN"]," .",["Localid","RTN"],">"],["\t\t\t<RETURN .",["Localid","INT"],">)"],["\t\t       (<EQUAL? <GET .",["Localid","C"]," ,",["Id","C-RTN"],"> .",["Localid","RTN"],"> <RETURN .",["Localid","C"],">)>"],["\t\t <SET ",["Localid","C"]," <REST .",["Localid","C"]," ,",["Id","C-INTLEN"],">>>>"],[],["<GLOBAL ",["Iddef","CLOCK-WAIT"]," <>>"],[],["<ROUTINE ",["Iddef","CLOCKER"]," (",["Str","\"AUX\""]," ",["Localid","C"]," ",["Localid","E"]," ",["Localid","TICK"]," (",["Localid","FLG"]," <>))"],["\t #DECL ((",["Localid","C"]," ",["Localid","E"],") <PRIMTYPE VECTOR> (",["Localid","TICK"],") FIX (",["Localid","FLG"],") <OR FALSE ATOM>)"],["\t <COND (,",["Id","CLOCK-WAIT"]," <SETG ",["Id","CLOCK-WAIT"]," <>> <RFALSE>)>"],["\t <SET ",["Localid","C"]," <REST ,",["Id","C-TABLE"]," <COND (,",["Id","P-WON"]," ,",["Id","C-INTS"],") (T ,",["Id","C-DEMONS"],")>>>"],["\t <SET ",["Localid","E"]," <REST ,",["Id","C-TABLE"]," ,",["Id","C-TABLELEN"],">>"],["\t <REPEAT ()"],["\t\t <COND (<==? .",["Localid","C"]," .",["Localid","E"],">"],["\t\t\t<COND (<G? <SETG ",["Id","MOVES"]," <+ ,",["Id","MOVES"]," 1>> 999>"],["\t\t\t       <SETG ",["Id","MOVES"]," 0>)>"],["\t\t\t<RETURN .",["Localid","FLG"],">)"],["\t\t       (<NOT <0? <GET .",["Localid","C"]," ,",["Id","C-ENABLED?"],">>>"],["\t\t\t<SET ",["Localid","TICK"]," <GET .",["Localid","C"]," ,",["Id","C-TICK"],">>"],["\t\t\t<COND (<0? .",["Localid","TICK"],">)"],["\t\t\t      (T"],["\t\t\t       <PUT .",["Localid","C"]," ,",["Id","C-TICK"]," <- .",["Localid","TICK"]," 1>>"],["\t\t\t       <COND (<AND <NOT <G? .",["Localid","TICK"]," 1>>"],["\t\t\t\t\t   <APPLY <GET .",["Localid","C"]," ,",["Id","C-RTN"],">>>"],["\t\t\t\t      <SET ",["Localid","FLG"]," T>)>)>)>"],["\t\t <SET ",["Localid","C"]," <REST .",["Localid","C"]," ,",["Id","C-INTLEN"],">>>>"]],"gglobals.zil":[["\t\t\t",["Str","\"Generic GLOBALS file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],[["Str","\"SUBTITLE GLOBAL OBJECTS\""]],[],["<OBJECT ",["Iddef","GLOBAL-OBJECTS"]],["\t(FLAGS RMUNGBIT INVISIBLE TOUCHBIT SURFACEBIT TRYTAKEBIT"],["\t       OPENBIT SEARCHBIT TRANSBIT ONBIT RLANDBIT FIGHTBIT"],["\t       STAGGERED WEARBIT)>"],[],["<OBJECT ",["Iddef","LOCAL-GLOBALS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","ZZMGCK"],")"],["\t(DESCFCN ",["Id","PATH-OBJECT"],")"],["        (GLOBAL ",["Id","GLOBAL-OBJECTS"],")"],["\t(ADVFCN 0)"],["\t(FDESC ",["Str","\"F\""],")"],["\t(LDESC ",["Str","\"F\""],")"],["\t(PSEUDO ",["Dict","\"FOOBAR\""]," ",["Id","V-WALK"],")"],["\t(CONTFCN 0)"],["\t(VTYPE 1)"],["\t(SIZE 0)"],["\t(CAPACITY 0)>"],[],[["Comment",";\"Yes, this synonym for LOCAL-GLOBALS needs to exist... sigh\""]],[],["<OBJECT ",["Iddef","ROOMS"]],["\t(IN TO ",["Iddef","ROOMS"],")>"],[],["<OBJECT ",["Iddef","INTNUM"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","INTNUM"],")"],["\t(FLAGS TOOLBIT)"],["\t(DESC ",["Str","\"number\""],")>"],[],["<OBJECT ",["Iddef","PSEUDO-OBJECT"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(DESC ",["Str","\"pseudo\""],")"],["\t(ACTION ",["Id","CRETIN-FCN"],")>"],[],["<OBJECT ",["Iddef","IT"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","IT"]," ",["Dict","THEM"]," ",["Dict","HER"]," ",["Dict","HIM"],")"],["\t(DESC ",["Str","\"random object\""],")"],["\t(FLAGS NDESCBIT TOUCHBIT)>"],[],["<OBJECT ",["Iddef","NOT-HERE-OBJECT"]],["\t(DESC ",["Str","\"such thing\""]," ",["Comment",";\"[not here]\""],")"],["\t(ACTION ",["Id","NOT-HERE-OBJECT-F"],")>"],[],["<ROUTINE ",["Iddef","NOT-HERE-OBJECT-F"]," (",["Str","\"AUX\""]," ",["Localid","TBL"]," (",["Localid","PRSO?"]," T) ",["Localid","OBJ"],")"],["\t ",["Comment",";\"This COND is game independent (except the TELL)\""]],["\t <COND (<AND <EQUAL? ,",["Id","PRSO"]," ,",["Id","NOT-HERE-OBJECT"],">"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","NOT-HERE-OBJECT"],">>"],["\t\t<TELL ",["Str","\"Those things aren't here!\""]," CR>"],["\t\t<RTRUE>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," ,",["Id","NOT-HERE-OBJECT"],">"],["\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSO"],">)"],["\t       (T"],["\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSI"],">"],["\t\t<SET ",["Localid","PRSO?"]," <>>)>"],["\t ",["Comment",";\"Here is the default 'cant see any' printer\""]],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <COND (<EQUAL? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">"],["\t\t<TELL ",["Str","\"You can't see any\""],">"],["\t\t<",["Id","NOT-HERE-PRINT"]," .",["Localid","PRSO?"],">"],["\t\t<TELL ",["Str","\" here!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","WINNER"]," ",["Str","\" seems confused. \\\"I don't see any\""],">"],["\t\t<",["Id","NOT-HERE-PRINT"]," .",["Localid","PRSO?"],">"],["\t\t<TELL ",["Str","\" here!\\\"\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","FIND-NOT-HERE"]," (",["Localid","TBL"]," ",["Localid","PRSO?"]," ",["Str","\"AUX\""]," ",["Localid","M-F"]," ",["Localid","OBJ"],")"],["\t",["Comment",";\"Here is where special-case code goes. <MOBY-FIND .TBL> returns"]],[["Comment","\t   number of matches. If 1, then P-MOBY-FOUND is it. One may treat"]],[["Comment","\t   the 0 and >1 cases alike or different. It doesn't matter. Always"]],[["Comment","\t   return RFALSE (not handled) if you have resolved the problem.\""]],["\t<SET ",["Localid","M-F"]," <",["Id","MOBY-FIND"]," .",["Localid","TBL"],">>"],["\t",["Comment",";<COND (,DEBUG"]],[["Comment","\t       <TELL \"[Moby-found \" N .M-F \" objects\" \"]\" CR>)>"]],["\t<COND (<AND <G? .",["Localid","M-F"]," 1>"],["\t\t    <SET ",["Localid","OBJ"]," <GETP <1 .",["Localid","TBL"],"> ,P?GLOBAL>>>"],["\t       <SET ",["Localid","M-F"]," 1>"],["\t       <SETG ",["Id","P-MOBY-FOUND"]," .",["Localid","OBJ"],">)>"],["\t<COND (<==? 1 .",["Localid","M-F"],">"],["\t       ",["Comment",";<COND (,DEBUG <TELL \"[Namely: \" D ,P-MOBY-FOUND \"]\" CR>)>"]],["\t       <COND (.",["Localid","PRSO?"]," <SETG ",["Id","PRSO"]," ,",["Id","P-MOBY-FOUND"],">)"],["\t\t     (T <SETG ",["Id","PRSI"]," ,",["Id","P-MOBY-FOUND"],">)>"],["\t       <RFALSE>)"],["\t      (<NOT .",["Localid","PRSO?"],">"],["\t       <TELL ",["Str","\"You wouldn't find any\""],">"],["\t       <",["Id","NOT-HERE-PRINT"]," .",["Localid","PRSO?"],">"],["\t       <TELL ",["Str","\" there.\""]," CR>"],["\t       <RTRUE>)"],["\t      (T ,",["Id","NOT-HERE-OBJECT"],")>>"],[],["<ROUTINE ",["Iddef","GLOBAL-NOT-HERE-PRINT"]," (",["Localid","OBJ"],")"],["\t ",["Comment",";<COND (,P-MULT <SETG P-NOT-HERE <+ ,P-NOT-HERE 1>>)>"]],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <TELL ",["Str","\"You can't see any\""],">"],["\t <COND (<EQUAL? .",["Localid","OBJ"]," ,",["Id","PRSO"],"> <",["Id","PRSO-PRINT"],">)"],["\t       (T <",["Id","PRSI-PRINT"],">)>"],["\t <TELL ",["Str","\" here.\""]," CR>>"],[],["<ROUTINE ",["Iddef","NOT-HERE-PRINT"]," (",["Localid","PRSO?"],")"],[" <COND (,",["Id","P-OFLAG"]],["\t<COND (,",["Id","P-XADJ"]," <TELL ",["Str","\" \""],"> <PRINTB ,",["Id","P-XADJN"],">)>"],["\t<COND (,",["Id","P-XNAM"]," <TELL ",["Str","\" \""],"> <PRINTB ,",["Id","P-XNAM"],">)>)"],["       (.",["Localid","PRSO?"]],["\t<",["Id","BUFFER-PRINT"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],"> <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],"> <>>)"],["       (T"],["\t<",["Id","BUFFER-PRINT"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2"],"> <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2L"],"> <>>)>>"],[],["<ROUTINE ",["Iddef","NULL-F"]," (",["Str","\"OPTIONAL\""]," ",["Localid","A1"]," ",["Localid","A2"],")"],["\t <RFALSE>>"],[],["/^L"],[],[["Str","\"Objects shared by all three Zorks go here\""]],[],["<GLOBAL ",["Iddef","LOAD-MAX"]," 100>"],[],["<GLOBAL ",["Iddef","LOAD-ALLOWED"]," 100>"],[],["<OBJECT ",["Iddef","BLESSINGS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","BLESSINGS"]," ",["Dict","GRACES"],")"],["\t(DESC ",["Str","\"blessings\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT ",["Iddef","STAIRS"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","STAIRS"]," ",["Dict","STEPS"]," ",["Dict","STAIRCASE"]," ",["Dict","STAIRWAY"],")"],["\t(ADJECTIVE ",["Dict","STONE"]," ",["Dict","DARK"]," ",["Dict","MARBLE"]," ",["Dict","FORBIDDING"]," ",["Dict","STEEP"],")"],["\t(DESC ",["Str","\"stairs\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION ",["Id","STAIRS-F"],")>"],[],["<ROUTINE ",["Iddef","STAIRS-F"]," ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<TELL"],[["Str","\"You should say whether you want to go up or down.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","SAILOR"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","SAILOR"]," ",["Dict","FOOTPAD"]," ",["Dict","AVIATOR"],")"],["\t(DESC ",["Str","\"sailor\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","SAILOR-FCN"],")>"],[],["<ROUTINE ",["Iddef","SAILOR-FCN"]," ()"],["\t  <COND (<VERB? HELLO>"],["\t\t <SETG ",["Id","HS"]," <+ ,",["Id","HS"]," 1>>"],["\t\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t '<COND (<NOT <FSET? ,VIKING-SHIP ,INVISIBLE>>"]],[["Ifndef","\t\t                 <TELL"]],[["Ifndef","\"The seaman looks up and maneuvers the boat toward shore. He cries out \\\"I"]],[["Ifndef","have waited three ages for someone to say those words and save me from"]],[["Ifndef","sailing this endless ocean. Please accept this gift. You may find it"]],[["Ifndef","useful!\\\" He throws something which falls near you in the sand, then sails"]],[["Ifndef","off toward the west, singing a lively, but somewhat uncouth, sailor song.\" CR>"]],[["Ifndef","\t\t                 <FSET ,VIKING-SHIP ,INVISIBLE>"]],[["Ifndef","\t\t                 <MOVE ,VIAL ,HERE>)"]],[["Ifndef","\t\t                (<==? ,HERE ,FLATHEAD-OCEAN>"]],[["Ifndef","\t\t                 <COND (,SHIP-GONE"]],[["Ifndef","\t\t\t                <TELL \"Nothing happens anymore.\" CR>)"]],[["Ifndef","\t\t\t               (T"]],[["Ifndef","\t\t\t\t        <TELL \"Nothing happens yet.\" CR>)>)>)"]],["\t\t\t(T"],["\t\t\t '<",["Id","NULL-F"],">)>"],["\t\t <COND (<0? <MOD ,",["Id","HS"]," 20>>"],["\t\t\t<TELL ",["Str","\"You seem to be repeating yourself.\""]," CR>)"],["\t\t       (<0? <MOD ,",["Id","HS"]," 10>>"],["\t\t\t<TELL"],[["Str","\"I think that phrase is getting a bit worn out.\""]," CR>)"],["\t\t       (T"],["\t\t\t<TELL ",["Str","\"Nothing happens here.\""]," CR>)>)>>"],[],["<OBJECT ",["Iddef","GROUND"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","GROUND"]," ",["Dict","SAND"]," ",["Dict","DIRT"]," ",["Dict","FLOOR"],")"],["\t(DESC ",["Str","\"ground\""],")"],["\t(ACTION ",["Id","GROUND-FUNCTION"],")>"],[],["<ROUTINE ",["Iddef","GROUND-FUNCTION"]," ()"],["\t <COND (<AND <VERB? PUT PUT-ON>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","GROUND"],">>"],["\t\t<",["Id","PERFORM"]," ,V?DROP ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,",["Id","HERE"]," ,",["Id","SANDY-CAVE"],">"],["\t\t\t <",["Id","SAND-FUNCTION"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F>"]],[["Ifndef","\t\t\t <RFALSE>))"],">"],["\t       (<VERB? DIG>"],["\t\t<TELL ",["Str","\"The ground is too hard for digging here.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","GRUE"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","GRUE"],")"],["\t(ADJECTIVE ",["Dict","LURKING"]," ",["Dict","SINISTER"]," ",["Dict","HUNGRY"]," ",["Dict","SILENT"],")"],["\t(DESC ",["Str","\"lurking grue\""],")"],["\t(ACTION ",["Id","GRUE-FUNCTION"],")>"],[],["<ROUTINE ",["Iddef","GRUE-FUNCTION"]," ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The grue is a sinister, lurking presence in the dark places of the"]],[["Str","earth. Its favorite diet is adventurers, but its insatiable"]],[["Str","appetite is tempered by its fear of light. No grue has ever been"]],[["Str","seen by the light of day, and few have survived its fearsome jaws"]],[["Str","to tell the tale.\""]," CR>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"There is no grue here, but I'm sure there is at least one lurking"]],[["Str","in the darkness nearby. I wouldn't let my light go out if I were"]],[["Str","you!\""]," CR>)"],["\t  (<VERB? LISTEN>"],["\t   <TELL"],[["Str","\"It makes no sound but is always lurking in the darkness nearby.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","LUNGS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","LUNGS"]," ",["Dict","AIR"]," ",["Dict","MOUTH"]," ",["Dict","BREATH"],")"],["\t(DESC ",["Str","\"blast of air\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT ",["Iddef","ME"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","ME"]," ",["Dict","MYSELF"]," ",["Dict","SELF"]," ",["Dict","CRETIN"],")"],["\t(DESC ",["Str","\"you\""],")"],["\t(FLAGS ACTORBIT)"],["\t(ACTION ",["Id","CRETIN-FCN"],")>"],[],["<ROUTINE ",["Iddef","CRETIN-FCN"]," ()"],["\t <COND (<VERB? TELL>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<TELL"],[["Str","\"Talking to yourself is said to be a sign of impending mental collapse.\""]," CR>)"],["\t       (<AND <VERB? GIVE>"],["\t\t     <EQUAL? ,",["Id","PRSI"]," ,",["Id","ME"],">>"],["\t\t<",["Id","PERFORM"]," ,V?TAKE ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<VERB? MAKE>"],["\t\t<TELL ",["Str","\"Only you can do that.\""]," CR>)"],["\t       (<VERB? DISEMBARK>"],["\t\t<TELL ",["Str","\"You'll have to do that on your own.\""]," CR>)"],["\t       (<VERB? EAT>"],["\t\t<TELL ",["Str","\"Auto-cannibalism is not the answer.\""]," CR>)"],["\t       (<VERB? ATTACK MUNG>"],["\t\t<COND (<AND ,",["Id","PRSI"]," <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>>"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\"If you insist.... Poof, you're dead!\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Suicide is not the answer.\""]," CR>)>)"],["\t       (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"How romantic!\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t      '(<EQUAL? ,",["Id","HERE"]," <LOC ,",["Id","MIRROR-1"],"> <LOC ,",["Id","MIRROR-2"],">>"],["\t\t                <TELL"],[["Str","\"Your image in the mirror looks tired.\""]," CR>))"],["\t\t\t     ",["Ifndef","(T"]],[["Ifndef","\t\t\t      '(<NULL-F> <RTRUE>))"],">"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"That's difficult unless your eyes are prehensile.\""]," CR>)>)>>"],[],["<OBJECT ",["Iddef","ADVENTURER"]],["\t(SYNONYM ",["Dict","ADVENTURER"],")"],["\t(DESC ",["Str","\"cretin\""],")"],["\t(FLAGS NDESCBIT INVISIBLE SACREDBIT ACTORBIT)"],["\t(STRENGTH 0)"],["\t(ACTION 0)>"],[],["<OBJECT ",["Iddef","PATHOBJ"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","PASSAGE"]," ",["Dict","CRAWLWAY"]," ",["Dict","TRAIL"]," ",["Dict","PATH"],")"],["        (ADJECTIVE ",["Dict","FOREST"]," ",["Dict","NARROW"]," ",["Dict","LONG"]," ",["Dict","WINDING"],")"],["\t(DESC ",["Str","\"way\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","PATH-OBJECT"],")>"],[],["<ROUTINE ",["Iddef","PATH-OBJECT"]," ()"],["\t <COND (<VERB? TAKE FOLLOW>"],["\t\t<TELL ",["Str","\"You must specify a direction to go.\""]," CR>)"],["\t       (<VERB? FIND>"],["\t\t<TELL ",["Str","\"I can't help you there....\""]," CR>)"],["\t       (<VERB? DIG>"],["\t\t<TELL ",["Str","\"Not a chance.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","ZORKMID"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","ZORKMID"],")"],["\t(DESC ",["Str","\"zorkmid\""],")"],["\t(ACTION ",["Id","ZORKMID-FUNCTION"],")>"],[],["<ROUTINE ",["Iddef","ZORKMID-FUNCTION"]," ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The zorkmid is the unit of currency of the Great Underground Empire.\""]," CR>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"The best way to find zorkmids is to go out and look for them.\""]," CR>)>>"],[],["<OBJECT ",["Iddef","HANDS"]],["\t(IN ",["Id","GLOBAL-OBJECTS"],")"],["\t(SYNONYM ",["Dict","PAIR"]," ",["Dict","HANDS"]," ",["Dict","HAND"],")"],["\t(ADJECTIVE ",["Dict","BARE"],")"],["\t(DESC ",["Str","\"pair of hands\""],")"],["\t(FLAGS NDESCBIT TOOLBIT)>"]],"gmacros.zil":[[["Str","\"GMACROS for"]],[["Str","\t\t\t    The Zork Trilogy"]],[["Str","\t (c) Copyright 1983 Infocom, Inc.  All Rights Reserved\""]],[],["<SETG ",["Id","C-ENABLED?"]," 0>"],["<SETG C-ENABLED 1>"],["<SETG C-DISABLED 0>"],[],["<DEFMAC TELL (",["Str","\"ARGS\""]," A)"],["\t<FORM PROG ()"],["\t      !<MAPF ,LIST"],["\t\t     <FUNCTION (",["Str","\"AUX\""]," E P O)"],["\t\t\t  <COND (<EMPTY? .A> <MAPSTOP>)"],["\t\t\t\t(<SET E <NTH .A 1>>"],["\t\t\t\t <SET A <REST .A>>)>"],["\t\t\t  <COND (<TYPE? .E ATOM>"],["\t\t\t\t <COND (<OR <=? <SET P <SPNAME .E>>"],["\t\t\t\t\t\t",["Str","\"CRLF\""],">"],["\t\t\t\t\t    <=? .P ",["Str","\"CR\""],">>"],["\t\t\t\t\t<MAPRET '<CRLF>>)"],["\t\t\t\t       (<EMPTY? .A>"],["\t\t\t\t\t<ERROR INDICATOR-AT-END? .E>)"],["\t\t\t\t       (ELSE"],["\t\t\t\t\t<SET O <NTH .A 1>>"],["\t\t\t\t\t<SET A <REST .A>>"],["\t\t\t\t\t<COND (<OR <=? <SET P <SPNAME .E>>"],["\t\t\t\t\t\t       ",["Str","\"DESC\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"D\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"OBJ\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"O\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTD .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"A\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"AN\""],">>"],["\t\t\t\t\t       <MAPRET <FORM ",["Id","PRINTA"]," .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"NUM\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"N\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTN .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"CHAR\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"CHR\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"C\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTC .O>>)"],["\t\t\t\t\t      (ELSE"],["\t\t\t\t\t       <MAPRET"],["\t\t\t\t\t\t <FORM PRINT"],["\t\t\t\t\t\t       <FORM GETP .O .E>>>)>)>)"],["\t\t\t\t(<TYPE? .E STRING ZSTRING>"],["\t\t\t\t <MAPRET <FORM PRINTI .E>>)"],["\t\t\t\t(<TYPE? .E FORM LVAL GVAL>"],["\t\t\t\t <MAPRET <FORM PRINT .E>>)"],["\t\t\t\t(ELSE <ERROR UNKNOWN-TYPE .E>)>>>>>"],[],["<ROUTINE ",["Iddef","PRINTA"]," (",["Localid","O"],")"],["\t <TELL ",["Str","\"a \""]," D .",["Localid","O"],">>"],[],["<DEFMAC VERB? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB ",["Id","PRSA"]," .ATMS>>"],[],["<DEFMAC PRSO? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB ",["Id","PRSO"]," .ATMS>>"],[],["<DEFMAC PRSI? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB ",["Id","PRSI"]," .ATMS>>"],[],["<DEFMAC ROOM? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB ",["Id","HERE"]," .ATMS>>"],[],["<ZSTR-OFF>"],[],["<DEFINE MULTIFROB (X ATMS ",["Str","\"AUX\""]," (OO (OR)) (O .OO) (L ()) ATM)"],["\t<REPEAT ()"],["\t\t<COND (<EMPTY? .ATMS>"],["\t\t       <RETURN!- <COND (<LENGTH? .OO 1> <ERROR .X>)"],["\t\t\t\t       (<LENGTH? .OO 2> <NTH .OO 2>)"],["\t\t\t\t       (ELSE <CHTYPE .OO FORM>)>>)>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<EMPTY? .ATMS> <RETURN!->)>"],["\t\t\t<SET ATM <NTH .ATMS 1>>"],["\t\t\t<SET L"],["\t\t\t     (<COND (<TYPE? .ATM ATOM>"],["\t\t\t\t     <FORM GVAL"],["\t\t\t\t\t   <COND (<==? .X ",["Id","PRSA"],">"],["\t\t\t\t\t\t  <PARSE"],["\t\t\t\t\t\t    <STRING ",["Str","\"V?\""]],["\t\t\t\t\t\t\t    <SPNAME .ATM>>>)"],["\t\t\t\t\t\t (ELSE .ATM)>>)"],["\t\t\t\t    (ELSE .ATM)>"],["\t\t\t      !.L)>"],["\t\t\t<SET ATMS <REST .ATMS>>"],["\t\t\t<COND (<==? <LENGTH .L> 3> <RETURN!->)>>"],["\t\t<SET O <REST <PUTREST .O (<FORM EQUAL? <FORM GVAL .X> !.L>)>>>"],["\t\t<SET L ()>>>"],[],["<DEFMAC BSET ('OBJ ",["Str","\"ARGS\""]," BITS)"],["\t<MULTIBITS FSET .OBJ .BITS>>"],[],["<DEFMAC BCLEAR ('OBJ ",["Str","\"ARGS\""]," BITS)"],["\t<MULTIBITS FCLEAR .OBJ .BITS>>"],[],["<DEFMAC BSET? ('OBJ ",["Str","\"ARGS\""]," BITS)"],["\t<MULTIBITS FSET? .OBJ .BITS>>"],[],["<DEFINE MULTIBITS (X OBJ ATMS ",["Str","\"AUX\""]," (O ()) ATM)"],["\t<REPEAT ()"],["\t\t<COND (<EMPTY? .ATMS>"],["\t\t       <RETURN!- <COND (<LENGTH? .O 1> <NTH .O 1>)"],["\t\t\t\t       (<==? .X FSET?> <FORM OR !.O>)"],["\t\t\t\t       (ELSE <FORM PROG () !.O>)>>)>"],["\t\t<SET ATM <NTH .ATMS 1>>"],["\t\t<SET ATMS <REST .ATMS>>"],["\t\t<SET O"],["\t\t     (<FORM .X"],["\t\t\t    .OBJ"],["\t\t\t    <COND (<TYPE? .ATM FORM> .ATM)"],["\t\t\t\t  (ELSE <FORM GVAL .ATM>)>>"],["\t\t      !.O)>>>"],[],["<ZSTR-ON>"],[],["<DEFMAC RFATAL ()"],["\t'<PROG () <PUSH 2> <RSTACK>>>"],[],["<DEFMAC PROB ('BASE? ",["Str","\"OPTIONAL\""]," 'LOSER?)"],["\t<COND (<ASSIGNED? LOSER?> <FORM ",["Id","ZPROB"]," .BASE?>)"],["\t      (ELSE <FORM G? .BASE? '<RANDOM 100>>)>>"],[],["<ROUTINE ",["Iddef","ZPROB"]],["\t (",["Localid","BASE"],")"],["\t <COND (,",["Id","LUCKY"]," <G? .",["Localid","BASE"]," <RANDOM 100>>)"],["\t       (ELSE <G? .",["Localid","BASE"]," <RANDOM 300>>)>>"],[],["<ROUTINE ",["Iddef","RANDOM-ELEMENT"]," (",["Localid","FROB"],")"],["\t <GET .",["Localid","FROB"]," <RANDOM <GET .",["Localid","FROB"]," 0>>>>"],[],["<ROUTINE ",["Iddef","PICK-ONE"]," (",["Localid","FROB"]],["\t\t   ",["Str","\"AUX\""]," (",["Localid","L"]," <GET .",["Localid","FROB"]," 0>) (",["Localid","CNT"]," <GET .",["Localid","FROB"]," 1>) ",["Localid","RND"]," ",["Localid","MSG"]," ",["Localid","RFROB"],")"],["\t <SET ",["Localid","L"]," <- .",["Localid","L"]," 1>>"],["\t <SET ",["Localid","FROB"]," <REST .",["Localid","FROB"]," 2>>"],["\t <SET ",["Localid","RFROB"]," <REST .",["Localid","FROB"]," <* .",["Localid","CNT"]," 2>>>"],["\t <SET ",["Localid","RND"]," <RANDOM <- .",["Localid","L"]," .",["Localid","CNT"],">>>"],["\t <SET ",["Localid","MSG"]," <GET .",["Localid","RFROB"]," .",["Localid","RND"],">>"],["\t <PUT .",["Localid","RFROB"]," .",["Localid","RND"]," <GET .",["Localid","RFROB"]," 1>>"],["\t <PUT .",["Localid","RFROB"]," 1 .",["Localid","MSG"],">"],["\t <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>"],["\t <COND (<==? .",["Localid","CNT"]," .",["Localid","L"],"> <SET ",["Localid","CNT"]," 0>)>"],["\t <PUT .",["Localid","FROB"]," 0 .",["Localid","CNT"],">"],["\t .",["Localid","MSG"],">"],[],["<DEFMAC ENABLE ('",["Id","INT"],") <FORM PUT .",["Id","INT"]," ,",["Id","C-ENABLED?"]," 1>>"],[],["<DEFMAC DISABLE ('",["Id","INT"],") <FORM PUT .",["Id","INT"]," ,",["Id","C-ENABLED?"]," 0>>"],[],["<DEFMAC FLAMING? ('OBJ)"],["\t<FORM AND <FORM FSET? .OBJ ',FLAMEBIT>"],["\t          <FORM FSET? .OBJ ',ONBIT>>>"],[],["<DEFMAC OPENABLE? ('OBJ)"],["\t<FORM OR <FORM FSET? .OBJ ',DOORBIT>"],["\t         <FORM FSET? .OBJ ',CONTBIT>>>"],[],["<DEFMAC ABS ('NUM)"],["\t<FORM COND (<FORM L? .NUM 0> <FORM - 0 .NUM>)"],["\t           (T .NUM)>>"]],"gmain.zil":[["\t\t\t",["Str","\"Generic MAIN file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],["<GLOBAL ",["Iddef","PLAYER"]," <>>"],[],["<GLOBAL ",["Iddef","P-WON"]," <>>"],[],["<CONSTANT ",["Iddef","M-FATAL"]," 2>"],[],["<CONSTANT ",["Iddef","M-HANDLED"]," 1>"],[],["<CONSTANT ",["Iddef","M-NOT-HANDLED"]," <>>"],[],["<CONSTANT ",["Iddef","M-OBJECT"]," <>>"],[],["<CONSTANT ",["Iddef","M-BEG"]," 1>"],[],["<CONSTANT ",["Iddef","M-END"]," 6>"],[],["<CONSTANT ",["Iddef","M-ENTER"]," 2>"],[],["<CONSTANT ",["Iddef","M-LOOK"]," 3>"],[],["<CONSTANT ",["Iddef","M-FLASH"]," 4>"],[],["<CONSTANT ",["Iddef","M-OBJDESC"]," 5>"],[],[["Comment",";\"GO now lives in SPECIAL.ZIL\""]],[],[],["<ROUTINE ",["Iddef","MAIN-LOOP"]," (",["Str","\"AUX\""]," ",["Localid","ICNT"]," ",["Localid","OCNT"]," ",["Localid","NUM"]," ",["Localid","CNT"]," ",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Localid","V"]," ",["Localid","PTBL"]," ",["Localid","OBJ1"]," ",["Localid","TMP"],")"],["   <REPEAT ()"],["     <SET ",["Localid","CNT"]," 0>"],["     <SET ",["Localid","OBJ"]," <>>"],["     <SET ",["Localid","PTBL"]," T>"],["     <COND (<SETG ",["Id","P-WON"]," <",["Id","PARSER"],">>"],["\t    <SET ",["Localid","ICNT"]," <GET ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"],">>"],["\t    <SET ",["Localid","NUM"]],["\t\t <COND (<0? <SET ",["Localid","OCNT"]," <GET ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"],">>> .",["Localid","OCNT"],")"],["\t\t       (<G? .",["Localid","OCNT"]," 1>"],["\t\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSO"],">"],["\t\t\t<COND (<0? .",["Localid","ICNT"],"> <SET ",["Localid","OBJ"]," <>>)"],["\t\t\t      (T <SET ",["Localid","OBJ"]," <GET ,",["Id","P-PRSI"]," 1>>)>"],["\t\t\t.",["Localid","OCNT"],")"],["\t\t       (<G? .",["Localid","ICNT"]," 1>"],["\t\t\t<SET ",["Localid","PTBL"]," <>>"],["\t\t\t<SET ",["Localid","TBL"]," ,",["Id","P-PRSI"],">"],["\t\t\t<SET ",["Localid","OBJ"]," <GET ,",["Id","P-PRSO"]," 1>>"],["\t\t\t.",["Localid","ICNT"],")"],["\t\t       (T 1)>>"],["\t    <COND (<AND <NOT .",["Localid","OBJ"],"> <1? .",["Localid","ICNT"],">> <SET ",["Localid","OBJ"]," <GET ,",["Id","P-PRSI"]," 1>>)>"],["\t    <COND (<==? ,",["Id","PRSA"]," ,V?WALK> <SET ",["Localid","V"]," <",["Id","PERFORM"]," ,",["Id","PRSA"]," ,",["Id","PRSO"],">>)"],["\t\t  (<0? .",["Localid","NUM"],">"],["\t\t   <COND (<0? <BAND <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SBITS"],"> ,",["Id","P-SONUMS"],">>"],["\t\t\t  <SET ",["Localid","V"]," <",["Id","PERFORM"]," ,",["Id","PRSA"],">>"],["\t\t\t  <SETG ",["Id","PRSO"]," <>>)"],["\t\t\t (<NOT ,",["Id","LIT"],">"],["\t\t\t  <TELL ",["Str","\"It's too dark to see.\""]," CR>)"],["\t\t\t (T"],["\t\t\t  <TELL ",["Str","\"It's not clear what you're referring to.\""]," CR>"],["\t\t\t  <SET ",["Localid","V"]," <>>)>)"],["\t\t  (T"],["\t\t   <SETG ",["Id","P-NOT-HERE"]," 0>"],["\t\t   <SETG ",["Id","P-MULT"]," <>>"],["\t\t   <COND (<G? .",["Localid","NUM"]," 1> <SETG ",["Id","P-MULT"]," T>)>"],["\t\t   <SET ",["Localid","TMP"]," <>>"],["\t\t   <REPEAT ()"],["\t\t\t   <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> .",["Localid","NUM"],">"],["\t\t\t\t  <COND (<G? ,",["Id","P-NOT-HERE"]," 0>"],["\t\t\t\t\t <TELL ",["Str","\"The \""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," .",["Localid","NUM"],">>"],["\t\t\t\t\t\t<TELL ",["Str","\"other \""],">)>"],["\t\t\t\t\t <TELL ",["Str","\"object\""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<TELL ",["Str","\"s\""],">)>"],["\t\t\t\t\t <TELL ",["Str","\" that you mentioned \""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<TELL ",["Str","\"are\""],">)"],["\t\t\t\t\t       (T <TELL ",["Str","\"is\""],">)>"],["\t\t\t\t\t <TELL ",["Str","\"n't here.\""]," CR>)"],["\t\t\t\t\t(<NOT .",["Localid","TMP"],">"],["\t\t\t\t\t <TELL"],[["Str","\"There's nothing here you can take.\""]," CR>)>"],["\t\t\t\t  <RETURN>)"],["\t\t\t\t (T"],["\t\t\t\t  <COND (.",["Localid","PTBL"]," <SET ",["Localid","OBJ1"]," <GET ,",["Id","P-PRSO"]," .",["Localid","CNT"],">>)"],["\t\t\t\t\t(T <SET ",["Localid","OBJ1"]," <GET ,",["Id","P-PRSI"]," .",["Localid","CNT"],">>)>"],["\t\t\t\t  <SETG ",["Id","PRSO"]," <COND (.",["Localid","PTBL"]," .",["Localid","OBJ1"],") (T .",["Localid","OBJ"],")>>"],["\t\t\t\t  <SETG ",["Id","PRSI"]," <COND (.",["Localid","PTBL"]," .",["Localid","OBJ"],") (T .",["Localid","OBJ1"],")>>"],["\t\t\t\t  <COND (<OR <G? .",["Localid","NUM"]," 1>"],["\t\t\t\t\t     <EQUAL? <GET <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">"],["\t\t\t\t\t\t\t  0>"],["\t\t\t\t\t\t     ,W?ALL>>"],["\t\t\t\t\t <COND (<EQUAL? .",["Localid","OBJ1"]],["\t\t\t\t\t\t\t,",["Id","NOT-HERE-OBJECT"],">"],["\t\t\t\t\t\t<SETG ",["Id","P-NOT-HERE"]],["\t\t\t\t\t\t      <+ ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (<AND <VERB? TAKE>"],["\t\t\t\t\t\t     ,",["Id","PRSI"]],["\t\t\t\t\t\t     <EQUAL? <GET <GET ,",["Id","P-ITBL"]],["\t\t\t\t\t\t\t\t       ,",["Id","P-NC1"],">"],["\t\t\t\t\t\t\t\t  0>"],["\t\t\t\t\t\t\t     ,W?ALL>"],["\t\t\t\t\t\t     <NOT <IN? ,",["Id","PRSO"]," ,",["Id","PRSI"],">>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (<AND <EQUAL? ,",["Id","P-GETFLAGS"]],["\t\t\t\t\t\t\t     ,",["Id","P-ALL"],">"],["\t\t\t\t\t\t     <VERB? TAKE>"],["\t\t\t\t\t\t     <OR <AND <NOT <EQUAL?"],["\t\t\t\t\t\t\t       <LOC .",["Localid","OBJ1"],">"],["\t\t\t\t\t\t\t       ,",["Id","WINNER"]],["\t\t\t\t\t\t\t       ,",["Id","HERE"],">>"],["\t\t\t\t\t\t\t      <NOT <FSET?"],["\t\t\t\t\t\t\t\t  <LOC .",["Localid","OBJ1"],">"],["\t\t\t\t\t\t\t\t ,SURFACEBIT>>>"],["\t\t\t\t\t\t\t <NOT <OR <FSET? .",["Localid","OBJ1"]],["\t\t\t\t\t\t\t              ,TAKEBIT>"],["\t\t\t\t\t\t\t          <FSET? .",["Localid","OBJ1"]],["\t\t\t\t\t\t\t       ,TRYTAKEBIT>>>>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (T"],["\t\t\t\t\t\t<COND (<EQUAL? .",["Localid","OBJ1"]," ,",["Id","IT"],">"],["\t\t\t\t\t\t       <PRINTD ,",["Id","P-IT-OBJECT"],">)"],["\t\t\t\t\t\t      (T <PRINTD .",["Localid","OBJ1"],">)>"],["\t\t\t\t\t\t<TELL ",["Str","\": \""],">)>)>"],["\t\t\t\t  <SET ",["Localid","TMP"]," T>"],["\t\t\t\t  <SET ",["Localid","V"]," <",["Id","PERFORM"]," ,",["Id","PRSA"]," ,",["Id","PRSO"]," ,",["Id","PRSI"],">>"],["\t\t\t\t  <COND (<==? .",["Localid","V"]," ,",["Id","M-FATAL"],"> <RETURN>)>)>>)>"],["\t    <COND (<NOT <==? .",["Localid","V"]," ,",["Id","M-FATAL"],">>"],["\t\t   ",["Comment",";<COND (<==? <LOC ,WINNER> ,PRSO>"]],[["Comment","\t\t\t  <SETG PRSO <>>)>"]],["\t\t   <SET ",["Localid","V"]," <APPLY <GETP <LOC ,",["Id","WINNER"],"> ,P?ACTION> ,",["Id","M-END"],">>)>"],["\t    <COND (<VERB? AGAIN WALK SAVE RESTORE ",["Id","SCORE"]," VERSION ",["Comment",";WAIT"],"> T)"],["\t\t  (T"],["\t\t   <SETG ",["Id","L-PRSA"]," ,",["Id","PRSA"],">"],["\t\t   <SETG ",["Id","L-PRSO"]," ,",["Id","PRSO"],">"],["\t\t   <SETG ",["Id","L-PRSI"]," ,",["Id","PRSI"],">)>"],["\t    <COND (<==? .",["Localid","V"]," ,",["Id","M-FATAL"],"> <SETG ",["Id","P-CONT"]," <>>)>)"],["\t   (T"],["\t    <SETG ",["Id","P-CONT"]," <>>)>"],["     <COND (,",["Id","P-WON"]],["\t    <COND (<VERB? TELL BRIEF ",["Id","SUPER-BRIEF"]," ",["Id","VERBOSE"]," SAVE VERSION"],["\t\t\t  QUIT RESTART ",["Id","SCORE"]," SCRIPT UNSCRIPT RESTORE> T)"],["\t\t  (T <SET ",["Localid","V"]," <",["Id","CLOCKER"],">>)>)>>>"],[],["<GLOBAL ",["Iddef","L-PRSA"]," <>>"],[],["<GLOBAL ",["Iddef","L-PRSO"]," <>>"],[],["<GLOBAL ",["Iddef","L-PRSI"]," <>>"],[],["<GLOBAL ",["Iddef","P-MULT"]," <>>"],[],["<GLOBAL ",["Iddef","P-NOT-HERE"]," 0>"],[],[],[],["%<COND (<GASSIGNED? PREDGEN>"],[],["'<ROUTINE ",["Iddef","PERFORM"]," (",["Localid","A"]," ",["Str","\"OPTIONAL\""]," (",["Localid","O"]," <>) (",["Localid","I"]," <>) ",["Str","\"AUX\""]," ",["Localid","V"]," ",["Localid","OA"]," ",["Localid","OO"]," ",["Localid","OI"],")"],["\t",["Comment",";<COND (,DEBUG"]],[["Comment","\t       <TELL \"[Perform: \">"]],[["Comment","\t       %<COND (<GASSIGNED? PREDGEN> '<TELL N .A>)"]],[["Comment","\t\t      (T '<PRINC <NTH ,ACTIONS <+ <* .A 2> 1>>>)>"]],[["Comment","\t       <COND (<AND .O <NOT <==? .A ,V?WALK>>>"]],[["Comment","\t\t      <TELL \"/\" D .O>)>"]],[["Comment","\t       <COND (.I <TELL \"/\" D .I>)>"]],[["Comment","\t       <TELL \"]\" CR>)>"]],["\t<SET ",["Localid","OA"]," ,",["Id","PRSA"],">"],["\t<SET ",["Localid","OO"]," ,",["Id","PRSO"],">"],["\t<SET ",["Localid","OI"]," ,",["Id","PRSI"],">"],["\t<COND (<AND <EQUAL? ,",["Id","IT"]," .",["Localid","I"]," .",["Localid","O"],">"],["\t\t    <NOT <EQUAL? ,",["Id","P-IT-LOC"]," ,",["Id","HERE"],">>>"],["\t       <TELL ",["Str","\"I don't see what you are referring to.\""]," CR>"],["\t       <RFATAL>)>"],["\t<COND (<==? .",["Localid","O"]," ,",["Id","IT"],"> <SET ",["Localid","O"]," ,",["Id","P-IT-OBJECT"],">)>"],["\t<COND (<==? .",["Localid","I"]," ,",["Id","IT"],"> <SET ",["Localid","I"]," ,",["Id","P-IT-OBJECT"],">)>"],["\t<SETG ",["Id","PRSA"]," .",["Localid","A"],">"],["\t<SETG ",["Id","PRSO"]," .",["Localid","O"],">"],["\t<COND (<AND ,",["Id","PRSO"]," <NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","IT"],">> <NOT <VERB? WALK>>>"],["\t       <SETG ",["Id","P-IT-OBJECT"]," ,",["Id","PRSO"],">"],["\t       <SETG ",["Id","P-IT-LOC"]," ,",["Id","HERE"],">)>"],["\t<SETG ",["Id","PRSI"]," .",["Localid","I"],">"],["\t<COND (<AND <EQUAL? ,",["Id","NOT-HERE-OBJECT"]," ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t    <SET ",["Localid","V"]," <",["Id","NOT-HERE-OBJECT-F"],">>> .",["Localid","V"],")"],["\t      (T"],["\t       <SET ",["Localid","O"]," ,",["Id","PRSO"],">"],["\t       <SET ",["Localid","I"]," ,",["Id","PRSI"],">"],["\t       <COND"],["\t\t(<SET ",["Localid","V"]," <APPLY <GETP ,",["Id","WINNER"]," ,P?ACTION>>> .",["Localid","V"],")"],["\t\t(<SET ",["Localid","V"]," <APPLY <GETP <LOC ,",["Id","WINNER"],"> ,P?ACTION> ,",["Id","M-BEG"],">> .",["Localid","V"],")"],["\t\t(<SET ",["Localid","V"]," <APPLY <GET ,",["Id","PREACTIONS"]," .",["Localid","A"],">>> .",["Localid","V"],")"],["\t\t(<AND .",["Localid","I"]," <SET ",["Localid","V"]," <APPLY <GETP .",["Localid","I"]," ,P?ACTION>>>> .",["Localid","V"],")"],["\t\t(<AND .",["Localid","O"]],["\t\t      <NOT <==? .",["Localid","A"]," ,V?WALK>>"],["\t\t      <LOC .",["Localid","O"],">"],["\t\t      <SET ",["Localid","V"]," <APPLY <GETP <LOC .",["Localid","O"],"> ,P?CONTFCN>>>>"],["\t\t .",["Localid","V"],")"],["\t\t(<AND .",["Localid","O"]],["\t\t      <NOT <==? .",["Localid","A"]," ,V?WALK>>"],["\t\t      <SET ",["Localid","V"]," <APPLY <GETP .",["Localid","O"]," ,P?ACTION>>>>"],["\t\t .",["Localid","V"],")"],["\t\t(<SET ",["Localid","V"]," <APPLY <GET ,",["Id","ACTIONS"]," .",["Localid","A"],">>> .",["Localid","V"],")>)>"],["\t<SETG ",["Id","PRSA"]," .",["Localid","OA"],">"],["\t<SETG ",["Id","PRSO"]," .",["Localid","OO"],">"],["\t<SETG ",["Id","PRSI"]," .",["Localid","OI"],">"],["\t.",["Localid","V"],">)"],["       ",["Ifndef","(T"]],[],[["Ifndef","'<PROG ()"]],[],[["Ifndef","<SETG DEBUG <>>"]],[],[["Ifndef","<ROUTINE PERFORM (A \"OPTIONAL\" (O <>) (I <>) \"AUX\" V OA OO OI)"]],[["Ifndef","\t#DECL ((A) FIX (O) <OR FALSE OBJECT FIX> (I) <OR FALSE OBJECT> (V) ANY)"]],[["Ifndef","\t<COND (,DEBUG"]],[["Ifndef","\t       <TELL \"** PERFORM: PRSA = \">"]],[["Ifndef","\t       <PRINC <NTH ,ACTIONS <+ <* .A 2> 1>>>"]],[["Ifndef","\t       <COND (<AND .O <NOT <==? .A ,V?WALK>>>"]],[["Ifndef","\t\t      <TELL \" | PRSO = \" D .O>)>"]],[["Ifndef","\t       <COND (.I <TELL \" | PRSI = \" D .I>)>)>"]],[["Ifndef","\t<SET OA ,PRSA>"]],[["Ifndef","\t<SET OO ,PRSO>"]],[["Ifndef","\t<SET OI ,PRSI>"]],[["Ifndef","\t<COND (<AND <EQUAL? ,IT .I .O>"]],[["Ifndef","\t\t    <NOT <EQUAL? ,P-IT-LOC ,HERE>>>"]],[["Ifndef","\t       <TELL \"I don't see what you are referring to.\" CR>"]],[["Ifndef","\t       <RFATAL>)>"]],[["Ifndef","\t<COND (<==? .O ,IT> <SET O ,P-IT-OBJECT>)>"]],[["Ifndef","\t<COND (<==? .I ,IT> <SET I ,P-IT-OBJECT>)>"]],[["Ifndef","\t<SETG PRSA .A>"]],[["Ifndef","\t<SETG PRSO .O>"]],[["Ifndef","\t<COND (<AND ,PRSO <NOT <VERB? WALK>>>"]],[["Ifndef","\t       <SETG P-IT-OBJECT ,PRSO>"]],[["Ifndef","\t       <SETG P-IT-LOC ,HERE>)>"]],[["Ifndef","\t<SETG PRSI .I>"]],[["Ifndef","\t<COND (<AND <EQUAL? ,NOT-HERE-OBJECT ,PRSO ,PRSI>"]],[["Ifndef","\t\t    <SET V <D-APPLY \"Not Here\" ,NOT-HERE-OBJECT-F>>> .V)"]],[["Ifndef","\t      (T"]],[["Ifndef","\t       <SET O ,PRSO>"]],[["Ifndef","\t       <SET I ,PRSI>"]],[["Ifndef","\t       <COND (<SET V <DD-APPLY \"Actor\" ,WINNER"]],[["Ifndef","\t\t\t\t      <GETP ,WINNER ,P?ACTION>>> .V)"]],[["Ifndef","\t\t     (<SET V <D-APPLY \"Room (M-BEG)\""]],[["Ifndef","\t\t\t\t      <GETP <LOC ,WINNER> ,P?ACTION>"]],[["Ifndef","\t\t\t\t      ,M-BEG>> .V)"]],[["Ifndef","\t\t     (<SET V <D-APPLY \"Preaction\""]],[["Ifndef","\t\t\t\t      <GET ,PREACTIONS .A>>> .V)"]],[["Ifndef","\t\t     (<AND .I <SET V <D-APPLY \"PRSI\""]],[["Ifndef","\t\t\t\t\t      <GETP .I ,P?ACTION>>>> .V)"]],[["Ifndef","\t\t     (<AND .O"]],[["Ifndef","\t\t\t   <NOT <==? .A ,V?WALK>>"]],[["Ifndef","\t\t\t   <LOC .O>"]],[["Ifndef","\t\t\t   <GETP <LOC .O> ,P?CONTFCN>"]],[["Ifndef","\t\t\t   <SET V <DD-APPLY \"Container\" <LOC .O>"]],[["Ifndef","\t\t\t\t\t   <GETP <LOC .O> ,P?CONTFCN>>>>"]],[["Ifndef","\t\t      .V)"]],[["Ifndef","\t\t     (<AND .O"]],[["Ifndef","\t\t\t   <NOT <==? .A ,V?WALK>>"]],[["Ifndef","\t\t\t   <SET V <D-APPLY \"PRSO\""]],[["Ifndef","\t\t\t\t\t   <GETP .O ,P?ACTION>>>>"]],[["Ifndef","\t\t      .V)"]],[["Ifndef","\t\t     (<SET V <D-APPLY <>"]],[["Ifndef","\t\t\t\t      <GET ,ACTIONS .A>>> .V)>)>"]],[["Ifndef","\t<SETG PRSA .OA>"]],[["Ifndef","\t<SETG PRSO .OO>"]],[["Ifndef","\t<SETG PRSI .OI>"]],[["Ifndef","\t.V>"]],[],[["Ifndef","<DEFINE D-APPLY (STR FCN \"OPTIONAL\" FOO \"AUX\" RES)"]],[["Ifndef","\t<COND (<NOT .FCN> <>)"]],[["Ifndef","\t      (T"]],[["Ifndef","\t       <COND (,DEBUG"]],[["Ifndef","\t\t      <COND (<NOT .STR>"]],[["Ifndef","\t\t\t     <TELL CR \"  Default ->\" CR>)"]],[["Ifndef","\t\t\t    (T <TELL CR \"  \" .STR \" -> \">)>)>"]],[["Ifndef","\t       <SET RES"]],[["Ifndef","\t\t    <COND (<ASSIGNED? FOO>"]],[["Ifndef","\t\t\t   <APPLY .FCN .FOO>)"]],[["Ifndef","\t\t\t  (T <APPLY .FCN>)>>"]],[["Ifndef","\t       <COND (<AND ,DEBUG .STR>"]],[["Ifndef","\t\t      <COND (<==? .RES 2>"]],[["Ifndef","\t\t\t     <TELL \"Fatal\" CR>)"]],[["Ifndef","\t\t\t    (<NOT .RES>"]],[["Ifndef","\t\t\t     <TELL \"Not handled\">)"]],[["Ifndef","\t\t\t    (T <TELL \"Handled\" CR>)>)>"]],[["Ifndef","\t       .RES)>>"]],[],[["Ifndef","<ROUTINE DD-APPLY (STR OBJ FCN \"OPTIONAL\" (FOO <>))"]],[["Ifndef","\t<COND (,DEBUG <TELL \"[\" D .OBJ \"=]\">)>"]],[["Ifndef","\t<D-APPLY .STR .FCN .FOO>>"]],[["Ifndef",">)"],">"],[]],"gparser.zil":[["\t\t\t",["Str","\"Generic PARSER file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],[["Comment",";\"WHICH and TRAP retrofixes installed\""]],[],[["Str","\"Parser global variable convention:  All parser globals will"]],[["Str","  begin with 'P-'.  Local variables are not restricted in any"]],[["Str","  way."]],[["Str","\""]],[],["<SETG SIBREAKS ",["Str","\".,\\\"\""],">"],[],["<GLOBAL ",["Iddef","GWIM-DISABLE"]," <>>"],[],["<GLOBAL ",["Iddef","PRSA"]," <>>"],[],["<GLOBAL ",["Iddef","PRSI"]," <>>"],[],["<GLOBAL ",["Iddef","PRSO"]," <>>"],[],["<GLOBAL ",["Iddef","P-TABLE"]," 0>"],[],["<GLOBAL ",["Iddef","P-ONEOBJ"]," 0>"],[],["<GLOBAL ",["Iddef","P-SYNTAX"]," 0>"],[],["<GLOBAL ",["Iddef","P-CCSRC"]," 0>"],[],["<GLOBAL ",["Iddef","P-LEN"]," 0>"],[],["<GLOBAL ",["Iddef","P-DIR"]," 0>"],[],["<GLOBAL ",["Iddef","HERE"]," 0>"],[],["<GLOBAL ",["Iddef","WINNER"]," 0>"],[],["<GLOBAL ",["Iddef","P-LEXV"]," <ITABLE BYTE 120>>"],[["Comment",";\"INBUF - Input buffer for READ\""]],[],["<GLOBAL ",["Iddef","P-INBUF"]," <ITABLE BYTE 100>>"],[["Comment",";\"Parse-cont variable\""]],[],["<GLOBAL ",["Iddef","P-CONT"]," <>>"],[],["<GLOBAL ",["Iddef","P-IT-OBJECT"]," <>>"],["<GLOBAL ",["Iddef","P-IT-LOC"]," <>>"],[],[["Comment",";\"Orphan flag\""]],[],["<GLOBAL ",["Iddef","P-OFLAG"]," <>>"],[],["<GLOBAL ",["Iddef","P-MERGED"]," <>>"],[],["<GLOBAL ",["Iddef","P-ACLAUSE"]," <>>"],[],["<GLOBAL ",["Iddef","P-ANAM"]," <>>"],[],["<GLOBAL ",["Iddef","P-AADJ"]," <>>"],[["Comment",";\"Parser variables and temporaries\""]],[],["<CONSTANT ",["Iddef","P-PHRLEN"]," 3>"],[],["<CONSTANT ",["Iddef","P-ORPHLEN"]," 7>"],[],["<CONSTANT ",["Iddef","P-RTLEN"]," 3>"],[["Comment",";\"Byte offset to # of entries in LEXV\""]],[],["<CONSTANT ",["Iddef","P-LEXWORDS"]," 1>"],[["Comment",";\"Word offset to start of LEXV entries\""]],[],["<CONSTANT ",["Iddef","P-LEXSTART"]," 1>"],[["Comment",";\"Number of words per LEXV entry\""]],[],["<CONSTANT ",["Iddef","P-LEXELEN"]," 2>"],[],["<CONSTANT ",["Iddef","P-WORDLEN"]," 4>"],[["Comment",";\"Offset to parts of speech byte\""]],[],["<CONSTANT ",["Iddef","P-PSOFF"]," 4>"],[["Comment",";\"Offset to first part of speech\""]],[],["<CONSTANT ",["Iddef","P-P1OFF"]," 5>"],[["Comment",";\"First part of speech bit mask in PSOFF byte\""]],[],["<CONSTANT ",["Iddef","P-P1BITS"]," 3>"],[],["<CONSTANT ",["Iddef","P-ITBLLEN"]," 9>"],[],["<GLOBAL ",["Iddef","P-ITBL"]," <TABLE 0 0 0 0 0 0 0 0 0 0>>"],[],["<GLOBAL ",["Iddef","P-OTBL"]," <TABLE 0 0 0 0 0 0 0 0 0 0>>"],[],["<GLOBAL ",["Iddef","P-VTBL"]," <TABLE 0 0 0 0>>"],[],["<GLOBAL ",["Iddef","P-NCN"]," 0>"],[],["<CONSTANT ",["Iddef","P-VERB"]," 0>"],[],["<CONSTANT ",["Iddef","P-VERBN"]," 1>"],[],["<CONSTANT ",["Iddef","P-PREP1"]," 2>"],[],["<CONSTANT ",["Iddef","P-PREP1N"]," 3>"],[],["<CONSTANT ",["Iddef","P-PREP2"]," 4>"],[],["<CONSTANT ",["Iddef","P-PREP2N"]," 5>"],[],["<CONSTANT ",["Iddef","P-NC1"]," 6>"],[],["<CONSTANT ",["Iddef","P-NC1L"]," 7>"],[],["<CONSTANT ",["Iddef","P-NC2"]," 8>"],[],["<CONSTANT ",["Iddef","P-NC2L"]," 9>"],[],["<GLOBAL ",["Iddef","QUOTE-FLAG"]," <>>"],[],[["Str","\" Grovel down the input finding the verb, prepositions, and noun clauses."]],[["Str","   If the input is <direction> or <walk> <direction>, fall out immediately"]],[["Str","   setting PRSA to ,V?WALK and PRSO to <direction>.  Otherwise, perform"]],[["Str","   all required orphaning, syntax checking, and noun clause lookup.\""]],[],["<ROUTINE ",["Iddef","PARSER"]," (",["Str","\"AUX\""]," (",["Localid","PTR"]," ,",["Id","P-LEXSTART"],") ",["Localid","WRD"]," (",["Localid","VAL"]," 0) (",["Localid","VERB"]," <>)"],["\t\t       ",["Localid","LEN"]," (",["Localid","DIR"]," <>) (",["Localid","NW"]," 0) (",["Localid","LW"]," 0) ",["Localid","NUM"]," ",["Localid","SCNT"]," (",["Localid","CNT"]," -1))"],["\t<REPEAT ()"],["\t\t<COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> ,",["Id","P-ITBLLEN"],"> <RETURN>)"],["\t\t      (T <PUT ,",["Id","P-ITBL"]," .",["Localid","CNT"]," 0>)>>"],["\t<SETG ",["Id","P-ADVERB"]," <>>"],["\t<SETG ",["Id","P-MERGED"]," <>>"],["\t<PUT ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<PUT ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<PUT ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<COND (<AND <NOT ,",["Id","QUOTE-FLAG"],"> <N==? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t       <SETG ",["Id","WINNER"]," ,",["Id","PLAYER"],">"],["\t       <COND (<NOT <FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>>"],["\t\t      <SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>)>"],["\t       <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>)>"],["\t<COND (,",["Id","P-CONT"]],["\t       <SET ",["Localid","PTR"]," ,",["Id","P-CONT"],">"],["\t       <COND (<AND <NOT ,",["Id","SUPER-BRIEF"],">"],["\t\t\t   <==? ,",["Id","PLAYER"]," ,",["Id","WINNER"],">"],["\t\t\t   <NOT <VERB? SAY>>>"],["\t\t      <CRLF>)>"],["\t       <SETG ",["Id","P-CONT"]," <>>)"],["\t      (T"],["\t       <SETG ",["Id","WINNER"]," ,",["Id","PLAYER"],">"],["\t       <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t       <COND (<NOT <FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>>"],["\t\t      <SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>)>"],["\t       <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t       <COND (<NOT ,",["Id","SUPER-BRIEF"],"> <CRLF>)>"],["\t       <TELL ",["Str","\">\""],">"],["\t       <READ ,",["Id","P-INBUF"]," ,",["Id","P-LEXV"],">)>"],["\t<SETG ",["Id","P-LEN"]," <GETB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"],">>"],["\t<COND (<0? ,",["Id","P-LEN"],"> <TELL ",["Str","\"I beg your pardon?\""]," CR> <RFALSE>)>"],["\t<SET ",["Localid","LEN"]," ,",["Id","P-LEN"],">"],["\t<SETG ",["Id","P-DIR"]," <>>"],["\t<SETG ",["Id","P-NCN"]," 0>"],["\t<SETG ",["Id","P-GETFLAGS"]," 0>"],["\t<REPEAT ()"],["\t\t<COND (<L? <SETG ",["Id","P-LEN"]," <- ,",["Id","P-LEN"]," 1>> 0>"],["\t\t       <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t       <RETURN>)"],["\t\t      (<OR <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," .",["Localid","PTR"],">>"],["\t\t\t   <SET ",["Localid","WRD"]," <",["Id","NUMBER?"]," .",["Localid","PTR"],">>>"],["\t\t       <COND (<AND <==? .",["Localid","WRD"]," ,W?TO>"],["\t\t\t\t   <EQUAL? .",["Localid","VERB"]," ,ACT?TELL ",["Comment",";,ACT?ASK"],">>"],["\t\t\t      <SET ",["Localid","WRD"]," ,W?QUOTE>)"],["\t\t\t     (<AND <==? .",["Localid","WRD"]," ,W?THEN>"],["\t\t\t\t   <NOT .",["Localid","VERB"],">"],["\t\t\t\t   <NOT ,",["Id","QUOTE-FLAG"],"> ",["Comment",";\"Last NOT added 7/3\""],">"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERB"]," ,ACT?TELL>"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"]," 0>"],["\t\t\t      <SET ",["Localid","WRD"]," ,W?QUOTE>)>"],["\t\t       <COND (<OR <EQUAL? .",["Localid","WRD"]," ,W?THEN ,W?PERIOD>"],["\t\t\t\t  <EQUAL? .",["Localid","WRD"]," ,W?QUOTE>>"],["\t\t\t      <COND (<EQUAL? .",["Localid","WRD"]," ,W?QUOTE>"],["\t\t\t\t     <COND (,",["Id","QUOTE-FLAG"]],["\t\t\t\t\t    <SETG ",["Id","QUOTE-FLAG"]," <>>)"],["\t\t\t\t\t   (T <SETG ",["Id","QUOTE-FLAG"]," T>)>)>"],["\t\t\t      <OR <0? ,",["Id","P-LEN"],">"],["\t\t\t\t  <SETG ",["Id","P-CONT"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>"],["\t\t\t      <PUTB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"]," ,",["Id","P-LEN"],">"],["\t\t\t      <RETURN>)"],["\t\t\t     (<AND <SET ",["Localid","VAL"]],["\t\t\t\t\t<",["Id","WT?"]," .",["Localid","WRD"]],["\t\t\t\t\t     ,PS?DIRECTION"],["\t\t\t\t\t     ,P1?DIRECTION>>"],["\t\t\t\t   <EQUAL? .",["Localid","VERB"]," <> ,ACT?WALK>"],["\t\t\t\t   <OR <==? .",["Localid","LEN"]," 1>"],["\t\t\t\t       <AND <==? .",["Localid","LEN"]," 2>"],["\t\t\t\t\t    <EQUAL? .",["Localid","VERB"]," ,ACT?WALK>>"],["\t\t\t\t       <AND <EQUAL? <SET ",["Localid","NW"]],["\t\t\t\t\t\t     <GET ,",["Id","P-LEXV"]],["\t\t\t\t\t\t\t  <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>"],["\t\t\t\t\t            ,W?THEN"],["\t\t\t\t\t            ,W?PERIOD"],["\t\t\t\t\t            ,W?QUOTE>"],["\t\t\t\t\t    <NOT <L? .",["Localid","LEN"]," 2>>>"],["\t\t\t\t       <AND ,",["Id","QUOTE-FLAG"]],["\t\t\t\t\t    <==? .",["Localid","LEN"]," 2>"],["\t\t\t\t\t    <EQUAL? .",["Localid","NW"]," ,W?QUOTE>>"],["\t\t\t\t       <AND <G? .",["Localid","LEN"]," 2>"],["\t\t\t\t\t    <EQUAL? .",["Localid","NW"]," ,W?COMMA ,W?AND>>>>"],["\t\t\t      <SET ",["Localid","DIR"]," .",["Localid","VAL"],">"],["\t\t\t      <COND (<EQUAL? .",["Localid","NW"]," ,W?COMMA ,W?AND>"],["\t\t\t\t     <PUT ,",["Id","P-LEXV"]],["\t\t\t\t\t  <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">"],["\t\t\t\t\t  ,W?THEN>)>"],["\t\t\t      <COND (<NOT <G? .",["Localid","LEN"]," 2>>"],["\t\t\t\t     <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t\t\t     <RETURN>)>)"],["\t\t\t     (<AND <SET ",["Localid","VAL"]," <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?VERB ,P1?VERB>>"],["\t\t\t\t   <NOT .",["Localid","VERB"],">>"],["\t\t\t      <SET ",["Localid","VERB"]," .",["Localid","VAL"],">"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERB"]," .",["Localid","VAL"],">"],["\t\t\t      <PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"]," ,",["Id","P-VTBL"],">"],["\t\t\t      <PUT ,",["Id","P-VTBL"]," 0 .",["Localid","WRD"],">"],["\t\t\t      <PUTB ,",["Id","P-VTBL"]," 2 <GETB ,",["Id","P-LEXV"]],["\t\t\t\t\t\t    <SET ",["Localid","NUM"]],["\t\t\t\t\t\t\t <+ <* .",["Localid","PTR"]," 2> 2>>>>"],["\t\t\t      <PUTB ,",["Id","P-VTBL"]," 3 <GETB ,",["Id","P-LEXV"]," <+ .",["Localid","NUM"]," 1>>>)"],["\t\t\t     (<OR <SET ",["Localid","VAL"]," <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?PREPOSITION 0>>"],["\t\t\t\t  <AND <OR <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE ",["Comment",";,W?A"],">"],["\t\t\t\t\t   <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?ADJECTIVE>"],["\t\t\t\t\t   <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?OBJECT>>"],["\t\t\t\t       <SET ",["Localid","VAL"]," 0>>>"],["\t\t\t      <COND (<AND <G? ,",["Id","P-LEN"]," 0>"],["\t\t\t\t\t  <==? <GET ,",["Id","P-LEXV"]],["\t\t\t\t\t\t    <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>"],["\t\t\t\t\t       ,W?OF>"],["\t\t\t\t\t  <0? .",["Localid","VAL"],">"],["\t\t\t\t\t  <NOT"],["\t\t\t\t\t   <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE ,W?A>>>)"],["\t\t\t\t    (<AND <NOT <0? .",["Localid","VAL"],">>"],["\t\t\t\t          <OR <0? ,",["Id","P-LEN"],">"],["\t\t\t\t\t      <EQUAL? <GET ,",["Id","P-LEXV"]," <+ .",["Localid","PTR"]," 2>>"],["\t\t\t\t\t\t      ,W?THEN ,W?PERIOD>>>"],["\t\t\t\t     <COND (<L? ,",["Id","P-NCN"]," 2>"],["\t\t\t\t\t    <PUT ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"]," .",["Localid","VAL"],">"],["\t\t\t\t\t    <PUT ,",["Id","P-ITBL"]," ,",["Id","P-PREP1N"]," .",["Localid","WRD"],">)>)"],["\t\t\t\t    (<==? ,",["Id","P-NCN"]," 2>"],["\t\t\t\t     <TELL"],[["Str","\"There were too many nouns in that sentence.\""]," CR>"],["\t\t\t\t     <RFALSE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <SETG ",["Id","P-NCN"]," <+ ,",["Id","P-NCN"]," 1>>"],["\t\t\t\t     <OR <SET ",["Localid","PTR"]," <",["Id","CLAUSE"]," .",["Localid","PTR"]," .",["Localid","VAL"]," .",["Localid","WRD"],">>"],["\t\t\t\t\t <RFALSE>>"],["\t\t\t\t     <COND (<L? .",["Localid","PTR"]," 0>"],["\t\t\t\t\t    <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t\t\t\t    <RETURN>)>)>)"],["\t\t\t     (<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?BUZZ-WORD>)"],["\t\t\t     (<AND <EQUAL? .",["Localid","VERB"]," ,ACT?TELL>"],["\t\t\t\t   <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?VERB ,P1?VERB>>"],["\t\t\t      <TELL"],[["Str","\"Please consult your manual for the correct way to talk to other people"]],[["Str","or creatures.\""]," CR>"],["\t\t\t      <RFALSE>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","CANT-USE"]," .",["Localid","PTR"],">"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T"],["\t\t       <",["Id","UNKNOWN-WORD"]," .",["Localid","PTR"],">"],["\t\t       <RFALSE>)>"],["\t\t<SET ",["Localid","LW"]," .",["Localid","WRD"],">"],["\t\t<SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>"],["\t<COND (.",["Localid","DIR"]],["\t       <SETG ",["Id","PRSA"]," ,V?WALK>"],["\t       <SETG ",["Id","PRSO"]," .",["Localid","DIR"],">"],["\t       <SETG ",["Id","P-WALK-DIR"]," .",["Localid","DIR"],">"],["\t       <RETURN T>)>"],["\t<SETG ",["Id","P-WALK-DIR"]," <>>"],["\t<COND (,",["Id","P-OFLAG"]," <",["Id","ORPHAN-MERGE"],">)>"],["\t<COND (<AND <",["Id","SYNTAX-CHECK"],"> <",["Id","SNARF-OBJECTS"],"> <",["Id","MANY-CHECK"],"> <",["Id","TAKE-CHECK"],">>"],["\t       T)>>"],[],[],["<GLOBAL ",["Iddef","P-WALK-DIR"]," <>>"],[],[["Comment",";\"Check whether word pointed at by PTR is the correct part of speech."]],[["Comment","   The second argument is the part of speech (,PS?<part of speech>).  The"]],[["Comment","   3rd argument (,P1?<part of speech>), if given, causes the value"]],[["Comment","   for that part of speech to be returned.\""]],[],["<ROUTINE ",["Iddef","WT?"]," (",["Localid","PTR"]," ",["Localid","BIT"]," ",["Str","\"OPTIONAL\""]," (",["Localid","B1"]," 5) ",["Str","\"AUX\""]," (",["Localid","OFFS"]," ,",["Id","P-P1OFF"],") ",["Localid","TYP"],")"],["\t<COND (<BTST <SET ",["Localid","TYP"]," <GETB .",["Localid","PTR"]," ,",["Id","P-PSOFF"],">> .",["Localid","BIT"],">"],["\t       <COND (<G? .",["Localid","B1"]," 4> <RTRUE>)"],["\t\t     (T"],["\t\t      <SET ",["Localid","TYP"]," <BAND .",["Localid","TYP"]," ,",["Id","P-P1BITS"],">>"],["\t\t      <COND (<NOT <==? .",["Localid","TYP"]," .",["Localid","B1"],">> <SET ",["Localid","OFFS"]," <+ .",["Localid","OFFS"]," 1>>)>"],["\t\t      <GETB .",["Localid","PTR"]," .",["Localid","OFFS"],">)>)>>"],[],[["Comment",";\" Scan through a noun clause, leave a pointer to its starting location\""]],[],["<ROUTINE ",["Iddef","CLAUSE"]," (",["Localid","PTR"]," ",["Localid","VAL"]," ",["Localid","WRD"]," ",["Str","\"AUX\""]," ",["Localid","OFF"]," ",["Localid","NUM"]," (",["Localid","ANDFLG"]," <>) (",["Localid","FIRST??"]," T) ",["Localid","NW"]," (",["Localid","LW"]," 0))"],["\t<SET ",["Localid","OFF"]," <* <- ,",["Id","P-NCN"]," 1> 2>>"],["\t<COND (<NOT <==? .",["Localid","VAL"]," 0>>"],["\t       <PUT ,",["Id","P-ITBL"]," <SET ",["Localid","NUM"]," <+ ,",["Id","P-PREP1"]," .",["Localid","OFF"],">> .",["Localid","VAL"],">"],["\t       <PUT ,",["Id","P-ITBL"]," <+ .",["Localid","NUM"]," 1> .",["Localid","WRD"],">"],["\t       <SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>)"],["\t      (T <SETG ",["Id","P-LEN"]," <+ ,",["Id","P-LEN"]," 1>>)>"],["\t<COND (<0? ,",["Id","P-LEN"],"> <SETG ",["Id","P-NCN"]," <- ,",["Id","P-NCN"]," 1>> <RETURN -1>)>"],["\t<PUT ,",["Id","P-ITBL"]," <SET ",["Localid","NUM"]," <+ ,",["Id","P-NC1"]," .",["Localid","OFF"],">> <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>>>"],["\t<COND (<EQUAL? <GET ,",["Id","P-LEXV"]," .",["Localid","PTR"],"> ,W?THE ,W?A ,W?AN>"],["\t       <PUT ,",["Id","P-ITBL"]," .",["Localid","NUM"]," <REST <GET ,",["Id","P-ITBL"]," .",["Localid","NUM"],"> 4>>)>"],["\t<REPEAT ()"],["\t\t<COND (<L? <SETG ",["Id","P-LEN"]," <- ,",["Id","P-LEN"]," 1>> 0>"],["\t\t       <PUT ,",["Id","P-ITBL"]," <+ .",["Localid","NUM"]," 1> <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>>>"],["\t\t       <RETURN -1>)>"],["\t\t<COND (<OR <SET ",["Localid","WRD"]," <GET ,",["Id","P-LEXV"]," .",["Localid","PTR"],">>"],["\t\t\t   <SET ",["Localid","WRD"]," <",["Id","NUMBER?"]," .",["Localid","PTR"],">>>"],["\t\t       <COND (<0? ,",["Id","P-LEN"],"> <SET ",["Localid","NW"]," 0>)"],["\t\t\t     (T <SET ",["Localid","NW"]," <GET ,",["Id","P-LEXV"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>)>"],["\t\t       <COND (<EQUAL? .",["Localid","WRD"]," ,W?AND ,W?COMMA> <SET ",["Localid","ANDFLG"]," T>)"],["\t\t\t     (<EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE>"],["\t\t\t      <COND (<==? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t     <SETG ",["Id","P-LEN"]," <- ,",["Id","P-LEN"]," 1>>"],["\t\t\t\t     <SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>)>)"],["\t\t\t     (<OR <EQUAL? .",["Localid","WRD"]," ,W?THEN ,W?PERIOD>"],["\t\t\t\t  <AND <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?PREPOSITION>"],["\t\t\t\t       <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],">"],["\t\t\t\t          ",["Comment",";\"ADDED 4/27 FOR TURTLE,UP\""]],["\t\t\t\t       <NOT .",["Localid","FIRST??"],">>>"],["\t\t\t      <SETG ",["Id","P-LEN"]," <+ ,",["Id","P-LEN"]," 1>>"],["\t\t\t      <PUT ,",["Id","P-ITBL"]],["\t\t\t\t   <+ .",["Localid","NUM"]," 1>"],["\t\t\t\t   <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>>>"],["\t\t\t      <RETURN <- .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>)"],["\t\t\t     (<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?OBJECT>"],["\t\t\t      <COND (<AND <G? ,",["Id","P-LEN"]," 0>"],["\t\t\t\t\t  <EQUAL? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t\t  <NOT <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE>>>"],["\t\t\t\t     T)"],["\t\t\t\t    (<AND <",["Id","WT?"]," .",["Localid","WRD"]],["\t\t\t\t\t       ,PS?ADJECTIVE"],["\t\t\t\t\t       ,P1?ADJECTIVE>"],["\t\t\t\t\t  <NOT <==? .",["Localid","NW"]," 0>>"],["\t\t\t\t\t  <",["Id","WT?"]," .",["Localid","NW"]," ,PS?OBJECT>>)"],["\t\t\t\t    (<AND <NOT .",["Localid","ANDFLG"],">"],["\t\t\t\t\t  <NOT <EQUAL? .",["Localid","NW"]," ,W?BUT ,W?EXCEPT>>"],["\t\t\t\t\t  <NOT <EQUAL? .",["Localid","NW"]," ,W?AND ,W?COMMA>>>"],["\t\t\t\t     <PUT ,",["Id","P-ITBL"]],["\t\t\t\t\t  <+ .",["Localid","NUM"]," 1>"],["\t\t\t\t\t  <REST ,",["Id","P-LEXV"]," <* <+ .",["Localid","PTR"]," 2> 2>>>"],["\t\t\t\t     <RETURN .",["Localid","PTR"],">)"],["\t\t\t\t    (T <SET ",["Localid","ANDFLG"]," <>>)>)"],["\t\t\t     (<AND <OR ,",["Id","P-MERGED"]],["\t\t\t\t       ,",["Id","P-OFLAG"]],["\t\t\t\t       <NOT <EQUAL? <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],"> 0>>>"],["\t\t\t\t   <OR <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?ADJECTIVE>"],["\t\t\t\t       <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?BUZZ-WORD>>>)"],["\t\t\t     (<AND .",["Localid","ANDFLG"]],["\t\t\t\t   <OR <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?DIRECTION>"],["\t\t\t\t       <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?VERB>>>"],["\t\t\t      <SET ",["Localid","PTR"]," <- .",["Localid","PTR"]," 4>>"],["\t\t\t      <PUT ,",["Id","P-LEXV"]," <+ .",["Localid","PTR"]," 2> ,W?THEN>"],["\t\t\t      <SETG ",["Id","P-LEN"]," <+ ,",["Id","P-LEN"]," 2>>)"],["\t\t\t     (<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?PREPOSITION> T)"],["\t\t\t     (T"],["\t\t\t      <",["Id","CANT-USE"]," .",["Localid","PTR"],">"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T <",["Id","UNKNOWN-WORD"]," .",["Localid","PTR"],"> <RFALSE>)>"],["\t\t<SET ",["Localid","LW"]," .",["Localid","WRD"],">"],["\t\t<SET ",["Localid","FIRST??"]," <>>"],["\t\t<SET ",["Localid","PTR"]," <+ .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>>>"],[],["<ROUTINE ",["Iddef","NUMBER?"]," (",["Localid","PTR"]," ",["Str","\"AUX\""]," ",["Localid","CNT"]," ",["Localid","BPTR"]," ",["Localid","CHR"]," (",["Localid","SUM"]," 0) (",["Localid","TIM"]," <>))"],["\t <SET ",["Localid","CNT"]," <GETB <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>> 2>>"],["\t <SET ",["Localid","BPTR"]," <GETB <REST ,",["Id","P-LEXV"]," <* .",["Localid","PTR"]," 2>> 3>>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","CNT"]," <- .",["Localid","CNT"]," 1>> 0> <RETURN>)"],["\t\t       (T"],["\t\t\t<SET ",["Localid","CHR"]," <GETB ,",["Id","P-INBUF"]," .",["Localid","BPTR"],">>"],["\t\t\t<COND (<==? .",["Localid","CHR"]," 58>"],["\t\t\t       <SET ",["Localid","TIM"]," .",["Localid","SUM"],">"],["\t\t\t       <SET ",["Localid","SUM"]," 0>)"],["\t\t\t      (<G? .",["Localid","SUM"]," 10000> <RFALSE>)"],["\t\t\t      (<AND <L? .",["Localid","CHR"]," 58> <G? .",["Localid","CHR"]," 47>>"],["\t\t\t       <SET ",["Localid","SUM"]," <+ <* .",["Localid","SUM"]," 10> <- .",["Localid","CHR"]," 48>>>)"],["\t\t\t      (T <RFALSE>)>"],["\t\t\t<SET ",["Localid","BPTR"]," <+ .",["Localid","BPTR"]," 1>>)>>"],["\t <PUT ,",["Id","P-LEXV"]," .",["Localid","PTR"]," ,W?INTNUM>"],["\t <COND (<G? .",["Localid","SUM"]," 1000> <RFALSE>)"],["\t       (.",["Localid","TIM"]],["\t\t<COND (<L? .",["Localid","TIM"]," 8> <SET ",["Localid","TIM"]," <+ .",["Localid","TIM"]," 12>>)"],["\t\t      (<G? .",["Localid","TIM"]," 23> <RFALSE>)>"],["\t\t<SET ",["Localid","SUM"]," <+ .",["Localid","SUM"]," <* .",["Localid","TIM"]," 60>>>)>"],["\t <SETG ",["Id","P-NUMBER"]," .",["Localid","SUM"],">"],["\t ,W?INTNUM>"],[],["<GLOBAL ",["Iddef","P-NUMBER"]," 0>"],["<GLOBAL ",["Iddef","P-DIRECTION"]," 0>"],[],[],[["Comment",";\"New ORPHAN-MERGE for TRAP Retrofix 6/21/84\""]],[],["<ROUTINE ",["Iddef","ORPHAN-MERGE"]," (",["Str","\"AUX\""]," (",["Localid","CNT"]," -1) ",["Localid","TEMP"]," ",["Localid","VERB"]," ",["Localid","BEG"]," ",["Localid","END"]," (",["Localid","ADJ"]," <>) ",["Localid","WRD"],")"],["   <SETG ",["Id","P-OFLAG"]," <>>"],["   <COND (<",["Id","WT?"]," <GET <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"],"> 0> ,PS?ADJECTIVE ,P1?ADJECTIVE>"],["\t  <SET ",["Localid","ADJ"]," T>)>"],["   <COND (<AND <NOT <0? <SET ",["Localid","VERB"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],">>>>"],["\t       <NOT .",["Localid","ADJ"],">"],["\t       <NOT <==? .",["Localid","VERB"]," <GET ,",["Id","P-OTBL"]," ,",["Id","P-VERB"],">>>>"],["\t  <RFALSE>)"],["\t (<==? ,",["Id","P-NCN"]," 2> <RFALSE>)"],["\t (<==? <GET ,",["Id","P-OTBL"]," ,",["Id","P-NC1"],"> 1>"],["\t  <COND (<OR <==? <SET ",["Localid","TEMP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>"],["\t\t\t  <GET ,",["Id","P-OTBL"]," ,",["Id","P-PREP1"],">>"],["\t\t     <0? .",["Localid","TEMP"],">>"],["\t\t <COND (.",["Localid","ADJ"]],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1"]," <REST ,",["Id","P-LEXV"]," 2>>"],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1L"]," <REST ,",["Id","P-LEXV"]," 6>>)"],["\t\t       (T"],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">>"],["\t\t\t<PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1L"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],">>)>)"],["\t\t(T <RFALSE>)>)"],["\t (<==? <GET ,",["Id","P-OTBL"]," ,",["Id","P-NC2"],"> 1>"],["\t  <COND (<OR <==? <SET ",["Localid","TEMP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>"],["\t\t\t  <GET ,",["Id","P-OTBL"]," ,",["Id","P-PREP2"],">>"],["\t\t     <0? .",["Localid","TEMP"],">>"],["\t\t <COND (.",["Localid","ADJ"]],["\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1"]," <REST ,",["Id","P-LEXV"]," 2>>"],["\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"]," <REST ,",["Id","P-LEXV"]," 6>>)>"],["\t\t <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC2"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">>"],["\t\t <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC2L"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],">>"],["\t\t <SETG ",["Id","P-NCN"]," 2>)"],["\t\t(T <RFALSE>)>)"],["\t (<NOT <ZERO? ,",["Id","P-ACLAUSE"],">>"],["\t  <COND (<AND <NOT <==? ,",["Id","P-NCN"]," 1>> <NOT .",["Localid","ADJ"],">>"],["\t\t <SETG ",["Id","P-ACLAUSE"]," <>>"],["\t\t <RFALSE>)"],["\t\t(T"],["\t\t <SET ",["Localid","BEG"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">>"],["\t\t <COND (.",["Localid","ADJ"]," <SET ",["Localid","BEG"]," <REST ,",["Id","P-LEXV"]," 2>> <SET ",["Localid","ADJ"]," <>>)>"],["\t\t <SET ",["Localid","END"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],">>"],["\t\t <REPEAT ()"],["\t\t\t <SET ",["Localid","WRD"]," <GET .",["Localid","BEG"]," 0>>"],["\t\t\t <COND (<==? .",["Localid","BEG"]," .",["Localid","END"],">"],["\t\t\t\t<COND (.",["Localid","ADJ"]," <",["Id","ACLAUSE-WIN"]," .",["Localid","ADJ"],"> <RETURN>)"],["\t\t\t\t      (T <SETG ",["Id","P-ACLAUSE"]," <>> <RFALSE>)>)"],["\t\t\t       (<AND <NOT .",["Localid","ADJ"],">"],["\t\t\t\t     <OR <BTST <GETB .",["Localid","WRD"]," ,",["Id","P-PSOFF"],">"],["\t\t\t\t\t       ,PS?ADJECTIVE>"],["\t\t\t\t\t <EQUAL? .",["Localid","WRD"]," ,W?ALL ,W?ONE>>>"],["\t\t\t\t<SET ",["Localid","ADJ"]," .",["Localid","WRD"],">)"],["\t\t\t       (<OR <BTST <GETB .",["Localid","WRD"]," ,",["Id","P-PSOFF"],"> ,PS?OBJECT>"],["\t\t\t\t    <==? .",["Localid","WRD"]," ,W?ONE>>"],["\t\t\t\t<COND (<NOT <EQUAL? .",["Localid","WRD"]," ,",["Id","P-ANAM"]," ,W?ONE>>"],["\t\t\t\t       <RFALSE>)"],["\t\t\t\t      (T <",["Id","ACLAUSE-WIN"]," .",["Localid","ADJ"],"> <RETURN>)>)>"],["\t\t\t <SET ",["Localid","BEG"]," <REST .",["Localid","BEG"]," ,",["Id","P-WORDLEN"],">>"],["\t\t\t <COND (<EQUAL? .",["Localid","END"]," 0>"],["\t\t\t\t<SET ",["Localid","END"]," .",["Localid","BEG"],">"],["\t\t\t\t<SETG ",["Id","P-NCN"]," 1>"],["\t\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1"]," <BACK .",["Localid","BEG"]," 4>>"],["\t\t\t\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"]," .",["Localid","BEG"],">)>>)>)>"],["   <REPEAT ()"],["\t   <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> ,",["Id","P-ITBLLEN"],">"],["\t\t  <SETG ",["Id","P-MERGED"]," T>"],["\t\t  <RTRUE>)"],["\t\t (T <PUT ,",["Id","P-ITBL"]," .",["Localid","CNT"]," <GET ,",["Id","P-OTBL"]," .",["Localid","CNT"],">>)>>"],["   T>"],[],[["Comment",";\"New ACLAUSE-WIN for TRAP retrofix 6/21/84\""]],[],["<ROUTINE ",["Iddef","ACLAUSE-WIN"]," (",["Localid","ADJ"],")"],["\t<PUT ,",["Id","P-ITBL"]," ,",["Id","P-VERB"]," <GET ,",["Id","P-OTBL"]," ,",["Id","P-VERB"],">>"],["\t<SETG ",["Id","P-CCSRC"]," ,",["Id","P-OTBL"],">"],["\t<",["Id","CLAUSE-COPY"]," ,",["Id","P-ACLAUSE"]," <+ ,",["Id","P-ACLAUSE"]," 1> .",["Localid","ADJ"],">"],["\t<AND <NOT <==? <GET ,",["Id","P-OTBL"]," ,",["Id","P-NC2"],"> 0>> <SETG ",["Id","P-NCN"]," 2>>"],["\t<SETG ",["Id","P-ACLAUSE"]," <>>"],["\t<RTRUE>>"],[],[["Comment",";\"Print undefined word in input."]],[["Comment","   PTR points to the unknown word in P-LEXV\""]],[],["<ROUTINE ",["Iddef","WORD-PRINT"]," (",["Localid","CNT"]," ",["Localid","BUF"],")"],["\t <REPEAT ()"],["\t\t <COND (<DLESS? ",["Localid","CNT"]," 0> <RETURN>)"],["\t\t       (ELSE"],["\t\t\t<PRINTC <GETB ,",["Id","P-INBUF"]," .",["Localid","BUF"],">>"],["\t\t\t<SET ",["Localid","BUF"]," <+ .",["Localid","BUF"]," 1>>)>>>"],[],["<ROUTINE ",["Iddef","UNKNOWN-WORD"]," (",["Localid","PTR"]," ",["Str","\"AUX\""]," ",["Localid","BUF"],")"],["\t<COND (<VERB? SAY>"],["\t       <TELL ",["Str","\"Nothing happens.\""]," CR>"],["\t       <RFALSE>)>"],["\t<TELL ",["Str","\"I don't know the word \\\"\""],">"],["\t<",["Id","WORD-PRINT"]," <GETB <REST ,",["Id","P-LEXV"]," <SET ",["Localid","BUF"]," <* .",["Localid","PTR"]," 2>>> 2>"],["\t\t    <GETB <REST ,",["Id","P-LEXV"]," .",["Localid","BUF"],"> 3>>"],["\t<TELL ",["Str","\"\\\".\""]," CR>"],["\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t<SETG ",["Id","P-OFLAG"]," <>>>"],[],["<ROUTINE ",["Iddef","CANT-USE"]," (",["Localid","PTR"]," ",["Str","\"AUX\""]," ",["Localid","BUF"],")"],["\t<COND (<VERB? SAY>"],["\t       <TELL ",["Str","\"Nothing happens.\""]," CR>"],["\t       <RFALSE>)>"],["\t<TELL ",["Str","\"You used the word \\\"\""],">"],["\t<",["Id","WORD-PRINT"]," <GETB <REST ,",["Id","P-LEXV"]," <SET ",["Localid","BUF"]," <* .",["Localid","PTR"]," 2>>> 2>"],["\t\t    <GETB <REST ,",["Id","P-LEXV"]," .",["Localid","BUF"],"> 3>>"],["\t<TELL ",["Str","\"\\\" in a way that I don't understand.\""]," CR>"],["\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t<SETG ",["Id","P-OFLAG"]," <>>>"],[],[["Comment",";\" Perform syntax matching operations, using P-ITBL as the source of"]],[["Comment","   the verb and adjectives for this input.  Returns false if no"]],[["Comment","   syntax matches, and does it's own orphaning.  If return is true,"]],[["Comment","   the syntax is saved in P-SYNTAX.\""]],[],["<GLOBAL ",["Iddef","P-SLOCBITS"]," 0>"],[],["<CONSTANT ",["Iddef","P-SYNLEN"]," 8>"],[],["<CONSTANT ",["Iddef","P-SBITS"]," 0>"],[],["<CONSTANT ",["Iddef","P-SPREP1"]," 1>"],[],["<CONSTANT ",["Iddef","P-SPREP2"]," 2>"],[],["<CONSTANT ",["Iddef","P-SFWIM1"]," 3>"],[],["<CONSTANT ",["Iddef","P-SFWIM2"]," 4>"],[],["<CONSTANT ",["Iddef","P-SLOC1"]," 5>"],[],["<CONSTANT ",["Iddef","P-SLOC2"]," 6>"],[],["<CONSTANT ",["Iddef","P-SACTION"]," 7>"],[],["<CONSTANT ",["Iddef","P-SONUMS"]," 3>"],[],["<ROUTINE ",["Iddef","SYNTAX-CHECK"]," (",["Str","\"AUX\""]," ",["Localid","SYN"]," ",["Localid","LEN"]," ",["Localid","NUM"]," ",["Localid","OBJ"]],["\t\t       \t    (",["Localid","DRIVE1"]," <>) (",["Localid","DRIVE2"]," <>) ",["Localid","PREP"]," ",["Localid","VERB"]," ",["Localid","TMP"],")"],["\t<COND (<0? <SET ",["Localid","VERB"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERB"],">>>"],["\t       <TELL ",["Str","\"There was no verb in that sentence!\""]," CR>"],["\t       <RFALSE>)>"],["\t<SET ",["Localid","SYN"]," <GET ,",["Id","VERBS"]," <- 255 .",["Localid","VERB"],">>>"],["\t<SET ",["Localid","LEN"]," <GETB .",["Localid","SYN"]," 0>>"],["\t<SET ",["Localid","SYN"]," <REST .",["Localid","SYN"],">>"],["\t<REPEAT ()"],["\t\t<SET ",["Localid","NUM"]," <BAND <GETB .",["Localid","SYN"]," ,",["Id","P-SBITS"],"> ,",["Id","P-SONUMS"],">>"],["\t\t<COND (<G? ,",["Id","P-NCN"]," .",["Localid","NUM"],"> T)"],["\t\t      (<AND <NOT <L? .",["Localid","NUM"]," 1>>"],["\t\t\t    <0? ,",["Id","P-NCN"],">"],["\t\t\t    <OR <0? <SET ",["Localid","PREP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>>"],["\t\t\t\t<==? .",["Localid","PREP"]," <GETB .",["Localid","SYN"]," ,",["Id","P-SPREP1"],">>>>"],["\t\t       <SET ",["Localid","DRIVE1"]," .",["Localid","SYN"],">)"],["\t\t      (<==? <GETB .",["Localid","SYN"]," ,",["Id","P-SPREP1"],"> <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP1"],">>"],["\t\t       <COND (<AND <==? .",["Localid","NUM"]," 2> <==? ,",["Id","P-NCN"]," 1>>"],["\t\t\t      <SET ",["Localid","DRIVE2"]," .",["Localid","SYN"],">)"],["\t\t\t     (<==? <GETB .",["Localid","SYN"]," ,",["Id","P-SPREP2"],">"],["\t\t\t\t   <GET ,",["Id","P-ITBL"]," ,",["Id","P-PREP2"],">>"],["\t\t\t      <",["Id","SYNTAX-FOUND"]," .",["Localid","SYN"],">"],["\t\t\t      <RTRUE>)>)>"],["\t\t<COND (<DLESS? ",["Localid","LEN"]," 1>"],["\t\t       <COND (<OR .",["Localid","DRIVE1"]," .",["Localid","DRIVE2"],"> <RETURN>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"That sentence isn't one I recognize.\""]," CR>"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T <SET ",["Localid","SYN"]," <REST .",["Localid","SYN"]," ,",["Id","P-SYNLEN"],">>)>>"],["\t<COND (<AND .",["Localid","DRIVE1"]],["\t\t    <SET ",["Localid","OBJ"]],["\t\t\t <",["Id","GWIM"]," <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SFWIM1"],">"],["\t\t\t       <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SLOC1"],">"],["\t\t\t       <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SPREP1"],">>>>"],["\t       <PUT ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"]," 1>"],["\t       <PUT ,",["Id","P-PRSO"]," 1 .",["Localid","OBJ"],">"],["\t       <",["Id","SYNTAX-FOUND"]," .",["Localid","DRIVE1"],">)"],["\t      (<AND .",["Localid","DRIVE2"]],["\t\t    <SET ",["Localid","OBJ"]],["\t\t\t <",["Id","GWIM"]," <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SFWIM2"],">"],["\t\t\t       <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SLOC2"],">"],["\t\t\t       <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SPREP2"],">>>>"],["\t       <PUT ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"]," 1>"],["\t       <PUT ,",["Id","P-PRSI"]," 1 .",["Localid","OBJ"],">"],["\t       <",["Id","SYNTAX-FOUND"]," .",["Localid","DRIVE2"],">)"],["\t      (<EQUAL? .",["Localid","VERB"]," ,ACT?FIND>"],["\t       <TELL ",["Str","\"That question can't be answered.\""]," CR>"],["\t       <RFALSE>)"],["\t      (<NOT <==? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t       <",["Id","CANT-ORPHAN"],">)"],["\t      (T"],["\t       <",["Id","ORPHAN"]," .",["Localid","DRIVE1"]," .",["Localid","DRIVE2"],">"],["\t       <TELL ",["Str","\"What do you want to \""],">"],["\t       <SET ",["Localid","TMP"]," <GET ,",["Id","P-OTBL"]," ,",["Id","P-VERBN"],">>"],["\t       <COND (<==? .",["Localid","TMP"]," 0> <TELL ",["Str","\"tell\""],">)"],["\t\t     (<0? <GETB ,",["Id","P-VTBL"]," 2>>"],["\t\t      <PRINTB <GET .",["Localid","TMP"]," 0>>)"],["\t\t     (T"],["\t\t      <",["Id","WORD-PRINT"]," <GETB .",["Localid","TMP"]," 2> <GETB .",["Localid","TMP"]," 3>>"],["\t\t      <PUTB ,",["Id","P-VTBL"]," 2 0>)>"],["\t       <COND (.",["Localid","DRIVE2"]],["\t\t      <",["Id","CLAUSE-PRINT"]," ,",["Id","P-NC1"]," ,",["Id","P-NC1L"],">)>"],["\t       <SETG ",["Id","P-OFLAG"]," T>"],["\t       <",["Id","PREP-PRINT"]," <COND (.",["Localid","DRIVE1"]," <GETB .",["Localid","DRIVE1"]," ,",["Id","P-SPREP1"],">)"],["\t\t\t\t (T <GETB .",["Localid","DRIVE2"]," ,",["Id","P-SPREP2"],">)>>"],["\t       <TELL ",["Str","\"?\""]," CR>"],["\t       <RFALSE>)>>"],[],["<ROUTINE ",["Iddef","CANT-ORPHAN"]," ()"],["\t <TELL ",["Str","\"\\\"I don't understand! What are you referring to?\\\"\""]," CR>"],["\t <RFALSE>>"],[],[],["<ROUTINE ",["Iddef","ORPHAN"]," (",["Localid","D1"]," ",["Localid","D2"]," ",["Str","\"AUX\""]," (",["Localid","CNT"]," -1))"],["\t<PUT ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<SETG ",["Id","P-CCSRC"]," ,",["Id","P-ITBL"],">"],["\t<REPEAT ()"],["\t\t<COND (<IGRTR? ",["Localid","CNT"]," ,",["Id","P-ITBLLEN"],"> <RETURN>)"],["\t\t      (T <PUT ,",["Id","P-OTBL"]," .",["Localid","CNT"]," <GET ,",["Id","P-ITBL"]," .",["Localid","CNT"],">>)>>"],["\t<COND (<==? ,",["Id","P-NCN"]," 2> <",["Id","CLAUSE-COPY"]," ,",["Id","P-NC2"]," ,",["Id","P-NC2L"],">)>"],["\t<COND (<NOT <L? ,",["Id","P-NCN"]," 1>> <",["Id","CLAUSE-COPY"]," ,",["Id","P-NC1"]," ,",["Id","P-NC1L"],">)>"],["\t<COND (.",["Localid","D1"]],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-PREP1"]," <GETB .",["Localid","D1"]," ,",["Id","P-SPREP1"],">>"],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC1"]," 1>)"],["\t      (.",["Localid","D2"]],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-PREP2"]," <GETB .",["Localid","D2"]," ,",["Id","P-SPREP2"],">>"],["\t       <PUT ,",["Id","P-OTBL"]," ,",["Id","P-NC2"]," 1>)>>"],[],["<ROUTINE ",["Iddef","CLAUSE-PRINT"]," (",["Localid","BPTR"]," ",["Localid","EPTR"]," ",["Str","\"OPTIONAL\""]," (",["Localid","THE?"]," T))"],["\t<",["Id","BUFFER-PRINT"]," <GET ,",["Id","P-ITBL"]," .",["Localid","BPTR"],"> <GET ,",["Id","P-ITBL"]," .",["Localid","EPTR"],"> .",["Localid","THE?"],">>"],[],["<ROUTINE ",["Iddef","BUFFER-PRINT"]," (",["Localid","BEG"]," ",["Localid","END"]," ",["Localid","CP"]," ",["Str","\"AUX\""]," (",["Localid","NOSP"]," <>) ",["Localid","WRD"]," (",["Localid","FIRST??"]," T) (",["Localid","PN"]," <>))"],["\t <REPEAT ()"],["\t\t<COND (<==? .",["Localid","BEG"]," .",["Localid","END"],"> <RETURN>)"],["\t\t      (T"],["\t\t       <COND (.",["Localid","NOSP"]," <SET ",["Localid","NOSP"]," <>>)"],["\t\t\t     (T <TELL ",["Str","\" \""],">)>"],["\t\t       <COND (<==? <SET ",["Localid","WRD"]," <GET .",["Localid","BEG"]," 0>> ,W?PERIOD>"],["\t\t\t      <SET ",["Localid","NOSP"]," T>)"],["\t\t\t     (T"],["\t\t\t      <COND (<AND .",["Localid","FIRST??"]," <NOT .",["Localid","PN"],"> .",["Localid","CP"],">"],["\t\t\t\t     <TELL ",["Str","\"the \""],">)>"],["\t\t\t      <COND (<OR ,",["Id","P-OFLAG"]," ,",["Id","P-MERGED"],"> <PRINTB .",["Localid","WRD"],">)"],["\t\t\t\t    (<AND <==? .",["Localid","WRD"]," ,W?IT>"],["\t\t\t\t\t  <==? ,",["Id","P-IT-LOC"]," ,",["Id","HERE"],">>"],["\t\t\t\t     <PRINTD ,",["Id","P-IT-OBJECT"],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <",["Id","WORD-PRINT"]," <GETB .",["Localid","BEG"]," 2>"],["\t\t\t\t\t\t <GETB .",["Localid","BEG"]," 3>>)>"],["\t\t\t      <SET ",["Localid","FIRST??"]," <>>)>)>"],["\t\t<SET ",["Localid","BEG"]," <REST .",["Localid","BEG"]," ,",["Id","P-WORDLEN"],">>>>"],[],["<ROUTINE ",["Iddef","CAPITALIZE"]," (",["Localid","PTR"],")"],["\t <PRINTC <- <GETB ,",["Id","P-INBUF"]," <GETB .",["Localid","PTR"]," 3>> 32>>"],["\t <",["Id","WORD-PRINT"]," <- <GETB .",["Localid","PTR"]," 2> 1> <+ <GETB .",["Localid","PTR"]," 3> 1>>>"],[],["<ROUTINE ",["Iddef","PREP-PRINT"]," (",["Localid","PREP"]," ",["Str","\"AUX\""]," ",["Localid","WRD"],")"],["\t<COND (<NOT <0? .",["Localid","PREP"],">>"],["\t       <TELL ",["Str","\" \""],">"],["\t       <SET ",["Localid","WRD"]," <",["Id","PREP-FIND"]," .",["Localid","PREP"],">>"],["\t       <PRINTB .",["Localid","WRD"],">)>>"],[],["<ROUTINE ",["Iddef","CLAUSE-COPY"]," (",["Localid","BPTR"]," ",["Localid","EPTR"]," ",["Str","\"OPTIONAL\""]," (",["Localid","INSRT"]," <>) ",["Str","\"AUX\""]," ",["Localid","BEG"]," ",["Localid","END"],")"],["\t<SET ",["Localid","BEG"]," <GET ,",["Id","P-CCSRC"]," .",["Localid","BPTR"],">>"],["\t<SET ",["Localid","END"]," <GET ,",["Id","P-CCSRC"]," .",["Localid","EPTR"],">>"],["\t<PUT ,",["Id","P-OTBL"]],["\t     .",["Localid","BPTR"]],["\t     <REST ,",["Id","P-OCLAUSE"]],["\t\t   <+ <* <GET ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"],"> ,",["Id","P-LEXELEN"],"> 2>>>"],["\t<REPEAT ()"],["\t\t<COND (<==? .",["Localid","BEG"]," .",["Localid","END"],">"],["\t\t       <PUT ,",["Id","P-OTBL"]],["\t\t\t    .",["Localid","EPTR"]],["\t\t\t    <REST ,",["Id","P-OCLAUSE"]],["\t\t\t\t  <+ <* <GET ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"],"> ,",["Id","P-LEXELEN"],">"],["\t\t\t\t     2>>>"],["\t\t       <RETURN>)"],["\t\t      (T"],["\t\t       <COND (<AND .",["Localid","INSRT"]," <==? ,",["Id","P-ANAM"]," <GET .",["Localid","BEG"]," 0>>>"],["\t\t\t      <",["Id","CLAUSE-ADD"]," .",["Localid","INSRT"],">)>"],["\t\t       <",["Id","CLAUSE-ADD"]," <GET .",["Localid","BEG"]," 0>>)>"],["\t\t<SET ",["Localid","BEG"]," <REST .",["Localid","BEG"]," ,",["Id","P-WORDLEN"],">>>>"],[],[],["<ROUTINE ",["Iddef","CLAUSE-ADD"]," (",["Localid","WRD"]," ",["Str","\"AUX\""]," ",["Localid","PTR"],")"],["\t<SET ",["Localid","PTR"]," <+ <GET ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"],"> 2>>"],["\t<PUT ,",["Id","P-OCLAUSE"]," <- .",["Localid","PTR"]," 1> .",["Localid","WRD"],">"],["\t<PUT ,",["Id","P-OCLAUSE"]," .",["Localid","PTR"]," 0>"],["\t<PUT ,",["Id","P-OCLAUSE"]," ,",["Id","P-MATCHLEN"]," .",["Localid","PTR"],">>"],[],["<ROUTINE ",["Iddef","PREP-FIND"]," (",["Localid","PREP"]," ",["Str","\"AUX\""]," (",["Localid","CNT"]," 0) ",["Localid","SIZE"],")"],["\t<SET ",["Localid","SIZE"]," <* <GET ,",["Id","PREPOSITIONS"]," 0> 2>>"],["\t<REPEAT ()"],["\t\t<COND (<IGRTR? ",["Localid","CNT"]," .",["Localid","SIZE"],"> <RFALSE>)"],["\t\t      (<==? <GET ,",["Id","PREPOSITIONS"]," .",["Localid","CNT"],"> .",["Localid","PREP"],">"],["\t\t       <RETURN <GET ,",["Id","PREPOSITIONS"]," <- .",["Localid","CNT"]," 1>>>)>>>"],[],["<ROUTINE ",["Iddef","SYNTAX-FOUND"]," (",["Localid","SYN"],")"],["\t<SETG ",["Id","P-SYNTAX"]," .",["Localid","SYN"],">"],["\t<SETG ",["Id","PRSA"]," <GETB .",["Localid","SYN"]," ,",["Id","P-SACTION"],">>>"],[],["<GLOBAL ",["Iddef","P-GWIMBIT"]," 0>"],[],["<ROUTINE ",["Iddef","GWIM"]," (",["Localid","GBIT"]," ",["Localid","LBIT"]," ",["Localid","PREP"]," ",["Str","\"AUX\""]," ",["Localid","OBJ"],")"],["\t<COND (<==? .",["Localid","GBIT"]," ,RMUNGBIT>"],["\t       <RETURN ,",["Id","ROOMS"],">)>"],["\t<SETG ",["Id","P-GWIMBIT"]," .",["Localid","GBIT"],">"],["\t<SETG ",["Id","P-SLOCBITS"]," .",["Localid","LBIT"],">"],["\t<PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<COND (<",["Id","GET-OBJECT"]," ,",["Id","P-MERGE"]," <>>"],["\t       <SETG ",["Id","P-GWIMBIT"]," 0>"],["\t       <COND (<==? <GET ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t      <COND (<EQUAL? <SET ",["Localid","OBJ"]," <GET ,",["Id","P-MERGE"]," 1>> ,",["Id","ME"],">"],["\t\t\t     <RFALSE>)>"],["\t\t      <TELL ",["Str","\"(\""],">"],["\t\t      <COND (<NOT <0? .",["Localid","PREP"],">>"],["\t\t\t     <PRINTB <SET ",["Localid","PREP"]," <",["Id","PREP-FIND"]," .",["Localid","PREP"],">>>"],["\t\t\t     <COND (<==? .",["Localid","PREP"]," ,W?OUT>"],["\t\t\t\t    <TELL ",["Str","\" of\""],">)>"],["\t\t\t     <COND (<==? .",["Localid","OBJ"]," ,",["Id","HANDS"],">"],["\t\t\t\t    <TELL ",["Str","\" your hands)\""]," CR>)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL ",["Str","\" the \""],">)>)>"],["\t\t      <COND (<NOT <==? .",["Localid","OBJ"]," ,",["Id","HANDS"],">>"],["\t\t\t     <TELL D .",["Localid","OBJ"]," ",["Str","\")\""]," CR>)>"],["\t\t      .",["Localid","OBJ"],")>)"],["\t      (T <SETG ",["Id","P-GWIMBIT"]," 0> <RFALSE>)>>"],[],["<ROUTINE ",["Iddef","SNARF-OBJECTS"]," (",["Str","\"AUX\""]," ",["Localid","PTR"],")"],["\t<COND (<NOT <==? <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">> 0>>"],["\t       <SETG ",["Id","P-SLOCBITS"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC1"],">>"],["\t       <OR <",["Id","SNARFEM"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],"> ,",["Id","P-PRSO"],"> <RFALSE>>"],["\t       <OR <0? <GET ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"],">>"],["\t\t   <SETG ",["Id","P-PRSO"]," <",["Id","BUT-MERGE"]," ,",["Id","P-PRSO"],">>>)>"],["\t<COND (<NOT <==? <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2"],">> 0>>"],["\t       <SETG ",["Id","P-SLOCBITS"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC2"],">>"],["\t       <OR <",["Id","SNARFEM"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2L"],"> ,",["Id","P-PRSI"],"> <RFALSE>>"],["\t       <COND (<NOT <0? <GET ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"],">>>"],["\t\t      <COND (<==? <GET ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t\t     <SETG ",["Id","P-PRSO"]," <",["Id","BUT-MERGE"]," ,",["Id","P-PRSO"],">>)"],["\t\t\t    (T <SETG ",["Id","P-PRSI"]," <",["Id","BUT-MERGE"]," ,",["Id","P-PRSI"],">>)>)>)>"],["\t<RTRUE>>"],[],["<ROUTINE ",["Iddef","BUT-MERGE"]," (",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","LEN"]," ",["Localid","BUTLEN"]," (",["Localid","CNT"]," 1) (",["Localid","MATCHES"]," 0) ",["Localid","OBJ"]," ",["Localid","NTBL"],")"],["\t<SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t<PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t<REPEAT ()"],["\t\t<COND (<DLESS? ",["Localid","LEN"]," 0> <RETURN>)"],["\t\t      (<",["Id","ZMEMQ"]," <SET ",["Localid","OBJ"]," <GET .",["Localid","TBL"]," .",["Localid","CNT"],">> ,",["Id","P-BUTS"],">)"],["\t\t      (T"],["\t\t       <PUT ,",["Id","P-MERGE"]," <+ .",["Localid","MATCHES"]," 1> .",["Localid","OBJ"],">"],["\t\t       <SET ",["Localid","MATCHES"]," <+ .",["Localid","MATCHES"]," 1>>)>"],["\t\t<SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>>"],["\t<PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," .",["Localid","MATCHES"],">"],["\t<SET ",["Localid","NTBL"]," ,",["Id","P-MERGE"],">"],["\t<SETG ",["Id","P-MERGE"]," .",["Localid","TBL"],">"],["\t.",["Localid","NTBL"],">"],[],["<GLOBAL ",["Iddef","P-NAM"]," <>>"],[],["<GLOBAL ",["Iddef","P-ADJ"]," <>>"],[],["<GLOBAL ",["Iddef","P-ADVERB"]," <>>"],[],["<GLOBAL ",["Iddef","P-ADJN"]," <>>"],[],["<GLOBAL ",["Iddef","P-PRSO"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-PRSI"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-BUTS"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-MERGE"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-OCLAUSE"]," <ITABLE NONE 50>>"],[],["<GLOBAL ",["Iddef","P-MATCHLEN"]," 0>"],[],["<GLOBAL ",["Iddef","P-GETFLAGS"]," 0>"],[],["<CONSTANT ",["Iddef","P-ALL"]," 1>"],[],["<CONSTANT ",["Iddef","P-ONE"]," 2>"],[],["<CONSTANT ",["Iddef","P-INHIBIT"]," 4>"],[],["<GLOBAL ",["Iddef","P-CSPTR"]," <>>"],["<GLOBAL ",["Iddef","P-CEPTR"]," <>>"],[],["<GLOBAL ",["Iddef","P-AND"]," <>>"],[],["<ROUTINE ",["Iddef","SNARFEM"]," (",["Localid","PTR"]," ",["Localid","EPTR"]," ",["Localid","TBL"]," ",["Str","\"AUX\""]," (",["Localid","BUT"]," <>) ",["Localid","LEN"]," ",["Localid","WV"]," ",["Localid","WRD"]," ",["Localid","NW"],")"],["   <SETG ",["Id","P-GETFLAGS"]," 0>"],["   <SETG ",["Id","P-CSPTR"]," .",["Localid","PTR"],">"],["   <SETG ",["Id","P-CEPTR"]," .",["Localid","EPTR"],">"],["   <SETG ",["Id","P-AND"]," <>>"],["   <PUT ,",["Id","P-BUTS"]," ,",["Id","P-MATCHLEN"]," 0>"],["   <PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," 0>"],["   <SET ",["Localid","WRD"]," <GET .",["Localid","PTR"]," 0>>"],["   <REPEAT ()"],["\t   <COND (<==? .",["Localid","PTR"]," .",["Localid","EPTR"],"> <RETURN <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">>>)"],["\t\t (T"],["\t\t  <SET ",["Localid","NW"]," <GET .",["Localid","PTR"]," ,",["Id","P-LEXELEN"],">>"],["\t\t  <COND (<==? .",["Localid","WRD"]," ,W?ALL>"],["\t\t\t <SETG ",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">"],["\t\t\t <COND (<==? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t<SET ",["Localid","PTR"]," <REST .",["Localid","PTR"]," ,",["Id","P-WORDLEN"],">>)>)"],["\t\t\t(<EQUAL? .",["Localid","WRD"]," ,W?BUT ,W?EXCEPT>"],["\t\t\t <OR <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">> <RFALSE>>"],["\t\t\t <SET ",["Localid","BUT"]," ,",["Id","P-BUTS"],">"],["\t\t\t <PUT .",["Localid","BUT"]," ,",["Id","P-MATCHLEN"]," 0>)"],["\t\t\t(<EQUAL? .",["Localid","WRD"]," ,W?A ,W?ONE>"],["\t\t\t <COND (<NOT ,",["Id","P-ADJ"],">"],["\t\t\t\t<SETG ",["Id","P-GETFLAGS"]," ,",["Id","P-ONE"],">"],["\t\t\t\t<COND (<==? .",["Localid","NW"]," ,W?OF>"],["\t\t\t\t       <SET ",["Localid","PTR"]," <REST .",["Localid","PTR"]," ,",["Id","P-WORDLEN"],">>)>)"],["\t\t\t       (T"],["\t\t\t\t<SETG ",["Id","P-NAM"]," ,",["Id","P-ONEOBJ"],">"],["\t\t\t\t<OR <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">> <RFALSE>>"],["\t\t\t\t<AND <0? .",["Localid","NW"],"> <RTRUE>>)>)"],["\t\t\t(<AND <EQUAL? .",["Localid","WRD"]," ,W?AND ,W?COMMA>"],["\t\t\t      <NOT <EQUAL? .",["Localid","NW"]," ,W?AND ,W?COMMA>>>"],["\t\t\t <SETG ",["Id","P-AND"]," T>"],["\t\t\t <OR <",["Id","GET-OBJECT"]," <OR .",["Localid","BUT"]," .",["Localid","TBL"],">> <RFALSE>>"],["\t\t\t T)"],["\t\t\t(<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?BUZZ-WORD>)"],["\t\t\t(<EQUAL? .",["Localid","WRD"]," ,W?AND ,W?COMMA>)"],["\t\t\t(<==? .",["Localid","WRD"]," ,W?OF>"],["\t\t\t <COND (<0? ,",["Id","P-GETFLAGS"],">"],["\t\t\t\t<SETG ",["Id","P-GETFLAGS"]," ,",["Id","P-INHIBIT"],">)>)"],["\t\t\t(<AND <SET ",["Localid","WV"]," <",["Id","WT?"]," .",["Localid","WRD"]," ,PS?ADJECTIVE ,P1?ADJECTIVE>>"],["\t\t\t      <NOT ,",["Id","P-ADJ"],">>"],["\t\t\t <SETG ",["Id","P-ADJ"]," .",["Localid","WV"],">"],["\t\t\t <SETG ",["Id","P-ADJN"]," .",["Localid","WRD"],">)"],["\t\t\t(<",["Id","WT?"]," .",["Localid","WRD"]," ,PS?OBJECT ,P1?OBJECT>"],["\t\t\t <SETG ",["Id","P-NAM"]," .",["Localid","WRD"],">"],["\t\t\t <SETG ",["Id","P-ONEOBJ"]," .",["Localid","WRD"],">)>)>"],["\t   <COND (<NOT <==? .",["Localid","PTR"]," .",["Localid","EPTR"],">>"],["\t\t  <SET ",["Localid","PTR"]," <REST .",["Localid","PTR"]," ,",["Id","P-WORDLEN"],">>"],["\t\t  <SET ",["Localid","WRD"]," .",["Localid","NW"],">)>>>"],[],["<CONSTANT ",["Iddef","SH"]," 128>"],[],["<CONSTANT ",["Iddef","SC"]," 64>"],[],["<CONSTANT ",["Iddef","SIR"]," 32>"],[],["<CONSTANT ",["Iddef","SOG"]," 16>"],[],["<CONSTANT ",["Iddef","STAKE"]," 8>"],[],["<CONSTANT ",["Iddef","SMANY"]," 4>"],[],["<CONSTANT ",["Iddef","SHAVE"]," 2>"],[],["<ROUTINE ",["Iddef","GET-OBJECT"]," (",["Localid","TBL"]],["\t\t     ",["Str","\"OPTIONAL\""]," (",["Localid","VRB"]," T)"],["\t\t     ",["Str","\"AUX\""]," ",["Localid","BITS"]," ",["Localid","LEN"]," ",["Localid","XBITS"]," ",["Localid","TLEN"]," (",["Localid","GCHECK"]," <>) (",["Localid","OLEN"]," 0) ",["Localid","OBJ"],")"],["\t <SET ",["Localid","XBITS"]," ,",["Id","P-SLOCBITS"],">"],["\t <SET ",["Localid","TLEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t <COND (<BTST ,",["Id","P-GETFLAGS"]," ,",["Id","P-INHIBIT"],"> <RTRUE>)>"],["\t <COND (<AND <NOT ,",["Id","P-NAM"],"> ,",["Id","P-ADJ"]," <",["Id","WT?"]," ,",["Id","P-ADJN"]," ,PS?OBJECT ,P1?OBJECT>>"],["\t\t<SETG ",["Id","P-NAM"]," ,",["Id","P-ADJN"],">"],["\t\t<SETG ",["Id","P-ADJ"]," <>>)>"],["\t <COND (<AND <NOT ,",["Id","P-NAM"],">"],["\t\t     <NOT ,",["Id","P-ADJ"],">"],["\t\t     <NOT <==? ,",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">>"],["\t\t     <0? ,",["Id","P-GWIMBIT"],">>"],["\t\t<COND (.",["Localid","VRB"]],["\t\t       <TELL"],[["Str","\"There seems to be a noun missing in that sentence!\""]," CR>)>"],["\t\t<RFALSE>)>"],["\t <COND (<OR <NOT <==? ,",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">> <0? ,",["Id","P-SLOCBITS"],">>"],["\t\t<SETG ",["Id","P-SLOCBITS"]," -1>)>"],["\t <SETG ",["Id","P-TABLE"]," .",["Localid","TBL"],">"],["\t <PROG ()"],["\t       <COND (.",["Localid","GCHECK"]," <",["Id","GLOBAL-CHECK"]," .",["Localid","TBL"],">)"],["\t\t     (T"],["\t\t      <COND (,",["Id","LIT"]],["\t\t\t     <FCLEAR ,",["Id","PLAYER"]," ,TRANSBIT>"],["\t\t\t     <",["Id","DO-SL"]," ,",["Id","HERE"]," ,",["Id","SOG"]," ,",["Id","SIR"],">"],["\t\t\t     <FSET ,",["Id","PLAYER"]," ,TRANSBIT>)>"],["\t\t      <",["Id","DO-SL"]," ,",["Id","PLAYER"]," ,",["Id","SH"]," ,",["Id","SC"],">)>"],["\t       <SET ",["Localid","LEN"]," <- <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],"> .",["Localid","TLEN"],">>"],["\t       <COND (<BTST ,",["Id","P-GETFLAGS"]," ,",["Id","P-ALL"],">)"],["\t\t     (<AND <BTST ,",["Id","P-GETFLAGS"]," ,",["Id","P-ONE"],">"],["\t\t\t   <NOT <0? .",["Localid","LEN"],">>>"],["\t\t      <COND (<NOT <==? .",["Localid","LEN"]," 1>>"],["\t\t\t     <PUT .",["Localid","TBL"]," 1 <GET .",["Localid","TBL"]," <RANDOM .",["Localid","LEN"],">>>"],["\t\t\t     <TELL ",["Str","\"(How about the \""],">"],["\t\t\t     <PRINTD <GET .",["Localid","TBL"]," 1>>"],["\t\t\t     <TELL ",["Str","\"?)\""]," CR>)>"],["\t\t      <PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," 1>)"],["\t\t     (<OR <G? .",["Localid","LEN"]," 1>"],["\t\t\t  <AND <0? .",["Localid","LEN"],"> <NOT <==? ,",["Id","P-SLOCBITS"]," -1>>>>"],["\t\t      <COND (<==? ,",["Id","P-SLOCBITS"]," -1>"],["\t\t\t     <SETG ",["Id","P-SLOCBITS"]," .",["Localid","XBITS"],">"],["\t\t\t     <SET ",["Localid","OLEN"]," .",["Localid","LEN"],">"],["\t\t\t     <PUT .",["Localid","TBL"]],["\t\t\t\t  ,",["Id","P-MATCHLEN"]],["\t\t\t\t  <- <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],"> .",["Localid","LEN"],">>"],["\t\t\t     <AGAIN>)"],["\t\t\t    (T"],["\t\t\t     <COND (<0? .",["Localid","LEN"],"> <SET ",["Localid","LEN"]," .",["Localid","OLEN"],">)>"],["\t\t\t     <COND (<NOT <==? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t\t\t\t    <",["Id","CANT-ORPHAN"],">"],["\t\t\t\t    <RFALSE>)"],["\t\t\t\t   (<AND .",["Localid","VRB"]," ,",["Id","P-NAM"],">"],["\t\t\t\t    <",["Id","WHICH-PRINT"]," .",["Localid","TLEN"]," .",["Localid","LEN"]," .",["Localid","TBL"],">"],["\t\t\t\t    <SETG ",["Id","P-ACLAUSE"]],["\t\t\t\t\t  <COND (<==? .",["Localid","TBL"]," ,",["Id","P-PRSO"],"> ,",["Id","P-NC1"],")"],["\t\t\t\t\t\t(T ,",["Id","P-NC2"],")>>"],["\t\t\t\t    <SETG ",["Id","P-AADJ"]," ,",["Id","P-ADJ"],">"],["\t\t\t\t    <SETG ",["Id","P-ANAM"]," ,",["Id","P-NAM"],">"],["\t\t\t\t    <",["Id","ORPHAN"]," <> <>>"],["\t\t\t\t    <SETG ",["Id","P-OFLAG"]," T>)"],["\t\t\t\t   (.",["Localid","VRB"]],["\t\t\t\t    <TELL"],[["Str","\"There seems to be a noun missing in that sentence!\""]," CR>)>"],["\t\t\t     <SETG ",["Id","P-NAM"]," <>>"],["\t\t\t     <SETG ",["Id","P-ADJ"]," <>>"],["\t\t\t     <RFALSE>)>)"],["\t\t     (<AND <0? .",["Localid","LEN"],"> .",["Localid","GCHECK"],">"],["\t\t      <COND (.",["Localid","VRB"]],["\t\t\t     <COND (,",["Id","LIT"]],["\t\t\t\t    ",["Comment",";\"Changed 6/10/83 - MARC\""]],["\t\t\t\t    <",["Id","OBJ-FOUND"]," ,",["Id","NOT-HERE-OBJECT"]," .",["Localid","TBL"],">"],["\t\t\t\t    <SETG ",["Id","P-XNAM"]," ,",["Id","P-NAM"],">"],["\t\t\t\t    <SETG ",["Id","P-XADJ"]," ,",["Id","P-ADJ"],">"],["\t\t\t\t    <SETG ",["Id","P-XADJN"]," ,",["Id","P-ADJN"],">"],["\t\t\t\t    <SETG ",["Id","P-NAM"]," <>>"],["\t\t\t\t    <SETG ",["Id","P-ADJ"]," <>>"],["\t\t\t\t    <SETG ",["Id","P-ADJN"]," <>>"],["\t\t\t\t    <RTRUE>)"],["\t\t\t\t   (T <TELL ",["Str","\"It's too dark to see!\""]," CR>)>)>"],["\t\t      <SETG ",["Id","P-NAM"]," <>>"],["\t\t      <SETG ",["Id","P-ADJ"]," <>>"],["\t\t      <RFALSE>)"],["\t\t     (<0? .",["Localid","LEN"],"> <SET ",["Localid","GCHECK"]," T> <AGAIN>)>"],["\t       <SETG ",["Id","P-SLOCBITS"]," .",["Localid","XBITS"],">"],["\t       <SETG ",["Id","P-NAM"]," <>>"],["\t       <SETG ",["Id","P-ADJ"]," <>>"],["\t       <RTRUE>>>"],[],["<ROUTINE ",["Iddef","MOBY-FIND"]," (",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","FOO"]," ",["Localid","LEN"],")"],["\t <SETG ",["Id","P-SLOCBITS"]," -1>"],["\t <SETG ",["Id","P-NAM"]," ,",["Id","P-XNAM"],">"],["\t <SETG ",["Id","P-ADJ"]," ,",["Id","P-XADJ"],">"],["\t <PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t <SET ",["Localid","FOO"]," <FIRST? ,",["Id","ROOMS"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","FOO"],"> <RETURN>)"],["\t\t       (T"],["\t\t\t<",["Id","SEARCH-LIST"]," .",["Localid","FOO"]," .",["Localid","TBL"]," ,",["Id","P-SRCALL"],">"],["\t\t\t<SET ",["Localid","FOO"]," <NEXT? .",["Localid","FOO"],">>)>>"],["\t <COND (<EQUAL? <SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">> 0>"],["\t\t<",["Id","DO-SL"]," ,",["Id","LOCAL-GLOBALS"]," 1 1>)>"],["\t <COND (<EQUAL? <SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">> 0>"],["\t\t<",["Id","DO-SL"]," ,",["Id","ROOMS"]," 1 1>)>"],["\t <COND (<EQUAL? <SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">> 1>"],["\t\t<SETG ",["Id","P-MOBY-FOUND"]," <GET .",["Localid","TBL"]," 1>>)>"],["\t <SETG ",["Id","P-NAM"]," <>>"],["\t <SETG ",["Id","P-ADJ"]," <>>"],["\t .",["Localid","LEN"],">"],[],["<GLOBAL ",["Iddef","P-MOBY-FOUND"]," <>>"],["<GLOBAL ",["Iddef","P-XNAM"]," <>>"],["<GLOBAL ",["Iddef","P-XADJ"]," <>>"],["<GLOBAL ",["Iddef","P-XADJN"]," <>>"],[],["<ROUTINE ",["Iddef","WHICH-PRINT"]," (",["Localid","TLEN"]," ",["Localid","LEN"]," ",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","OBJ"]," ",["Localid","RLEN"],")"],["\t <SET ",["Localid","RLEN"]," .",["Localid","LEN"],">"],["\t <TELL ",["Str","\"Which\""],">"],["         <COND (<OR ,",["Id","P-OFLAG"]," ,",["Id","P-MERGED"]," ,",["Id","P-AND"],"> <TELL ",["Str","\" \""],"> <PRINTB ,",["Id","P-NAM"],">)"],["\t       (<==? .",["Localid","TBL"]," ,",["Id","P-PRSO"],">"],["\t\t<",["Id","CLAUSE-PRINT"]," ,",["Id","P-NC1"]," ,",["Id","P-NC1L"]," <>>)"],["\t       (T <",["Id","CLAUSE-PRINT"]," ,",["Id","P-NC2"]," ,",["Id","P-NC2L"]," <>>)>"],["\t <TELL ",["Str","\" do you mean, \""],">"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","TLEN"]," <+ .",["Localid","TLEN"]," 1>>"],["\t\t <SET ",["Localid","OBJ"]," <GET .",["Localid","TBL"]," .",["Localid","TLEN"],">>"],["\t\t <TELL ",["Str","\"the \""]," D .",["Localid","OBJ"],">"],["\t\t <COND (<==? .",["Localid","LEN"]," 2>"],["\t\t        <COND (<NOT <==? .",["Localid","RLEN"]," 2>> <TELL ",["Str","\",\""],">)>"],["\t\t        <TELL ",["Str","\" or \""],">)"],["\t\t       (<G? .",["Localid","LEN"]," 2> <TELL ",["Str","\", \""],">)>"],["\t\t <COND (<L? <SET ",["Localid","LEN"]," <- .",["Localid","LEN"]," 1>> 1>"],["\t\t        <TELL ",["Str","\"?\""]," CR>"],["\t\t        <RETURN>)>>>"],[],[],["<ROUTINE ",["Iddef","GLOBAL-CHECK"]," (",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","LEN"]," ",["Localid","RMG"]," ",["Localid","RMGL"]," (",["Localid","CNT"]," 0) ",["Localid","OBJ"]," ",["Localid","OBITS"]," ",["Localid","FOO"],")"],["\t<SET ",["Localid","LEN"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t<SET ",["Localid","OBITS"]," ,",["Id","P-SLOCBITS"],">"],["\t<COND (<SET ",["Localid","RMG"]," <GETPT ,",["Id","HERE"]," ,P?GLOBAL>>"],["\t       <SET ",["Localid","RMGL"]," <- <PTSIZE .",["Localid","RMG"],"> 1>>"],["\t       <REPEAT ()"],["\t\t       <COND (<",["Id","THIS-IT?"]," <SET ",["Localid","OBJ"]," <GETB .",["Localid","RMG"]," .",["Localid","CNT"],">> .",["Localid","TBL"],">"],["\t\t\t      <",["Id","OBJ-FOUND"]," .",["Localid","OBJ"]," .",["Localid","TBL"],">)>"],["\t\t       <COND (<IGRTR? ",["Localid","CNT"]," .",["Localid","RMGL"],"> <RETURN>)>>)>"],["\t<COND (<SET ",["Localid","RMG"]," <GETPT ,",["Id","HERE"]," ,P?PSEUDO>>"],["\t       <SET ",["Localid","RMGL"]," <- </ <PTSIZE .",["Localid","RMG"],"> 4> 1>>"],["\t       <SET ",["Localid","CNT"]," 0>"],["\t       <REPEAT ()"],["\t\t       <COND (<==? ,",["Id","P-NAM"]," <GET .",["Localid","RMG"]," <* .",["Localid","CNT"]," 2>>>"],["\t\t\t      <PUTP ,",["Id","PSEUDO-OBJECT"]],["\t\t\t\t    ,P?ACTION"],["\t\t\t\t    <GET .",["Localid","RMG"]," <+ <* .",["Localid","CNT"]," 2> 1>>>"],["\t\t\t      <SET ",["Localid","FOO"]],["\t\t\t\t   <BACK <GETPT ,",["Id","PSEUDO-OBJECT"]," ,P?ACTION> 5>>"],["\t\t\t      <PUT .",["Localid","FOO"]," 0 <GET ,",["Id","P-NAM"]," 0>>"],["\t\t\t      <PUT .",["Localid","FOO"]," 1 <GET ,",["Id","P-NAM"]," 1>>"],["\t\t\t      <",["Id","OBJ-FOUND"]," ,",["Id","PSEUDO-OBJECT"]," .",["Localid","TBL"],">"],["\t\t\t      <RETURN>)"],["\t\t             (<IGRTR? ",["Localid","CNT"]," .",["Localid","RMGL"],"> <RETURN>)>>)>"],["\t<COND (<==? <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],"> .",["Localid","LEN"],">"],["\t       <SETG ",["Id","P-SLOCBITS"]," -1>"],["\t       <SETG ",["Id","P-TABLE"]," .",["Localid","TBL"],">"],["\t       <",["Id","DO-SL"]," ,",["Id","GLOBAL-OBJECTS"]," 1 1>"],["\t       <SETG ",["Id","P-SLOCBITS"]," .",["Localid","OBITS"],">"],["\t       <COND (<AND <0? <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t\t\t   <EQUAL? ,",["Id","PRSA"]," ,V?LOOK-INSIDE ,V?SEARCH ,V?EXAMINE>>"],["\t\t      <",["Id","DO-SL"]," ,",["Id","ROOMS"]," 1 1>)>)>>"],[],["<ROUTINE ",["Iddef","DO-SL"]," (",["Localid","OBJ"]," ",["Localid","BIT1"]," ",["Localid","BIT2"]," ",["Str","\"AUX\""]," ",["Localid","BTS"],")"],["\t<COND (<BTST ,",["Id","P-SLOCBITS"]," <+ .",["Localid","BIT1"]," .",["Localid","BIT2"],">>"],["\t       <",["Id","SEARCH-LIST"]," .",["Localid","OBJ"]," ,",["Id","P-TABLE"]," ,",["Id","P-SRCALL"],">)"],["\t      (T"],["\t       <COND (<BTST ,",["Id","P-SLOCBITS"]," .",["Localid","BIT1"],">"],["\t\t      <",["Id","SEARCH-LIST"]," .",["Localid","OBJ"]," ,",["Id","P-TABLE"]," ,",["Id","P-SRCTOP"],">)"],["\t\t     (<BTST ,",["Id","P-SLOCBITS"]," .",["Localid","BIT2"],">"],["\t\t      <",["Id","SEARCH-LIST"]," .",["Localid","OBJ"]," ,",["Id","P-TABLE"]," ,",["Id","P-SRCBOT"],">)"],["\t\t     (T <RTRUE>)>)>>"],[],["<CONSTANT ",["Iddef","P-SRCBOT"]," 2>"],[],["<CONSTANT ",["Iddef","P-SRCTOP"]," 0>"],[],["<CONSTANT ",["Iddef","P-SRCALL"]," 1>"],[],["<ROUTINE ",["Iddef","SEARCH-LIST"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Localid","LVL"]," ",["Str","\"AUX\""]," ",["Localid","FLS"]," ",["Localid","NOBJ"],")"],["\t<COND (<SET ",["Localid","OBJ"]," <FIRST? .",["Localid","OBJ"],">>"],["\t       <REPEAT ()"],["\t\t       <COND (<AND <NOT <==? .",["Localid","LVL"]," ,",["Id","P-SRCBOT"],">>"],["\t\t\t\t   <GETPT .",["Localid","OBJ"]," ,P?SYNONYM>"],["\t\t\t\t   <",["Id","THIS-IT?"]," .",["Localid","OBJ"]," .",["Localid","TBL"],">>"],["\t\t\t      <",["Id","OBJ-FOUND"]," .",["Localid","OBJ"]," .",["Localid","TBL"],">)>"],["\t\t       <COND (<AND <OR <NOT <==? .",["Localid","LVL"]," ,",["Id","P-SRCTOP"],">>"],["\t\t\t\t       <FSET? .",["Localid","OBJ"]," ,SEARCHBIT>"],["\t\t\t\t       <FSET? .",["Localid","OBJ"]," ,SURFACEBIT>>"],["\t\t\t\t   <SET ",["Localid","NOBJ"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t\t\t   <OR <FSET? .",["Localid","OBJ"]," ,OPENBIT>"],["\t\t\t\t       <FSET? .",["Localid","OBJ"]," ,TRANSBIT>>>"],["\t\t\t      <SET ",["Localid","FLS"]],["\t\t\t\t   <",["Iddef","SEARCH-LIST"]," .",["Localid","OBJ"]],["\t\t\t\t\t\t.",["Localid","TBL"]],["\t\t\t\t\t\t<COND (<FSET? .",["Localid","OBJ"]," ,SURFACEBIT>"],["\t\t\t\t\t\t       ,",["Id","P-SRCALL"],")"],["\t\t\t\t\t\t      (<FSET? .",["Localid","OBJ"]," ,SEARCHBIT>"],["\t\t\t\t\t\t       ,",["Id","P-SRCALL"],")"],["\t\t\t\t\t\t      (T ,",["Id","P-SRCTOP"],")>>>)>"],["\t\t       <COND (<SET ",["Localid","OBJ"]," <NEXT? .",["Localid","OBJ"],">>) (T <RETURN>)>>)>>"],[],["<ROUTINE ",["Iddef","OBJ-FOUND"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","PTR"],")"],["\t<SET ",["Localid","PTR"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t<PUT .",["Localid","TBL"]," <+ .",["Localid","PTR"]," 1> .",["Localid","OBJ"],">"],["\t<PUT .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"]," <+ .",["Localid","PTR"]," 1>>>"],[],["<ROUTINE ",["Iddef","TAKE-CHECK"]," ()"],["\t<AND <",["Id","ITAKE-CHECK"]," ,",["Id","P-PRSO"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC1"],">>"],["\t     <",["Id","ITAKE-CHECK"]," ,",["Id","P-PRSI"]," <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC2"],">>>>"],[],["<ROUTINE ",["Iddef","ITAKE-CHECK"]," (",["Localid","TBL"]," ",["Localid","IBITS"]," ",["Str","\"AUX\""]," ",["Localid","PTR"]," ",["Localid","OBJ"]," ",["Localid","TAKEN"],")"],["\t #DECL ((",["Localid","TBL"],") TABLE (",["Localid","IBITS"]," ",["Localid","PTR"],") FIX (",["Localid","OBJ"],") OBJECT"],["\t\t(",["Localid","TAKEN"],") <OR FALSE FIX ATOM>)"],["\t <COND (<AND <SET ",["Localid","PTR"]," <GET .",["Localid","TBL"]," ,",["Id","P-MATCHLEN"],">>"],["\t\t     <OR <BTST .",["Localid","IBITS"]," ,",["Id","SHAVE"],">"],["\t\t\t <BTST .",["Localid","IBITS"]," ,",["Id","STAKE"],">>>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<L? <SET ",["Localid","PTR"]," <- .",["Localid","PTR"]," 1>> 0> <RETURN>)"],["\t\t\t      (T"],["\t\t\t       <SET ",["Localid","OBJ"]," <GET .",["Localid","TBL"]," <+ .",["Localid","PTR"]," 1>>>"],["\t\t\t       <COND (<==? .",["Localid","OBJ"]," ,",["Id","IT"],"> <SET ",["Localid","OBJ"]," ,",["Id","P-IT-OBJECT"],">)>"],["\t\t\t       <COND (<AND <NOT <",["Id","HELD?"]," .",["Localid","OBJ"],">>"],["\t\t\t\t\t   <NOT <==? .",["Localid","OBJ"]," ,",["Id","HANDS"],">>>"],["\t\t\t\t      <SETG ",["Id","PRSO"]," .",["Localid","OBJ"],">"],["\t\t\t\t      <COND (<FSET? .",["Localid","OBJ"]," ,TRYTAKEBIT>"],["\t\t\t\t\t     <SET ",["Localid","TAKEN"]," T>)"],["\t\t\t\t\t    (<NOT <==? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t\t     <SET ",["Localid","TAKEN"]," <>>)"],["\t\t\t\t\t    (<AND <BTST .",["Localid","IBITS"]," ,",["Id","STAKE"],">"],["\t\t\t\t\t\t  <==? <",["Id","ITAKE"]," <>> T>>"],["\t\t\t\t\t     <SET ",["Localid","TAKEN"]," <>>)"],["\t\t\t\t\t    (T <SET ",["Localid","TAKEN"]," T>)>"],["\t\t\t\t      <COND (<AND .",["Localid","TAKEN"]," <BTST .",["Localid","IBITS"]," ,",["Id","SHAVE"],">>"],["\t\t\t\t\t     <COND (<EQUAL? .",["Localid","OBJ"]],["\t\t\t\t\t\t\t    ,",["Id","NOT-HERE-OBJECT"],">"],["\t\t\t\t\t\t    <TELL"],[["Str","\"You don't have that!\""]," CR>"],["\t\t\t\t\t\t    <RFALSE>)>"],["\t\t\t\t\t     <TELL ",["Str","\"You don't have the \""],">"],["\t\t\t\t\t     <PRINTD .",["Localid","OBJ"],">"],["\t\t\t\t\t     <TELL ",["Str","\".\""]," CR>"],["\t\t\t\t\t     <RFALSE>)"],["\t\t\t\t\t    (<AND <NOT .",["Localid","TAKEN"],">"],["\t\t\t\t\t\t  <==? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t\t\t\t     <TELL ",["Str","\"(Taken)\""]," CR>)>)>)>>)"],["\t       (T)>>"],[],["<ROUTINE ",["Iddef","MANY-CHECK"]," (",["Str","\"AUX\""]," (",["Localid","LOSS"]," <>) ",["Localid","TMP"],")"],["\t<COND (<AND <G? <GET ,",["Id","P-PRSO"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t    <NOT <BTST <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC1"],"> ,",["Id","SMANY"],">>>"],["\t       <SET ",["Localid","LOSS"]," 1>)"],["\t      (<AND <G? <GET ,",["Id","P-PRSI"]," ,",["Id","P-MATCHLEN"],"> 1>"],["\t\t    <NOT <BTST <GETB ,",["Id","P-SYNTAX"]," ,",["Id","P-SLOC2"],"> ,",["Id","SMANY"],">>>"],["\t       <SET ",["Localid","LOSS"]," 2>)>"],["\t<COND (.",["Localid","LOSS"]],["\t       <TELL ",["Str","\"You can't use multiple \""],">"],["\t       <COND (<==? .",["Localid","LOSS"]," 2> <TELL ",["Str","\"in\""],">)>"],["\t       <TELL ",["Str","\"direct objects with \\\"\""],">"],["\t       <SET ",["Localid","TMP"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-VERBN"],">>"],["\t       <COND (<0? .",["Localid","TMP"],"> <TELL ",["Str","\"tell\""],">)"],["\t\t     (<OR ,",["Id","P-OFLAG"]," ,",["Id","P-MERGED"],">"],["\t\t      <PRINTB <GET .",["Localid","TMP"]," 0>>)"],["\t\t     (T"],["\t\t      <",["Id","WORD-PRINT"]," <GETB .",["Localid","TMP"]," 2> <GETB .",["Localid","TMP"]," 3>>)>"],["\t       <TELL ",["Str","\"\\\".\""]," CR>"],["\t       <RFALSE>)"],["\t      (T)>>"],[],["<ROUTINE ",["Iddef","ZMEMQ"]," (",["Localid","ITM"]," ",["Localid","TBL"]," ",["Str","\"OPTIONAL\""]," (",["Localid","SIZE"]," -1) ",["Str","\"AUX\""]," (",["Localid","CNT"]," 1))"],["\t<COND (<NOT .",["Localid","TBL"],"> <RFALSE>)>"],["\t<COND (<NOT <L? .",["Localid","SIZE"]," 0>> <SET ",["Localid","CNT"]," 0>)"],["\t      (ELSE <SET ",["Localid","SIZE"]," <GET .",["Localid","TBL"]," 0>>)>"],["\t<REPEAT ()"],["\t\t<COND (<==? .",["Localid","ITM"]," <GET .",["Localid","TBL"]," .",["Localid","CNT"],">> <RTRUE>)"],["\t\t      (<IGRTR? ",["Localid","CNT"]," .",["Localid","SIZE"],"> <RFALSE>)>>>"],[],["<ROUTINE ",["Iddef","ZMEMQB"]," (",["Localid","ITM"]," ",["Localid","TBL"]," ",["Localid","SIZE"]," ",["Str","\"AUX\""]," (",["Localid","CNT"]," 0))"],["\t<REPEAT ()"],["\t\t<COND (<==? .",["Localid","ITM"]," <GETB .",["Localid","TBL"]," .",["Localid","CNT"],">> <RTRUE>)"],["\t\t      (<IGRTR? ",["Localid","CNT"]," .",["Localid","SIZE"],"> <RFALSE>)>>>"],[],["<GLOBAL ",["Iddef","ALWAYS-LIT"]," <>>"],[],["<ROUTINE ",["Iddef","LIT?"]," (",["Localid","RM"]," ",["Str","\"OPTIONAL\""]," (",["Localid","RMBIT"]," T) ",["Str","\"AUX\""]," ",["Localid","OHERE"]," (",["Localid","LIT"]," <>))"],["\t<COND (<AND ,",["Id","ALWAYS-LIT"]," <EQUAL? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t       <RTRUE>)>"],["\t<SETG ",["Id","P-GWIMBIT"]," ,ONBIT>"],["\t<SET ",["Localid","OHERE"]," ,",["Id","HERE"],">"],["\t<SETG ",["Id","HERE"]," .",["Localid","RM"],">"],["\t<COND (<AND .",["Localid","RMBIT"]],["\t\t    <FSET? .",["Localid","RM"]," ,ONBIT>>"],["\t       <SET ",["Localid","LIT"]," T>)"],["\t      (T"],["\t       <PUT ,",["Id","P-MERGE"]," ,",["Id","P-MATCHLEN"]," 0>"],["\t       <SETG ",["Id","P-TABLE"]," ,",["Id","P-MERGE"],">"],["\t       <SETG ",["Id","P-SLOCBITS"]," -1>"],["\t       <COND (<==? .",["Localid","OHERE"]," .",["Localid","RM"],">"],["\t\t      <",["Id","DO-SL"]," ,",["Id","WINNER"]," 1 1>"],["\t\t      <COND (<AND <NOT <EQUAL? ,",["Id","WINNER"]," ,",["Id","PLAYER"],">>"],["\t\t\t\t  <IN? ,",["Id","PLAYER"]," .",["Localid","RM"],">>"],["\t\t\t     <",["Id","DO-SL"]," ,",["Id","PLAYER"]," 1 1>)>)>"],["\t       <",["Id","DO-SL"]," .",["Localid","RM"]," 1 1>"],["\t       <COND (<G? <GET ,",["Id","P-TABLE"]," ,",["Id","P-MATCHLEN"],"> 0> <SET ",["Localid","LIT"]," T>)>)>"],["\t<SETG ",["Id","HERE"]," .",["Localid","OHERE"],">"],["\t<SETG ",["Id","P-GWIMBIT"]," 0>"],["\t.",["Localid","LIT"],">"],[],["<ROUTINE ",["Iddef","PRSO-PRINT"]," (",["Str","\"AUX\""]," ",["Localid","PTR"],")"],["\t <COND (<OR ,",["Id","P-MERGED"]],["\t\t    <==? <GET <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1"],">> 0> ,W?IT>>"],["\t\t<TELL ",["Str","\" \""]," D ,",["Id","PRSO"],">)"],["\t       (T <",["Id","BUFFER-PRINT"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC1L"],"> <>>)>>"],[],["<ROUTINE ",["Iddef","PRSI-PRINT"]," (",["Str","\"AUX\""]," ",["Localid","PTR"],")"],["\t <COND (<OR ,",["Id","P-MERGED"]],["\t\t    <==? <GET <SET ",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2"],">> 0> ,W?IT>>"],["\t\t<TELL ",["Str","\" \""]," D ,",["Id","PRSO"],">)"],["\t       (T <",["Id","BUFFER-PRINT"]," .",["Localid","PTR"]," <GET ,",["Id","P-ITBL"]," ,",["Id","P-NC2L"],"> <>>)>>"],[],[["Comment",";\"former CRUFTY routine, re-written by SWG\""]],[],["<ROUTINE ",["Iddef","THIS-IT?"]," (",["Localid","OBJ"]," ",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","SYNS"],")"],[" <COND (<FSET? .",["Localid","OBJ"]," ,INVISIBLE> <RFALSE>)"],["       (<AND ,",["Id","P-NAM"]],["\t     <NOT <",["Id","ZMEMQ"]," ,",["Id","P-NAM"]],["\t\t\t <SET ",["Localid","SYNS"]," <GETPT .",["Localid","OBJ"]," ,P?SYNONYM>>"],["\t\t\t <- </ <PTSIZE .",["Localid","SYNS"],"> 2> 1>>>>"],["\t<RFALSE>)"],["       (<AND ,",["Id","P-ADJ"]],["\t     <OR <NOT <SET ",["Localid","SYNS"]," <GETPT .",["Localid","OBJ"]," ,P?ADJECTIVE>>>"],["\t\t <NOT <",["Id","ZMEMQB"]," ,",["Id","P-ADJ"]," .",["Localid","SYNS"]," <- <PTSIZE .",["Localid","SYNS"],"> 1>>>>>"],["\t<RFALSE>)"],["       (<AND <NOT <0? ,",["Id","P-GWIMBIT"],">> <NOT <FSET? .",["Localid","OBJ"]," ,",["Id","P-GWIMBIT"],">>>"],["\t<RFALSE>)>"],[" <RTRUE>>"]],"gsyntax.zil":[["\t\t\t",["Str","\"Generic SYNTAX file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/21/83 by SEM\""]],[],["^L"],[],[["Str","\"Buzzwords, Prepositions and Directions\""]],[],["<BUZZ A AN THE IS AND OF THEN ALL ONE BUT EXCEPT \\. \\, \\\" YES NO Y ",["Id","HERE"]],["      FEEBLE FUMBLE FEAR FILCH FREEZE FALL FRY FLUORESCE"],["      FERMENT FIERCE FLOAT FIREPROOF FENCE FUDGE FANTASIZE"],["      FROTZ OZMOO>"],[],["<SYNONYM WITH USING THROUGH THRU>"],["<SYNONYM IN INSIDE INTO>"],["<SYNONYM ON ONTO>"],["<SYNONYM UNDER UNDERNEATH BENEATH BELOW>"],[],["<SYNONYM NORTH N>"],["<SYNONYM SOUTH S>"],["<SYNONYM EAST E>"],["<SYNONYM WEST W>"],["<SYNONYM DOWN D>"],["<SYNONYM UP U>"],["<SYNONYM NW NORTHWEST>"],["<SYNONYM NE NORTHE>"],["<SYNONYM SW SOUTHWEST>"],["<SYNONYM SE SOUTHE>"],[],["^L"],[],[["Str","\"Game Commands\""]],[],["<SYNTAX ",["Id","VERBOSE"]," = ",["Id","V-VERBOSE"],">"],[],["<SYNTAX BRIEF = ",["Id","V-BRIEF"],">"],[],["<SYNTAX SUPER = ",["Id","V-SUPER-BRIEF"],">"],["<SYNONYM SUPER SUPERBRIEF>"],[],["<SYNTAX DIAGNOSE = ",["Id","V-DIAGNOSE"],">"],[],["<SYNTAX INVENTORY = ",["Id","V-INVENTORY"],">"],["<SYNONYM INVENTORY I>"],[],["<SYNTAX QUIT = ",["Id","V-QUIT"],">"],["<SYNONYM QUIT Q>"],[],["<SYNTAX RESTART = ",["Id","V-RESTART"],">"],[],["<SYNTAX RESTORE = ",["Id","V-RESTORE"],">"],[],["<SYNTAX SAVE = ",["Id","V-SAVE"],">"],[],["<SYNTAX ",["Id","SCORE"]," = ",["Id","V-SCORE"],">"],[],["<SYNTAX SCRIPT = ",["Id","V-SCRIPT"],">"],[],["<SYNTAX UNSCRIPT = ",["Id","V-UNSCRIPT"],">"],[],["<SYNTAX VERSION = ",["Id","V-VERSION"],">"],[],["<SYNTAX $VERIFY = ",["Id","V-VERIFY"],">"],[],[["Comment",";<SYNTAX DEBUG = V-DEBUG>"]],[],["^L"],[],[["Str","\"Real Verbs\""]],[],["<SYNTAX ACTIVATE OBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-LAMP-ON"],">"],[],["<SYNTAX AGAIN = ",["Id","V-AGAIN"],">"],["<SYNONYM AGAIN G>"],[],["<SYNTAX ANSWER = ",["Id","V-ANSWER"],">"],["<SYNTAX ANSWER OBJECT = ",["Id","V-REPLY"],">"],["<SYNONYM ANSWER REPLY>"],[],["<SYNTAX APPLY OBJECT TO OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],[],["<SYNTAX ATTACK OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-ATTACK"],">"],["<SYNONYM ATTACK FIGHT HURT INJURE HIT>"],[],["<SYNTAX BACK = ",["Id","V-BACK"],">"],[],["<SYNTAX BLAST = ",["Id","V-BLAST"],">"],[],["<SYNTAX BLOW OUT OBJECT = ",["Id","V-LAMP-OFF"],">"],["<SYNTAX BLOW UP\tOBJECT WITH"],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-INFLATE"],">"],["<SYNTAX BLOW UP OBJECT = ",["Id","V-BLAST"],">"],["<SYNTAX BLOW IN OBJECT = ",["Id","V-BREATHE"],">"],[],["<SYNTAX ",["Id","BOARD"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-BOARD"]," ",["Id","PRE-BOARD"],">"],[],["<SYNTAX BRUSH OBJECT (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-BRUSH"],">"],["<SYNTAX BRUSH OBJECT (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT = ",["Id","V-BRUSH"],">"],["<SYNONYM BRUSH CLEAN>"],[],["<SYNTAX BUG = ",["Id","V-BUG"],">"],[],["<SYNTAX BURN OBJECT (FIND BURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE)"],["\t= ",["Id","V-BURN"]," ",["Id","PRE-BURN"],">"],["<SYNTAX BURN DOWN OBJECT (FIND BURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE)"],["\t= ",["Id","V-BURN"]," ",["Id","PRE-BURN"],">"],["<SYNONYM BURN INCINERATE IGNITE>"],[],["<SYNTAX CHOMP = ",["Id","V-CHOMP"],">"],["<SYNONYM CHOMP LOSE BARF>"],[],["<SYNTAX CLIMB UP = ",["Id","V-CLIMB-UP"],">"],["<SYNTAX CLIMB UP OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-UP"],">"],["<SYNTAX CLIMB DOWN = ",["Id","V-CLIMB-DOWN"],">"],["<SYNTAX CLIMB DOWN OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-DOWN"],">"],["<SYNTAX CLIMB OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-FOO"],">"],["<SYNTAX CLIMB IN OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-BOARD"]," ",["Id","PRE-BOARD"],">"],["<SYNTAX CLIMB ON OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-ON"],">"],["<SYNTAX CLIMB WITH OBJECT = ",["Id","V-THROUGH"],">"],["<SYNONYM CLIMB SIT>"],[],["<SYNTAX CLOSE OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-CLOSE"],">"],[],["<SYNTAX COMMAND OBJECT (FIND ACTORBIT) = ",["Id","V-COMMAND"],">"],[],["<SYNTAX COUNT OBJECT = ",["Id","V-COUNT"],">"],[],["<SYNTAX CROSS OBJECT = ",["Id","V-CROSS"],">"],["<SYNONYM CROSS FORD>"],[],["<SYNTAX CUT OBJECT WITH OBJECT (FIND WEAPONBIT) (CARRIED HELD) = ",["Id","V-CUT"],">"],["<SYNONYM CUT SLICE PIERCE>"],[],["<SYNTAX CURSE = ",["Id","V-CURSES"],">"],["<SYNTAX CURSE OBJECT (FIND ACTORBIT) = ",["Id","V-CURSES"],">"],["<SYNONYM CURSE SHIT FUCK DAMN>"],[],["<SYNTAX ",["Id","DEFLATE"]," OBJECT = ",["Id","V-DEFLATE"],">"],[],["<SYNTAX DESTROY OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\tWITH OBJECT (HELD CARRIED TAKE)\t= ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],["<SYNTAX DESTROY DOWN OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\tWITH OBJECT (HELD CARRIED TAKE)\t= ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],["<SYNTAX DESTROY IN OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-OPEN"],">"],["<SYNONYM DESTROY DAMAGE BREAK BLOCK SMASH>"],[],["<SYNTAX DIG IN OBJECT (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND TOOLBIT) (HELD CARRIED HAVE) = ",["Id","V-DIG"],">"],["<SYNTAX DIG OBJECT (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND TOOLBIT) (HELD CARRIED HAVE) = ",["Id","V-DIG"],">"],[],["<SYNTAX DISEMBARK OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM)"],["\t= ",["Id","V-DISEMBARK"],">"],[],["<SYNTAX DISENCHANT OBJECT = ",["Id","V-DISENCHANT"],">"],[],["<SYNTAX DRINK OBJECT (FIND DRINKBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t= ",["Id","V-DRINK"],">"],["<SYNTAX DRINK FROM OBJECT (HELD CARRIED) = ",["Id","V-DRINK-FROM"],">"],["<SYNONYM DRINK IMBIBE SWALLOW>"],[],["<SYNTAX DROP OBJECT (HELD MANY HAVE) = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX DROP OBJECT (HELD MANY HAVE) DOWN OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX DROP OBJECT (HELD MANY HAVE) IN OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX DROP OBJECT (HELD MANY HAVE) ON OBJECT = ",["Id","V-PUT-ON"]," ",["Id","PRE-PUT"],">"],["<SYNONYM DROP RELEASE>"],[],["<SYNTAX EAT OBJECT (FIND FOODBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= ",["Id","V-EAT"],">"],["<SYNONYM EAT CONSUME TASTE BITE>"],[],["<SYNTAX ECHO = ",["Id","V-ECHO"],">"],[],["<SYNTAX ENCHANT OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-ENCHANT"],">"],[],["<SYNTAX ENTER = ",["Id","V-ENTER"],">"],["<SYNTAX ENTER OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX EXIT = ",["Id","V-EXIT"],">"],["<SYNTAX EXIT OBJECT = ",["Id","V-EXIT"],">"],[],["<SYNTAX EXAMINE OBJECT (MANY) = ",["Id","V-EXAMINE"],">"],["<SYNTAX EXAMINE IN OBJECT (HELD CARRIED IN-ROOM ON-GROUND MANY)"],["\t= ",["Id","V-LOOK-INSIDE"],">"],["<SYNTAX EXAMINE ON OBJECT (HELD CARRIED IN-ROOM ON-GROUND MANY)"],["\t= ",["Id","V-LOOK-INSIDE"],">"],["<SYNONYM EXAMINE DESCRIBE WHAT WHATS>"],[],["<SYNTAX EXORCISE OBJECT = ",["Id","V-EXORCISE"],">"],["<SYNTAX EXORCISE OUT OBJECT (FIND ACTORBIT) = ",["Id","V-EXORCISE"],">"],["<SYNTAX EXORCISE AWAY OBJECT (FIND ACTORBIT) = ",["Id","V-EXORCISE"],">"],["<SYNONYM EXORCISE BANISH CAST DRIVE BEGONE>"],[],["<SYNTAX EXTINGUISH OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-OFF"],">"],["<SYNONYM EXTINGUISH DOUSE>"],[],["<SYNTAX FILL OBJECT (FIND CONTBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT = ",["Id","V-FILL"]," ",["Id","PRE-FILL"],">"],["<SYNTAX FILL OBJECT (FIND CONTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-FILL"]," ",["Id","PRE-FILL"],">"],[],["<SYNTAX FIND OBJECT = ",["Id","V-FIND"],">"],["<SYNONYM FIND WHERE SEEK SEE>"],[],["<SYNTAX FOLLOW = ",["Id","V-FOLLOW"],">"],["<SYNTAX FOLLOW OBJECT = ",["Id","V-FOLLOW"],">"],["<SYNONYM FOLLOW PURSUE CHASE COME>"],[],["<SYNTAX FROBOZZ = ",["Id","V-FROBOZZ"],">"],[],["<SYNTAX GIVE OBJECT (MANY HELD HAVE)"],["\tTO OBJECT (FIND ACTORBIT) (ON-GROUND) = ",["Id","V-GIVE"]," ",["Id","PRE-GIVE"],">"],["<SYNTAX GIVE OBJECT (FIND ACTORBIT) (ON-GROUND)"],["\tOBJECT (MANY HELD HAVE)\t= ",["Id","V-SGIVE"]," ",["Id","PRE-SGIVE"],">"],["<SYNTAX HAND OBJECT (MANY HELD HAVE)"],["\tTO OBJECT (FIND ACTORBIT) (ON-GROUND) = ",["Id","V-GIVE"]," ",["Id","PRE-GIVE"],">"],["<SYNTAX HAND OBJECT (FIND ACTORBIT) (ON-GROUND)"],["\tOBJECT (MANY HELD HAVE)\t= ",["Id","V-SGIVE"]," ",["Id","PRE-SGIVE"],">"],["<SYNONYM GIVE DONATE OFFER FEED>"],[],["<SYNTAX HATCH OBJECT = ",["Id","V-HATCH"],">"],[],["<SYNTAX HELLO = ",["Id","V-HELLO"],">"],["<SYNTAX HELLO OBJECT = ",["Id","V-HELLO"],">"],["<SYNONYM HELLO HI>"],[],["<SYNTAX INCANT = ",["Id","V-INCANT"],">"],["<SYNONYM INCANT CHANT>"],[],["<SYNTAX INFLAT OBJECT WITH"],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-INFLATE"],">"],[],["<SYNTAX IS OBJECT IN OBJECT = ",["Id","V-IS-IN"],">"],["<SYNTAX IS OBJECT ON OBJECT = ",["Id","V-IS-IN"],">"],[],["<SYNTAX JUMP = ",["Id","V-LEAP"],">"],["<SYNTAX JUMP OVER OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX JUMP ACROSS OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX JUMP IN OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX JUMP FROM OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX JUMP OFF OBJECT = ",["Id","V-LEAP"],">"],["<SYNONYM JUMP LEAP DIVE>"],[],["<SYNTAX KICK OBJECT = ",["Id","V-KICK"],">"],["<SYNONYM KICK TAUNT>"],[],["<SYNTAX KILL OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-ATTACK"],">"],["<SYNONYM KILL MURDER SLAY DISPATCH>"],[],["<SYNTAX STAB OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-STAB"],">"],["<SYNTAX STAB OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-ATTACK"],">"],[],["<SYNTAX KISS OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-KISS"],">"],[],["<SYNTAX KNOCK AT OBJECT = ",["Id","V-KNOCK"],">"],["<SYNTAX KNOCK ON OBJECT = ",["Id","V-KNOCK"],">"],["<SYNTAX KNOCK DOWN OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ATTACK"],">"],["<SYNONYM KNOCK RAP>"],[],["<SYNTAX LAUNCH OBJECT (FIND VEHBIT) = ",["Id","V-LAUNCH"],">"],[],["<SYNTAX LEAN ON OBJECT (HELD HAVE) = ",["Id","V-LEAN-ON"],">"],[],["<SYNTAX LEAVE = ",["Id","V-LEAVE"],">"],["<SYNTAX LEAVE OBJECT = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],[],["<SYNTAX LIGHT OBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-ON"],">"],["<SYNTAX LIGHT OBJECT (FIND LIGHTBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED TAKE HAVE) = ",["Id","V-BURN"]," ",["Id","PRE-BURN"],">"],[],["<SYNTAX LISTEN TO OBJECT = ",["Id","V-LISTEN"],">"],["<SYNTAX LISTEN FOR OBJECT = ",["Id","V-LISTEN"],">"],[],["<SYNTAX LOCK OBJECT (ON-GROUND IN-ROOM)\tWITH"],["\tOBJECT (FIND TOOLBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE) = ",["Id","V-LOCK"],">"],[],["<SYNTAX LOOK = ",["Id","V-LOOK"],">"],["<SYNTAX LOOK AROUND OBJECT (FIND RMUNGBIT) = ",["Id","V-LOOK"],">"],["<SYNTAX LOOK UP OBJECT (FIND RMUNGBIT) = ",["Id","V-LOOK"],">"],["<SYNTAX LOOK DOWN OBJECT (FIND RMUNGBIT) = ",["Id","V-LOOK"],">"],["<SYNTAX LOOK AT OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-EXAMINE"],">"],["<SYNTAX LOOK ON OBJECT = ",["Id","V-LOOK-ON"],">"],["<SYNTAX LOOK WITH OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-LOOK-INSIDE"],">"],["<SYNTAX LOOK UNDER OBJECT = ",["Id","V-LOOK-UNDER"],">"],["<SYNTAX LOOK BEHIND OBJECT = ",["Id","V-LOOK-BEHIND"],">"],["<SYNTAX LOOK IN OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = ",["Id","V-LOOK-INSIDE"],">"],["<SYNTAX LOOK AT OBJECT (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT = ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX LOOK FOR OBJECT = ",["Id","V-FIND"],">"],["<SYNONYM LOOK L STARE GAZE>"],[],["<SYNTAX LOWER OBJECT = ",["Id","V-LOWER"],">"],[],["<SYNTAX LUBRICATE OBJECT WITH OBJECT (HELD CARRIED) = ",["Id","V-OIL"],">"],["<SYNONYM LUBRICATE OIL GREASE>"],[],["<SYNTAX MAKE OBJECT = ",["Id","V-MAKE"],">"],[],["<SYNTAX MELT OBJECT"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-MELT"],">"],["<SYNONYM MELT LIQUIFY>"],[],["<SYNTAX MOVE OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX MOVE OBJECT (HELD MANY HAVE) IN OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX MOVE OBJECT WITH OBJECT (FIND TOOLBIT) = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX ROLL UP OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX ROLL OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],[],["<SYNTAX MUMBLE = ",["Id","V-MUMBLE"],">"],["<SYNONYM MUMBLE SIGH>"],[],["<SYNTAX ODYSSEUS = ",["Id","V-ODYSSEUS"],">"],["<SYNONYM ODYSSEUS ULYSSES>"],[],["<SYNTAX OPEN OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-OPEN"],">"],["<SYNTAX OPEN UP\tOBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t= ",["Id","V-OPEN"],">"],["<SYNTAX OPEN OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) WITH"],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE) = ",["Id","V-OPEN"],">"],[],["<SYNTAX PICK OBJECT = ",["Id","V-PICK"],">"],["<SYNTAX PICK OBJECT WITH OBJECT = ",["Id","V-PICK"],">"],["<SYNTAX PICK UP\tOBJECT (FIND TAKEBIT) (ON-GROUND MANY) = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],[],["<SYNTAX PLAY OBJECT = ",["Id","V-PLAY"],">"],[],["<SYNTAX PLUG OBJECT WITH OBJECT = ",["Id","V-PLUG"],">"],["<SYNONYM PLUG GLUE PATCH REPAIR FIX>"],[],["<SYNTAX PLUGH = ",["Id","V-ADVENT"],">"],["<SYNONYM PLUGH XYZZY>"],[],["<SYNTAX POKE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],["<SYNTAX PUNCTURE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-MUNG"]," ",["Id","PRE-MUNG"],">"],[],["<SYNTAX POUR OBJECT (HELD CARRIED) = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX POUR OBJECT (HELD CARRIED) IN OBJECT = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX POUR OBJECT (HELD CARRIED) ON OBJECT = ",["Id","V-POUR-ON"],">"],["<SYNTAX POUR OBJECT (HELD CARRIED) FROM OBJECT = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNONYM POUR SPILL>"],[],["<SYNTAX PRAY = ",["Id","V-PRAY"],">"],[],["<SYNTAX PULL OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX PULL ON OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNTAX PULL UP OBJECT (ON-GROUND IN-ROOM) = ",["Id","V-MOVE"]," ",["Id","PRE-MOVE"],">"],["<SYNONYM PULL TUG YANK>"],[],["<SYNTAX ",["Id","PUMP"]," UP OBJECT = ",["Id","V-PUMP"],">"],["<SYNTAX ",["Id","PUMP"]," UP OBJECT WITH OBJECT = ",["Id","V-PUMP"],">"],[],["<SYNTAX PUSH OBJECT (IN-ROOM ON-GROUND) OBJECT = ",["Id","V-PUSH-TO"],">"],["<SYNTAX PUSH OBJECT (IN-ROOM ON-GROUND) TO OBJECT = ",["Id","V-PUSH-TO"],">"],["<SYNTAX PUSH OBJECT (IN-ROOM ON-GROUND MANY) = ",["Id","V-PUSH"],">"],["<SYNTAX PUSH ON OBJECT (IN-ROOM ON-GROUND MANY) = ",["Id","V-PUSH"],">"],["<SYNTAX PUSH OBJECT WITH OBJECT (FIND TOOLBIT) = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX PUSH OBJECT UNDER OBJECT = ",["Id","V-PUT-UNDER"],">"],["<SYNONYM PUSH PRESS>"],[],["<SYNTAX PUT OBJECT (HELD MANY HAVE) IN OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX PUT OBJECT (HELD MANY HAVE) ON OBJECT = ",["Id","V-PUT-ON"]," ",["Id","PRE-PUT"],">"],["<SYNTAX PUT DOWN OBJECT (HELD MANY) = ",["Id","V-DROP"]," ",["Id","PRE-DROP"],">"],["<SYNTAX PUT OBJECT (HELD HAVE) UNDER OBJECT = ",["Id","V-PUT-UNDER"],">"],["<SYNTAX PUT OUT OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-OFF"],">"],["<SYNTAX PUT ON OBJECT (IN-ROOM ON-GROUND CARRIED MANY) = ",["Id","V-WEAR"],">"],["<SYNTAX PUT OBJECT (HELD MANY HAVE) BEHIND OBJECT = ",["Id","V-PUT-BEHIND"],">"],["<SYNONYM PUT STUFF INSERT PLACE HIDE>"],[],["<SYNTAX RAISE OBJECT = ",["Id","V-RAISE"],">"],["<SYNTAX RAISE UP OBJECT = ",["Id","V-RAISE"],">"],["<SYNONYM RAISE LIFT>"],[],["<SYNTAX RAPE OBJECT (FIND ACTORBIT) = ",["Id","V-RAPE"],">"],["<SYNONYM RAPE MOLEST>"],[],["<SYNTAX READ OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX READ FROM OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX READ OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\tWITH OBJECT = ",["Id","V-READ"]," ",["Id","PRE-READ"],">"],["<SYNTAX READ OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\tOBJECT = ",["Id","V-READ-PAGE"],">"],["<SYNONYM READ SKIM>"],[],["<SYNTAX REPENT = ",["Id","V-REPENT"],">"],[],["<SYNTAX RING OBJECT (TAKE) = ",["Id","V-RING"],">"],["<SYNTAX RING OBJECT (TAKE) WITH OBJECT = ",["Id","V-RING"],">"],["<SYNONYM RING PEAL>"],[],["<SYNTAX RUB OBJECT = ",["Id","V-RUB"],">"],["<SYNTAX RUB OBJECT WITH OBJECT = ",["Id","V-RUB"],">"],["<SYNONYM RUB TOUCH FEEL PAT PET>"],[],["<SYNTAX TALK TO OBJECT (FIND ACTORBIT) (IN-ROOM) = ",["Id","V-TELL"],">"],["<SYNTAX SAY = ",["Id","V-SAY"],">"],[],["<SYNTAX SEARCH OBJECT = ",["Id","V-SEARCH"],">"],["<SYNTAX SEARCH IN OBJECT = ",["Id","V-SEARCH"],">"],["<SYNTAX SEARCH FOR OBJECT = ",["Id","V-FIND"],">"],[],["<SYNTAX SEND FOR OBJECT = ",["Id","V-SEND"],">"],[],["<SYNTAX SHAKE OBJECT (HAVE) = ",["Id","V-SHAKE"],">"],[],["<SYNTAX SKIP = ",["Id","V-SKIP"],">"],["<SYNONYM SKIP HOP>"],[],[["Comment",";<SYNTAX SLIDE OBJECT = V-PUSH>"]],["<SYNTAX ",["Id","SLIDE"]," OBJECT UNDER OBJECT = ",["Id","V-PUT-UNDER"],">"],["<SYNTAX ",["Id","SLIDE"]," OBJECT (IN-ROOM ON-GROUND) OBJECT = ",["Id","V-PUSH-TO"],">"],["<SYNTAX ",["Id","SLIDE"]," OBJECT (IN-ROOM ON-GROUND) TO OBJECT = ",["Id","V-PUSH-TO"],">"],[],["<SYNTAX SMELL OBJECT = ",["Id","V-SMELL"],">"],["<SYNONYM SMELL SNIFF>"],[],["<SYNTAX SPIN OBJECT = ",["Id","V-SPIN"],">"],[],["<SYNTAX SPRAY OBJECT ON OBJECT = ",["Id","V-SPRAY"],">"],["<SYNTAX SPRAY OBJECT WITH OBJECT = ",["Id","V-SSPRAY"],">"],[],["<SYNTAX SQUEEZE OBJECT = ",["Id","V-SQUEEZE"],">"],["<SYNTAX SQUEEZE OBJECT ON OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],[],["<SYNTAX STAND = ",["Id","V-STAND"],">"],["<SYNTAX STAND UP OBJECT (FIND RMUNGBIT) = ",["Id","V-STAND"],">"],[],["<SYNTAX STAY = ",["Id","V-STAY"],">"],[],["<SYNTAX STRIKE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) WITH OBJECT"],["\t(FIND WEAPONBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE) = ",["Id","V-ATTACK"],">"],["<SYNTAX STRIKE OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-STRIKE"],">"],[],["<SYNTAX SWIM = ",["Id","V-SWIM"],">"],["<SYNTAX SWIM IN OBJECT = ",["Id","V-SWIM"],">"],["<SYNONYM SWIM BATHE WADE>"],[],["<SYNTAX SWING OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = ",["Id","V-SWING"],">"],["<SYNTAX SWING OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE)"],["\tAT OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-SWING"],">"],["<SYNONYM SWING THRUST>"],[],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (ON-GROUND IN-ROOM MANY) = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNTAX TAKE IN OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-BOARD"]," ",["Id","PRE-BOARD"],">"],["<SYNTAX TAKE OUT OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-DISEMBARK"],">"],["<SYNTAX TAKE ON OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-ON"],">"],["<SYNTAX TAKE UP OBJECT (FIND RMUNGBIT) = ",["Id","V-STAND"],">"],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (CARRIED IN-ROOM MANY)"],["\tOUT OBJECT = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (CARRIED IN-ROOM MANY)"],["\tOFF OBJECT = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (IN-ROOM CARRIED MANY)"],["\tFROM OBJECT = ",["Id","V-TAKE"]," ",["Id","PRE-TAKE"],">"],["<SYNONYM TAKE GET HOLD CARRY REMOVE GRAB CATCH>"],[],["<SYNTAX TELL OBJECT (FIND ACTORBIT) (IN-ROOM) = ",["Id","V-TELL"],">"],["<SYNONYM TELL ASK>"],[],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE)"],["\tAT OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-THROW"],">"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE)"],["\tWITH OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-THROW"],">"],["<SYNTAX THROW OBJECT OBJECT = ",["Id","V-OVERBOARD"],">"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) IN OBJECT = ",["Id","V-PUT"]," ",["Id","PRE-PUT"],">"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) ON OBJECT = ",["Id","V-PUT-ON"]," ",["Id","PRE-PUT"],">"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) OFF OBJECT = ",["Id","V-THROW-OFF"],">"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) OVER OBJECT = ",["Id","V-THROW-OFF"],">"],["<SYNONYM THROW HURL CHUCK TOSS>"],[],["<SYNTAX TIE OBJECT TO OBJECT = ",["Id","V-TIE"],">"],["<SYNTAX TIE UP OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) WITH OBJECT"],["\t(FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE) = ",["Id","V-TIE-UP"],">"],["<SYNONYM TIE FASTEN SECURE ATTACH>"],[],["<SYNTAX TREASURE = ",["Id","V-TREASURE"],">"],["<SYNONYM TREASURE TEMPLE>"],[],["<SYNTAX TURN OBJECT (FIND TURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE)"],["\t= ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX TURN ON\tOBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = ",["Id","V-LAMP-ON"],">"],["<SYNTAX TURN ON OBJECT WITH OBJECT (HAVE) = ",["Id","V-LAMP-ON"],">"],["<SYNTAX TURN OFF OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = ",["Id","V-LAMP-OFF"],">"],["<SYNTAX TURN OBJECT (FIND TURNBIT) TO OBJECT = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],["<SYNTAX TURN OBJECT (FIND TURNBIT) FOR OBJECT = ",["Id","V-TURN"]," ",["Id","PRE-TURN"],">"],[["Comment",";<SYNTAX TURN OBJECT (FIND TURNBIT) = V-TURN PRE-TURN>"]],["<SYNONYM TURN SET FLIP SHUT>"],[],["<SYNTAX UNLOCK OBJECT (ON-GROUND IN-ROOM) WITH OBJECT"],["\t(FIND TOOLBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE) = ",["Id","V-UNLOCK"],">"],[],["<SYNTAX UNTIE OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = ",["Id","V-UNTIE"],">"],["<SYNTAX UNTIE OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\tFROM OBJECT = ",["Id","V-UNTIE"],">"],["<SYNONYM UNTIE FREE RELEASE UNFASTEN UNATTACH UNHOOK>"],[],["<SYNTAX WAIT = ",["Id","V-WAIT"],">"],["<SYNONYM WAIT Z>"],[],["<SYNTAX WAKE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ALARM"],">"],["<SYNTAX WAKE UP OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = ",["Id","V-ALARM"],">"],["<SYNONYM WAKE AWAKE SURPRISE STARTLE>"],[],["<SYNTAX WALK OBJECT = ",["Id","V-WALK"],">"],["<SYNTAX WALK AWAY OBJECT = ",["Id","V-WALK"],">"],["<SYNTAX WALK IN OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX WALK WITH OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX WALK ON OBJECT = ",["Id","V-THROUGH"],">"],["<SYNTAX WALK OVER OBJECT = ",["Id","V-LEAP"],">"],["<SYNTAX WALK TO OBJECT = ",["Id","V-WALK-TO"],">"],["<SYNTAX WALK AROUND OBJECT = ",["Id","V-WALK-AROUND"],">"],["<SYNTAX WALK UP OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-UP"],">"],["<SYNTAX WALK DOWN OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = ",["Id","V-CLIMB-DOWN"],">"],["<SYNONYM WALK ",["Id","GO"]," RUN PROCEED STEP>"],[],["<SYNTAX WAVE OBJECT (HELD CARRIED TAKE HAVE) = ",["Id","V-WAVE"],">"],["<SYNTAX WAVE OBJECT (HELD CARRIED TAKE HAVE) AT OBJECT = ",["Id","V-WAVE"],">"],["<SYNONYM WAVE BRANDISH>"],[],["<SYNTAX WEAR OBJECT = ",["Id","V-WEAR"],">"],[],["<SYNTAX WIN = ",["Id","V-WIN"],">"],["<SYNONYM WIN WINNAGE>"],[],["<SYNTAX WIND OBJECT = ",["Id","V-WIND"],">"],["<SYNTAX WIND UP OBJECT = ",["Id","V-WIND"],">"],[],["<SYNTAX WISH = ",["Id","V-WISH"],">"],[],["<SYNTAX YELL = ",["Id","V-YELL"],">"],["<SYNONYM YELL SCREAM SHOUT>"],[],["<SYNTAX ZORK = ",["Id","V-ZORK"],">"]],"gverbs.zil":[["\t\t\t",["Str","\"Generic VERBS file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/25/83 by SEM\""]],[],["^L"],[],[["Str","\"Verb Functions for Game Commands\""]],[],["<GLOBAL ",["Iddef","VERBOSE"]," <>>"],["<GLOBAL ",["Iddef","SUPER-BRIEF"]," <>>"],["<GDECL (",["Id","VERBOSE"]," ",["Id","SUPER-BRIEF"],") <OR ATOM FALSE>>"],[],["<ROUTINE ",["Iddef","V-VERBOSE"]," ()"],["\t <SETG ",["Id","VERBOSE"]," T>"],["\t <SETG ",["Id","SUPER-BRIEF"]," <>>"],["\t <TELL ",["Str","\"Maximum verbosity.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-BRIEF"]," ()"],["\t <SETG ",["Id","VERBOSE"]," <>>"],["\t <SETG ",["Id","SUPER-BRIEF"]," <>>"],["\t <TELL ",["Str","\"Brief descriptions.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SUPER-BRIEF"]," ()"],["\t <SETG ",["Id","SUPER-BRIEF"]," T>"],["\t <TELL ",["Str","\"Super-brief descriptions.\""]," CR>>"],[],[["Comment",";\"V-DIAGNOSE is in ACTIONS.ZIL\""]],[],["<ROUTINE ",["Iddef","V-INVENTORY"]," ()"],["\t <COND (<FIRST? ,",["Id","WINNER"],"> <",["Id","PRINT-CONT"]," ,",["Id","WINNER"],">)"],["\t       (T <TELL ",["Str","\"You are empty-handed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-QUIT"]," (",["Str","\"OPTIONAL\""]," (",["Localid","ASK?"]," T) ",["Str","\"AUX\""]," ",["Localid","SCOR"],")"],["\t <",["Id","V-SCORE"],">"],["\t <COND (<OR <AND .",["Localid","ASK?"]],["\t\t\t <TELL"],[["Str","\"Do you wish to leave the game? (Y is affirmative): \""],">"],["\t\t\t <",["Id","YES?"],">>"],["\t\t    <NOT .",["Localid","ASK?"],">>"],["\t\t<QUIT>)"],["\t       (ELSE <TELL ",["Str","\"Ok.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-RESTART"]," ()"],["\t <",["Id","V-SCORE"]," T>"],["\t <TELL ",["Str","\"Do you wish to restart? (Y is affirmative): \""],">"],["\t <COND (<",["Id","YES?"],">"],["\t\t<TELL ",["Str","\"Restarting.\""]," CR>"],["\t\t<RESTART>"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-RESTORE"]," ()"],["\t <COND (<RESTORE>"],["\t\t<TELL ",["Str","\"Ok.\""]," CR>"],["\t\t<",["Id","V-FIRST-LOOK"],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-SAVE"]," ()"],["\t <COND (<SAVE>"],["\t        <TELL ",["Str","\"Ok.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],[["Comment",";\"V-SCORE is in ACTIONS.ZIL\""]],[],["<ROUTINE ",["Iddef","V-SCRIPT"]," ()"],["\t<PUT 0 8 <BOR <GET 0 8> 1>>"],["\t<TELL ",["Str","\"Here begins a transcript of interaction with\""]," CR>"],["\t<",["Id","V-VERSION"],">"],["\t<RTRUE>>"],[],["<ROUTINE ",["Iddef","V-UNSCRIPT"]," ()"],["\t<TELL ",["Str","\"Here ends a transcript of interaction with\""]," CR>"],["\t<",["Id","V-VERSION"],">"],["\t<PUT 0 8 <BAND <GET 0 8> -2>>"],["\t<RTRUE>>"],[],["<ROUTINE ",["Iddef","V-VERSION"]," (",["Str","\"AUX\""]," (",["Localid","CNT"]," 17))"],["\t%<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t'<TELL ",["Str","\"ZORK I: The Great Underground Empire|"]],[["Str","Copyright (c) 1981, 1982, 1983 Infocom, Inc. \""],">)"],["\t       ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t'<TELL \"ZORK II: The Wizard of Frobozz|"]],[["Ifndef","***RENOVATED VERSION***|"]],[["Ifndef","Copyright (c) 1981, 1982, 1983 Infocom, Inc. \">)"]],["\t       ",["Ifndef","(T"]],[["Ifndef","\t\t'<TELL \"ZORK III: The Dungeon Master|"]],[["Ifndef","Copyright (c) 1982, 1983 Infocom, Inc. \">)"],">"],["\t<TELL ",["Str","\"All rights reserved.\""]," CR>"],["\t<COND (<NOT <==? <BAND <GETB 0 1> 8> 0>>"],["\t       <TELL ",["Str","\"Licensed to Tandy Corporation.\""]," CR>)>"],["\t<TELL ",["Str","\"ZORK is a registered trademark of Infocom, Inc.|"]],[["Str","Revision \""],">"],["\t<PRINTN <BAND <GET 0 1> *3777*>>"],["\t<TELL ",["Str","\" / Serial number \""],">"],["\t<REPEAT ()"],["\t\t<COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> 23>"],["\t\t       <RETURN>)"],["\t\t      (T"],["\t\t       <PRINTC <GETB 0 .",["Localid","CNT"],">>)>>"],["\t<CRLF>>"],[],["<ROUTINE ",["Iddef","V-VERIFY"]," ()"],["\t <TELL ",["Str","\"Verifying disk...\""]," CR>"],["\t <COND (<VERIFY>"],["\t\t<TELL ",["Str","\"The disk is correct.\""]," CR>)"],["\t       (T"],["\t\t<TELL CR ",["Str","\"** Disk Failure **\""]," CR>)>>"],[],["^L"],[],[["Str","\"Real Verb Functions\""]],[],["<ROUTINE ",["Iddef","V-ADVENT"]," ()"],["\t <TELL ",["Str","\"A hollow voice says \\\"Fool.\\\"\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-AGAIN"]," (",["Str","\"AUX\""]," (",["Localid","OBJ"]," <>))"],["\t <COND (<EQUAL? ,",["Id","L-PRSA"]," ,V?WALK>"],["\t\t<",["Id","PERFORM"]," ,",["Id","L-PRSA"]," ,",["Id","L-PRSO"],">)"],["\t       (T"],["\t\t<COND (,",["Id","L-PRSO"]],["\t\t       <COND (<OR <NOT <LOC ,",["Id","L-PRSO"],">>"],["\t\t\t\t  <FSET? ,",["Id","L-PRSO"]," ,INVISIBLE>>"],["\t\t\t      <SET ",["Localid","OBJ"]," ,",["Id","L-PRSO"],">)>)>"],["\t\t<COND (,",["Id","L-PRSI"]],["\t\t       <COND (<OR <NOT <LOC ,",["Id","L-PRSI"],">>"],["\t\t\t\t  <FSET? ,",["Id","L-PRSI"]," ,INVISIBLE>>"],["\t\t\t      <SET ",["Localid","OBJ"]," ,",["Id","L-PRSI"],">)>)>"],["\t\t<COND (<AND .",["Localid","OBJ"]],["\t\t\t    <NOT <EQUAL? .",["Localid","OBJ"]," ,",["Id","PSEUDO-OBJECT"]," ,",["Id","ROOMS"],">>>"],["\t\t       <TELL ",["Str","\"You can't see the \""]," D .",["Localid","OBJ"]," ",["Str","\" anymore.\""]," CR>"],["\t\t       <RFATAL>)"],["\t\t      (T"],["\t\t       <",["Id","PERFORM"]," ,",["Id","L-PRSA"]," ,",["Id","L-PRSO"]," ,",["Id","L-PRSI"],">)>)>>"],[],["<ROUTINE ",["Iddef","V-ALARM"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t      '(<L? <GETP ,",["Id","PRSO"]," ,P?STRENGTH> 0>"],["\t\t                <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is rudely awakened.\""]," CR>"],["\t\t                <",["Id","AWAKEN"]," ,",["Id","PRSO"],">))"],["\t\t\t     ",["Ifndef","(T"]],[["Ifndef","\t\t\t      '(<NULL-F> <RTRUE>))"],">"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"He's wide awake, or haven't you noticed...\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" isn't sleeping.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-ANSWER"]," ()"],["\t <TELL ",["Str","\"Nobody seems to be awaiting your answer.\""]," CR>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-ATTACK"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,ACTORBIT>>"],["\t\t<TELL"],[["Str","\"I've known strange people, but fighting a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)"],["\t       (<OR <NOT ,",["Id","PRSI"],">"],["\t\t    <EQUAL? ,",["Id","PRSI"]," ,",["Id","HANDS"],">>"],["\t\t<TELL"],[["Str","\"Trying to attack a \""]," D ,",["Id","PRSO"]," ",["Str","\" with your bare hands is suicidal.\""]," CR>)"],["\t       (<NOT <IN? ,",["Id","PRSI"]," ,",["Id","WINNER"],">>"],["\t\t<TELL ",["Str","\"You aren't even holding the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t       (<NOT <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>>"],["\t\t<TELL"],[["Str","\"Trying to attack the \""]," D ,",["Id","PRSO"]," ",["Str","\" with a \""]," D ,",["Id","PRSI"]," ",["Str","\" is suicidal.\""]," CR>)"],["\t       (T"],["\t        %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t'<",["Id","HERO-BLOW"],">)"],["\t\t       ",["Ifndef","(T"]],[["Ifndef","\t\t\t'<TELL \"You can't.\" CR>)"],">)>>"],[],["<ROUTINE ",["Iddef","V-BACK"]," ()"],["\t <TELL ",["Str","\"Sorry, my memory is poor. Please give a direction.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-BLAST"]," ()"],["\t <TELL ",["Str","\"You can't blast anything by using words.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-BOARD"]," (",["Str","\"AUX\""]," ",["Localid","AV"],")"],["\t <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,WATER-CHANNEL>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (<FSET? ,",["Id","PRSO"]," ,VEHBIT>"],["\t\t<COND (<NOT <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" must be on the ground to be boarded.\""]," CR>)"],["\t\t      (<FSET? .",["Localid","AV"]," ,VEHBIT>"],["\t\t       <TELL ",["Str","\"You are already in the \""]," D .",["Localid","AV"]," ",["Str","\"!\""]," CR>)"],["\t\t      (T"],["\t\t       <RFALSE>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You have a theory on how to board a \""]," D ,",["Id","PRSO"]," ",["Str","\", perhaps?\""]," CR>)>"],["\t <RFATAL>>"],[],["<ROUTINE ",["Iddef","V-BOARD"]," (",["Str","\"AUX\""]," ",["Localid","AV"],")"],["\t <TELL ",["Str","\"You are now in the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t <MOVE ,",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t <APPLY <GETP ,",["Id","PRSO"]," ,P?ACTION> ,",["Id","M-ENTER"],">"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-BREATHE"]," ()"],["\t <",["Id","PERFORM"]," ,V?INFLATE ,",["Id","PRSO"]," ,",["Id","LUNGS"],">>"],[],["<ROUTINE ",["Iddef","V-BRUSH"]," ()"],["\t <TELL ",["Str","\"If you wish, but heaven only knows why.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-BUG"]," ()"],["\t <TELL"],[["Str","\"Bug? Not in a flawless program like this! (Cough, cough).\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-BURN"]," ()"],["\t <COND (<FLAMING? ,",["Id","PRSI"],">"],["\t        <RFALSE>)"],["\t       (T"],["\t        <TELL ",["Str","\"With a \""]," D ,",["Id","PRSI"]," ",["Str","\"??!?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-BURN"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t       '(<EQUAL? <LOC ,PRSO> ,RECEPTACLE>"]],[["Ifndef","\t\t         <BALLOON-BURN>"]],[["Ifndef","\t\t         <RTRUE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RFALSE>))>"],["\t       (<FSET? ,",["Id","PRSO"]," ,BURNBIT>"],["\t\t<COND (<OR <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t\t   <IN? ,",["Id","WINNER"]," ,",["Id","PRSO"],">>"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"],">"],["\t\t       <TELL"],[["Str","\" catches fire. Unfortunately, you were \""],">"],["\t\t       <COND (<IN? ,",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t\t\t      <TELL ",["Str","\"in\""],">)"],["\t\t\t     (T <TELL ",["Str","\"holding\""],">)>"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\" it at the time.\""],">)"],["\t\t      (T"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" catches fire and is consumed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't burn a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CHOMP"]," ()"],["\t <TELL ",["Str","\"Preposterous!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-CLIMB-DOWN"]," () <",["Id","V-CLIMB-UP"]," ,P?DOWN ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-CLIMB-FOO"]," ()"],["\t <",["Id","V-CLIMB-UP"]," ,P?UP ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-CLIMB-ON"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,VEHBIT>"],["\t\t<",["Id","PERFORM"]," ,V?BOARD ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't climb onto the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CLIMB-UP"]," (",["Str","\"OPTIONAL\""]," (",["Localid","DIR"]," ,P?UP) (",["Localid","OBJ"]," <>) ",["Str","\"AUX\""]," ",["Localid","X"]," ",["Localid","TX"],")"],["\t <COND (<AND <NOT .",["Localid","OBJ"],"> ,",["Id","PRSO"],">"],["\t\t<SET ",["Localid","OBJ"]," ,",["Id","PRSO"],">)>"],["\t <COND (<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","DIR"],">>"],["\t\t<COND (.",["Localid","OBJ"]],["\t\t       <SET ",["Localid","X"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t       <COND (<OR <EQUAL? .",["Localid","X"]," ,",["Id","NEXIT"],">"],["\t\t\t\t  <AND <EQUAL? .",["Localid","X"]," ,",["Id","CEXIT"]," ,",["Id","DEXIT"]," ,",["Id","UEXIT"],">"],["\t\t\t\t       <NOT <",["Id","GLOBAL-IN?"]," ,",["Id","PRSO"]," <GETB .",["Localid","TX"]," 0>>>>>"],["\t\t\t      <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" do\""],">"],["\t\t\t      <COND (<NOT <EQUAL? .",["Localid","OBJ"]," ,",["Id","STAIRS"],">>"],["\t\t\t\t     <TELL ",["Str","\"es\""],">)>"],["\t\t\t      <TELL ",["Str","\"n't lead \""],">"],["\t\t\t      <COND (<==? .",["Localid","DIR"]," ,P?UP>"],["\t\t\t\t     <TELL ",["Str","\"up\""],">)"],["\t\t\t\t    (T <TELL ",["Str","\"down\""],">)>"],["\t\t\t      <TELL ",["Str","\"ward.\""]," CR>"],["\t\t\t      <RTRUE>)>)>"],["\t\t<",["Id","DO-WALK"]," .",["Localid","DIR"],">"],["\t\t<RTRUE>)"],["\t       (<NOT .",["Localid","OBJ"],">"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>)"],["\t       (<AND .",["Localid","OBJ"]],["\t\t     <",["Id","ZMEMQ"]," ,W?WALL"],["\t\t\t    <SET ",["Localid","X"]," <GETPT ,",["Id","PRSO"]," ,P?SYNONYM>> <PTSIZE .",["Localid","X"],">>>"],["\t\t<TELL ",["Str","\"Climbing the walls is to no avail.\""]," CR>)"],["\t       (T"],["\t        <TELL ",["Str","\"You can't do that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CLOSE"]," ()"],["\t <COND (<AND <NOT <FSET? ,",["Id","PRSO"]," ,CONTBIT>>"],["\t\t     <NOT <FSET? ,",["Id","PRSO"]," ,DOORBIT>>>"],["\t\t<TELL ",["Str","\"You must tell me how to do that to a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t       (<AND <NOT <FSET? ,",["Id","PRSO"]," ,SURFACEBIT>>"],["\t\t     <NOT <EQUAL? <GETP ,",["Id","PRSO"]," ,P?CAPACITY> 0>>>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <FCLEAR ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"Closed.\""]," CR>"],["\t\t       <COND (<AND ,",["Id","LIT"]," <NOT <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>>>"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t \t       <TELL ",["Str","\"It is already closed.\""]," CR>)>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,DOORBIT>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <FCLEAR ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now closed.\""]," CR>)"],["\t\t      (T"],["\t \t       <TELL ",["Str","\"It is already closed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You cannot close that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-COMMAND"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" pays no attention.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You cannot talk to that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-COUNT"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","BLESSINGS"],">"],["\t \t<TELL ",["Str","\"Well, for one, you are playing Zork...\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You have lost your mind.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CROSS"]," ()"],["\t <TELL ",["Str","\"You can't cross that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-CURSES"]," ()"],["\t <COND (,",["Id","PRSO"]],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t       <TELL ",["Str","\"Insults of this nature won't help you.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"What a loony!\""]," CR>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"Such language in a high-class establishment like this!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-CUT"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSO"]," ,",["Id","PRSI"],">)"],["\t       (<AND <FSET? ,",["Id","PRSO"]," ,BURNBIT>"],["\t\t     <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>>"],["\t\t<COND (<IN? ,",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t\t       <TELL"],[["Str","\"Not a bright idea, especially since you're in it.\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"Your skillful \""]," D ,",["Id","PRSI"]," ",["Str","\"smanship slices the \""]," D ,",["Id","PRSO"]],[["Str","\" into innumerable slivers which blow away.\""]," CR>)"],["\t       (<NOT <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>>"],["\t\t<TELL"],[["Str","\"The \\\"cutting edge\\\" of a \""]," D ,",["Id","PRSI"]," ",["Str","\" is hardly adequate.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Strange concept, cutting the \""]," D ,",["Id","PRSO"]," ",["Str","\"....\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-DEFLATE"]," ()"],["\t <TELL ",["Str","\"Come on, now!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-DIG"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<SETG ",["Id","PRSI"]," ,",["Id","HANDS"],">)>"],["\t <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","SHOVEL"],">"],["\t\t<TELL ",["Str","\"There's no reason to be digging here.\""]," CR>)"],["\t       (<FSET? ,",["Id","PRSI"]," ,TOOLBIT>"],["\t\t<TELL ",["Str","\"Digging with the \""]," D ,",["Id","PRSI"]," ",["Str","\" is slow and tedious.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Digging with a \""]," D ,",["Id","PRSI"]," ",["Str","\" is silly.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-DISEMBARK"]," ()"],["\t <COND (<NOT <EQUAL? <LOC ,",["Id","WINNER"],"> ,",["Id","PRSO"],">>"],["\t\t<TELL ",["Str","\"You're not in that!\""]," CR>"],["\t\t<RFATAL>)"],["\t       (<FSET? ,",["Id","HERE"]," ,RLANDBIT>"],["\t\t<TELL ",["Str","\"You are on your own feet again.\""]," CR>"],["\t\t<MOVE ,",["Id","WINNER"]," ,",["Id","HERE"],">)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You realize that getting out here would be fatal.\""]," CR>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE ",["Iddef","V-DISENCHANT"]," ()"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t '<COND (<NOT <IN? ,PRSO ,HERE>>"]],[["Ifndef","\t\t         <RTRUE>)"]],[["Ifndef","\t                (<OR <EQUAL? ,SPELL-USED ,W?FEEBLE ,W?FUMBLE ,W?FEAR>"]],[["Ifndef","\t\t          <EQUAL? ,SPELL-USED ,W?FREEZE ,W?FALL ,W?FERMENT>"]],[["Ifndef","\t\t          <EQUAL? ,SPELL-USED ,W?FIERCE ,W?FENCE ,W?FANTASIZE>>"]],[["Ifndef","\t\t          <COND (<FSET? ,PRSO ,ACTORBIT>"]],[["Ifndef","\t\t                 <COND (<EQUAL? ,SPELL-USED ,W?FEEBLE>"]],[["Ifndef","\t\t\t                <TELL"]],[["Ifndef","\"The \" D ,PRSO \" seems stronger now.\" CR>)"]],[["Ifndef","\t\t\t               (<EQUAL? ,SPELL-USED ,W?FUMBLE>"]],[["Ifndef","\t\t\t                <TELL"]],[["Ifndef","\"The \" D ,PRSO \" no longer appears clumsy.\" CR>)"]],[["Ifndef","\t\t\t               (<EQUAL? ,SPELL-USED ,W?FEAR>"]],[["Ifndef","\t\t\t                <TELL"]],[["Ifndef","\"The \" D ,PRSO \" no longer appears afraid.\" CR>)"]],[["Ifndef","\t\t\t               (<EQUAL? ,SPELL-USED ,W?FREEZE>"]],[["Ifndef","\t\t\t                <TELL"]],[["Ifndef","\"The \" D ,PRSO \" moves again.\" CR>)"]],[["Ifndef","\t\t\t               (<EQUAL? ,SPELL-USED ,W?FERMENT>"]],[["Ifndef","\t\t\t                <TELL"]],[["Ifndef","\"The \" D ,PRSO \" stops swaying.\" CR>)"]],[["Ifndef","\t\t\t               (<EQUAL? ,SPELL-USED ,W?FIERCE>"]],[["Ifndef","\t\t\t                <TELL"]],[["Ifndef","\"The \" D ,PRSO \" appears more peaceful.\" CR>)>)>)"]],[["Ifndef","\t                        (<EQUAL? ,SPELL-USED ,W?FLOAT>"]],[["Ifndef","\t\t                 <TELL"]],[["Ifndef","\"The \" D ,PRSO \" sinks to the ground.\" CR>)"]],[["Ifndef","\t                        (<EQUAL? ,SPELL-USED ,W?FUDGE>"]],[["Ifndef","\t\t                 <TELL \"The sweet smell has dispersed.\" CR>)>)"]],["\t\t(T"],["\t\t '<TELL ",["Str","\"Nothing happens.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-DRINK"]," ()"],["\t <",["Id","V-EAT"],">>"],[],["<ROUTINE ",["Iddef","V-DRINK-FROM"]," ()"],["\t <TELL ",["Str","\"How peculiar!\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-DROP"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<",["Id","PERFORM"]," ,V?DISEMBARK ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-DROP"]," ()"],["\t <COND (<",["Id","IDROP"],">"],["\t\t<TELL ",["Str","\"Dropped.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-EAT"]," (",["Str","\"AUX\""]," (",["Localid","EAT?"]," <>) (",["Localid","DRINK?"]," <>) (",["Localid","NOBJ"]," <>))"],["\t <COND (<SET ",["Localid","EAT?"]," <FSET? ,",["Id","PRSO"]," ,FOODBIT>>"],["\t\t<COND (<AND <NOT <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">>"],["\t\t\t    <NOT <IN? <LOC ,",["Id","PRSO"],"> ,",["Id","WINNER"],">>>"],["\t\t       <TELL ",["Str","\"You're not holding that.\""]," CR>)"],["\t\t      (<VERB? DRINK>"],["\t\t       <TELL ",["Str","\"How can you drink that?\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Thank you very much. It really hit the spot.\""],">"],["\t\t       <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">)>"],["\t\t<CRLF>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,DRINKBIT>"],["\t\t<SET ",["Localid","DRINK?"]," T>"],["\t\t<SET ",["Localid","NOBJ"]," <LOC ,",["Id","PRSO"],">>"],["\t\t<COND (<OR <IN? ,",["Id","PRSO"]," ,",["Id","GLOBAL-OBJECTS"],">"],["\t\t\t   <IN? ,",["Id","PRSO"]," ,",["Id","LOCAL-GLOBALS"],">"],["\t\t\t   <EQUAL? ,",["Id","PRSO"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t       <",["Id","HIT-SPOT"],">)"],["\t\t      (<NOT .",["Localid","NOBJ"],">"],["\t\t       <TELL"],[["Str","\"You don't have any to drink.\""]," CR>)"],["\t\t      (<NOT <IN? .",["Localid","NOBJ"]," ,",["Id","WINNER"],">>"],["\t\t       <TELL"],[["Str","\"You have to be holding the \""]," D .",["Localid","NOBJ"]," ",["Str","\" first.\""]," CR>)"],["\t\t      (<NOT <FSET? .",["Localid","NOBJ"]," ,OPENBIT>>"],["\t\t       <TELL"],[["Str","\"You'll have to open the \""]," D .",["Localid","NOBJ"]," ",["Str","\" first.\""]," CR>)"],["\t\t      (T"],["\t\t       <",["Id","HIT-SPOT"],">)>)"],["\t       (<NOT <OR .",["Localid","EAT?"]," .",["Localid","DRINK?"],">>"],["\t\t<TELL"],[["Str","\"I don't think that the \""]," D ,",["Id","PRSO"]," ",["Str","\" would agree with you.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","HIT-SPOT"]," ()"],["\t <TELL"],[["Str","\"Thank you very much. I was rather thirsty (from all this talking,"]],[["Str","probably).\""]," CR>"],["         <",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-ECHO"]," (",["Str","\"AUX\""]," ",["Localid","LST"]," ",["Localid","MAX"]," (",["Localid","ECH"]," 0) ",["Localid","CNT"],")"],["\t #DECL ((",["Localid","LST"],") <PRIMTYPE VECTOR> (",["Localid","MAX"]," ",["Localid","CNT"]," ",["Localid","ECH"],") FIX)"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t '<COND (<G? <GETB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"],"> 0>"],["\t                 <SET ",["Localid","LST"]," <REST"],["\t\t\t\t   ,",["Id","P-LEXV"]],["\t\t\t\t   <* <GETB ,",["Id","P-LEXV"]," ,",["Id","P-LEXWORDS"],"> ,",["Id","P-WORDLEN"],">>>"],["\t                 <SET ",["Localid","MAX"]," <- <+ <GETB .",["Localid","LST"]," 0> <GETB .",["Localid","LST"]," 1>> 1>>"],["\t                 <REPEAT ()"],["\t\t            <COND (<G? <SET ",["Localid","ECH"]," <+ .",["Localid","ECH"]," 1>> 2>"],["\t\t\t           <TELL ",["Str","\"...\""]," CR>"],["\t\t\t\t   <RETURN>)"],["\t\t\t          (T"],["\t\t\t           <SET ",["Localid","CNT"]," <- <GETB .",["Localid","LST"]," 1> 1>>"],["\t\t\t           <REPEAT ()"],["\t\t\t\t      <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> .",["Localid","MAX"],">"],["\t\t\t\t\t     <RETURN>)"],["\t\t\t\t\t    (T"],["\t\t\t\t\t     <PRINTC <GETB ,",["Id","P-INBUF"]," .",["Localid","CNT"],">>)>>"],["\t\t\t           <TELL ",["Str","\" \""],">)>>)"],["\t\t\t(T <TELL ",["Str","\"echo echo ...\""]," CR>)>)"],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<TELL \"echo echo ...\" CR>)"],">>"],[],["<ROUTINE ",["Iddef","V-ENCHANT"]," ()"],["%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t'<COND (,WAND-ON <SETG SPELL-VICTIM ,WAND-ON>)>)"]],["       (T"],["\t'<",["Id","NULL-F"],">)>"],["%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t'<COND (,SPELL-VICTIM"]],[["Ifndef","\t\t<COND (<NOT ,SPELL-USED>"]],[["Ifndef","\t\t       <TELL \"You must be more specific.\" CR>"]],[["Ifndef","\t\t       <RTRUE>)>"]],[["Ifndef","\t\t<COND (<OR <EQUAL? ,SPELL-USED ,W?FEEBLE ,W?FUMBLE ,W?FEAR>"]],[["Ifndef","\t\t\t   <EQUAL? ,SPELL-USED ,W?FREEZE ,W?FALL ,W?FERMENT>"]],[["Ifndef","\t\t\t   <EQUAL? ,SPELL-USED ,W?FIERCE ,W?FENCE ,W?FANTASIZE>>"]],[["Ifndef","\t\t       <COND (<FSET? ,PRSO ,ACTORBIT>"]],[["Ifndef","\t\t\t      <TELL"]],[["Ifndef","\"The wand stops glowing, but there is no other obvious effect.\" CR>)"]],[["Ifndef","\t\t\t     (T"]],[["Ifndef","\t\t\t      <TELL"]],[["Ifndef","\"That might have done something, but it's hard to tell with a \" D ,PRSO \".\" CR>)>)"]],[["Ifndef","\t\t      ;(<EQUAL? ,SPELL-USED ,W?FIREPROOF>"]],[["Ifndef","\t\t       <RTRUE>)"]],[["Ifndef","\t\t      (<EQUAL? ,SPELL-USED ,W?FUDGE>"]],[["Ifndef","\t\t       <TELL"]],[["Ifndef","\"A strong odor of chocolate permeates the room.\" CR>)"]],[["Ifndef","\t\t      (<EQUAL? ,SPELL-USED ,W?FLUORESCE>"]],[["Ifndef","\t\t       <FSET ,PRSO ,LIGHTBIT>"]],[["Ifndef","\t\t       <FSET ,PRSO ,ONBIT>"]],[["Ifndef","\t\t       <SETG LIT T>"]],[["Ifndef","\t\t       <TELL"]],[["Ifndef","\"The \" D ,PRSO \" begins to glow.\" CR>)"]],[["Ifndef","\t\t      (<EQUAL? ,SPELL-USED ,W?FILCH>"]],[["Ifndef","\t\t       <SETG SPELL-HANDLED? T>"]],[["Ifndef","\t\t       <COND (<FSET? ,PRSO ,TAKEBIT>"]],[["Ifndef","\t\t\t      <MOVE ,PRSO ,WINNER>"]],[["Ifndef","\t\t\t      <SCORE-OBJ ,PRSO>"]],[["Ifndef","\t\t\t      <TELL \"Filched!\" CR>)"]],[["Ifndef","\t\t\t     (ELSE"]],[["Ifndef","\t\t\t      <TELL \"You can't filch the \" D ,PRSO \"!\" CR>)>)"]],[["Ifndef","\t\t      (<AND <EQUAL? ,SPELL-USED ,W?FLOAT>"]],[["Ifndef","\t\t\t    <FSET? ,PRSO ,TAKEBIT>>"]],[["Ifndef","\t\t       <COND (<AND <EQUAL? ,SPELL-VICTIM ,COLLAR>"]],[["Ifndef","\t\t\t\t   <IN? ,COLLAR ,CERBERUS>>"]],[["Ifndef","\t\t\t      <SETG SPELL-VICTIM ,CERBERUS>)>"]],[["Ifndef","\t\t       <TELL"]],[["Ifndef","\"The \" D ,PRSO \" floats serenely in mid-air.\" CR>)"]],[["Ifndef","\t\t      (<AND <EQUAL? ,SPELL-USED ,W?FRY>"]],[["Ifndef","\t\t\t    <FSET? ,PRSO ,TAKEBIT>>"]],[["Ifndef","\t\t       <SETG SPELL-HANDLED? T>"]],[["Ifndef","\t\t       <REMOVE-CAREFULLY ,PRSO>"]],[["Ifndef","\t\t       <TELL \"The \" D ,PRSO \" goes up in a puff of smoke.\" CR>)"]],[["Ifndef","\t\t      (ELSE"]],[["Ifndef","\t\t       <SETG SPELL-VICTIM <>>"]],[["Ifndef","\t\t       <TELL"]],[["Ifndef","\"The wand stops glowing, but there is no other apparent effect.\" CR>)>)"]],[["Ifndef","\t       (ELSE"]],[["Ifndef","\t\t<SETG SPELL-VICTIM <>>"]],[["Ifndef","\t\t<TELL \"Nothing happens.\" CR>)>)"]],["       (T"],["\t'<",["Id","V-DISENCHANT"],">)>>"],[],["<ROUTINE ",["Iddef","REMOVE-CAREFULLY"]," (",["Localid","OBJ"]," ",["Str","\"AUX\""]," ",["Localid","OLIT"],")"],["\t <COND (<EQUAL? .",["Localid","OBJ"]," ,",["Id","P-IT-OBJECT"],">"],["\t\t<SETG ",["Id","P-IT-OBJECT"]," <>>"],["\t\t<SETG ",["Id","P-IT-LOC"]," <>>)>"],["\t <SET ",["Localid","OLIT"]," ,",["Id","LIT"],">"],["\t <REMOVE .",["Localid","OBJ"],">"],["\t <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t <COND (<AND .",["Localid","OLIT"]," <NOT <EQUAL? .",["Localid","OLIT"]," ,",["Id","LIT"],">>>"],["\t\t<TELL ",["Str","\"You are left in the dark...\""]," CR>)>"],["\t T>"],[],["<ROUTINE ",["Iddef","V-ENTER"]," ()"],["\t<",["Id","DO-WALK"]," ,P?IN>>"],[],["<ROUTINE ",["Iddef","V-EXAMINE"]," ()"],["\t <COND (<GETP ,",["Id","PRSO"]," ,P?TEXT>"],["\t\t<TELL <GETP ,",["Id","PRSO"]," ,P?TEXT> CR>)"],["\t       (<OR <FSET? ,",["Id","PRSO"]," ,CONTBIT>"],["\t\t    <FSET? ,",["Id","PRSO"]," ,DOORBIT>>"],["\t\t<",["Id","V-LOOK-INSIDE"],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"There's nothing special about the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-EXIT"]," ()"],["\t <",["Id","DO-WALK"]," ,P?OUT>>"],[],["<ROUTINE ",["Iddef","V-EXORCISE"]," ()"],["\t <TELL ",["Str","\"What a bizarre concept!\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-FILL"]," (",["Str","\"AUX\""]," ",["Localid","TX"],")"],["\t <COND (<AND <NOT ,",["Id","PRSI"],"> <SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," ,P?GLOBAL>>>"],["\t\t<COND (<",["Id","ZMEMQB"]," ,",["Id","GLOBAL-WATER"]," .",["Localid","TX"]," <- <PTSIZE .",["Localid","TX"],"> 1>>"],["\t\t       <SETG ",["Id","PRSI"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There is nothing to fill it with.\""]," CR>"],["\t\t       <RTRUE>)>)>"],["\t <COND (<NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","GLOBAL-WATER"],">>"],["\t\t<",["Id","PERFORM"]," ,V?PUT ,",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-FILL"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<COND (<",["Id","GLOBAL-IN?"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","HERE"],">"],["\t\t       <",["Id","PERFORM"]," ,V?FILL ,",["Id","PRSO"]," ,",["Id","GLOBAL-WATER"],">"],["\t\t       <RTRUE>)"],["\t\t      (<IN? ,",["Id","WATER"]," <LOC ,",["Id","WINNER"],">>"],["\t\t       <",["Id","PERFORM"]," ,V?FILL ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There's nothing to fill it with.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You may know how to do that, but I don't.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-FIND"]," (",["Str","\"AUX\""]," (",["Localid","L"]," <LOC ,",["Id","PRSO"],">))"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","HANDS"]," ,",["Id","LUNGS"],">"],["\t\t<TELL"],[["Str","\"Within six feet of your head, assuming you haven't left that"]],[["Str","somewhere.\""]," CR>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," ,",["Id","ME"],">"],["\t\t<TELL ",["Str","\"You're around here somewhere...\""]," CR>)"],["\t       (<EQUAL? .",["Localid","L"]," ,",["Id","GLOBAL-OBJECTS"],">"],["\t\t<TELL ",["Str","\"You find it.\""]," CR>)"],["\t       (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t<TELL ",["Str","\"You have it.\""]," CR>)"],["\t       (<OR <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t    <",["Id","GLOBAL-IN?"]," ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t    <EQUAL? ,",["Id","PRSO"]," ,",["Id","PSEUDO-OBJECT"],">>"],["\t\t<TELL ",["Str","\"It's right here.\""]," CR>)"],["\t       (<FSET? .",["Localid","L"]," ,ACTORBIT>"],["\t\t<TELL ",["Str","\"The \""]," D .",["Localid","L"]," ",["Str","\" has it.\""]," CR>)"],["\t       (<FSET? .",["Localid","L"]," ,SURFACEBIT>"],["\t\t<TELL ",["Str","\"It's on the \""]," D .",["Localid","L"]," ",["Str","\".\""]," CR>)"],["\t       (<FSET? .",["Localid","L"]," ,CONTBIT>"],["\t\t<TELL ",["Str","\"It's in the \""]," D .",["Localid","L"]," ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Beats me.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-FOLLOW"]," ()"],["\t <TELL ",["Str","\"You're nuts!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-FROBOZZ"]," ()"],["\t <TELL"],[["Str","\"The FROBOZZ Corporation created, owns, and operates this dungeon.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-GIVE"]," ()"],["\t <COND (<NOT <",["Id","HELD?"]," ,",["Id","PRSO"],">>"],["\t\t<TELL"],[["Str","\"That's easy for you to say since you don't even have the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-GIVE"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSI"]," ,ACTORBIT>>"],["\t\t<TELL ",["Str","\"You can't give a \""]," D ,",["Id","PRSO"]," ",["Str","\" to a \""]," D ,",["Id","PRSI"]," ",["Str","\"!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" refuses it politely.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-HATCH"]," ()"],["\t <TELL ",["Str","\"Bizarre!\""]," CR>>"],[],["<GLOBAL ",["Iddef","HS"]," 0> ",["Comment",";\"counts occurences of HELLO, SAILOR\""]],[],["<ROUTINE ",["Iddef","V-HELLO"]," ()"],["\t <COND (,",["Id","PRSO"]],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" bows his head to you in greeting.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"It's a well known fact that only schizophrenics say \\\"Hello\\\" to a \""]],["D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>)"],["\t       (T"],["\t\t<TELL <",["Id","PICK-ONE"]," ,",["Id","HELLOS"],"> CR>)>>"],[],["<ROUTINE ",["Iddef","V-INCANT"]," ()"],["%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t'<COND (,SPELL-USED"]],[["Ifndef","\t\t<TELL \"Nothing happens.\" CR>)"]],[["Ifndef","\t       (,WAND-ON"]],[["Ifndef","\t\t<SETG SPELL-VICTIM ,WAND-ON>"]],[["Ifndef","\t\t<SETG SPELL-USED <GET ,P-LEXV ,P-CONT>>"]],[["Ifndef","\t\t<TELL \"The wand glows very brightly for a moment.\" CR>"]],[["Ifndef","\t\t<ENABLE <QUEUE I-SPELL <+ 10 <RANDOM 10>>>>"]],[["Ifndef","\t\t<SETG WAND-ON <>>"]],[["Ifndef","\t\t<PERFORM ,V?ENCHANT ,SPELL-VICTIM>)"]],[["Ifndef","\t       (T"]],[["Ifndef","\t\t<TELL"]],[["Ifndef","\"The incantation echoes back faintly, but nothing else happens.\" CR>)>)"]],["       (T"],["\t'<TELL"],[["Str","\"The incantation echoes back faintly, but nothing else happens.\""]," CR>)>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-INFLATE"]," ()"],["\t <TELL ",["Str","\"How can you inflate that?\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-IS-IN"]," ()"],["\t <COND (<IN? ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"Yes, it is \""],">"],["\t\t<COND (<FSET? ,",["Id","PRSI"]," ,SURFACEBIT>"],["\t\t       <TELL ",["Str","\"on\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"in\""],">)>"],["\t\t<TELL ",["Str","\" the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"No, it isn't.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-KICK"]," () <",["Id","HACK-HACK"]," ",["Str","\"Kicking the \""],">>"],[],["<ROUTINE ",["Iddef","V-KISS"]," ()"],["\t <TELL ",["Str","\"I'd sooner kiss a pig.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-KNOCK"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,DOORBIT>"],["\t\t<TELL ",["Str","\"Nobody's home.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Why knock on a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LAMP-OFF"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,LIGHTBIT>"],["\t\t<COND (<NOT <FSET? ,",["Id","PRSO"]," ,ONBIT>>"],["\t\t       <TELL ",["Str","\"It is already off.\""]," CR>)"],["\t\t      (T"],["\t\t       <FCLEAR ,",["Id","PRSO"]," ,ONBIT>"],["\t\t       <COND (,",["Id","LIT"]],["\t\t\t      <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>)>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now off.\""]," CR>"],["\t\t       <COND (<NOT ,",["Id","LIT"],">"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't turn that off.\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-LAMP-ON"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,LIGHTBIT>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,ONBIT>"],["\t\t       <TELL ",["Str","\"It is already on.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,",["Id","PRSO"]," ,ONBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is now on.\""]," CR>"],["\t\t       <COND (<NOT ,",["Id","LIT"],">"],["\t\t\t      <SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t\t\t      <CRLF>"],["\t\t\t      <",["Id","V-LOOK"],">)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't turn that on.\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-LAUNCH"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,VEHBIT>"],["\t\t<TELL ",["Str","\"You can't launch that by saying \\\"launch\\\"!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"That's pretty weird.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LEAN-ON"]," ()"],["\t <TELL ",["Str","\"Getting tired?\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LEAP"]," (",["Str","\"AUX\""]," ",["Localid","TX"]," ",["Localid","S"],")"],["\t <COND (,",["Id","PRSO"]],["\t\t<COND (<IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t       <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is too big to jump over.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <",["Id","V-SKIP"],">)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"That would be a good trick.\""]," CR>)>)"],["\t       (<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," ,P?DOWN>>"],["\t\t<SET ",["Localid","S"]," <PTSIZE .",["Localid","TX"],">>"],["\t\t<COND (<OR <EQUAL? .",["Localid","S"]," 2> ",["Comment",";NEXIT"]],["       \t\t\t   <AND <EQUAL? .",["Localid","S"]," 4> ",["Comment",";CEXIT"]],["\t\t\t\t<NOT <VALUE <GETB .",["Localid","TX"]," 1>>>>>"],["\t\t       <TELL"],[["Str","\"This was not a very safe place to try jumping.\""]," CR>"],["\t\t       <",["Id","JIGS-UP"]," <",["Id","PICK-ONE"]," ,",["Id","JUMPLOSS"],">>)"],["\t\t      %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t      '(<EQUAL? ,",["Id","HERE"]," ,",["Id","UP-A-TREE"],">"],["\t\t                <TELL"],[["Str","\"In a feat of unaccustomed daring, you manage to land on your feet without"]],[["Str","killing yourself.\""]," CR CR>"],["\t\t                <",["Id","DO-WALK"]," ,P?DOWN>"],["\t\t                <RTRUE>))"],["\t\t\t     ",["Ifndef","(T '(<NULL-F> T))"],">"],["\t\t      (T"],["\t\t       <",["Id","V-SKIP"],">)>)"],["\t       (T"],["\t\t<",["Id","V-SKIP"],">)>>"],[],["<GLOBAL ",["Iddef","JUMPLOSS"]],["\t<LTABLE 0"],["\t       ",["Str","\"You should have looked before you leaped.\""]],["\t       ",["Str","\"In the movies, your life would be passing before your eyes.\""]],["\t       ",["Str","\"Geronimo...\""],">>"],[],["<ROUTINE ",["Iddef","V-LEAVE"]," () <",["Id","DO-WALK"]," ,P?OUT>>"],[],["<ROUTINE ",["Iddef","V-LISTEN"]," ()"],["\t <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" makes no sound.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOCK"]," ()"],["\t <TELL ",["Str","\"It doesn't seem to work.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOOK"]," ()"],["\t <COND (<",["Id","DESCRIBE-ROOM"]," T>"],["\t\t<",["Id","DESCRIBE-OBJECTS"]," T>)>>"],[],["<ROUTINE ",["Iddef","V-LOOK-BEHIND"]," ()"],["\t <TELL ",["Str","\"There is nothing behind the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOOK-INSIDE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,DOORBIT>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is open, but I can't tell what's beyond it.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is closed.\""],">)>"],["\t\t<CRLF>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,CONTBIT>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t       <TELL ",["Str","\"There is nothing special to be seen.\""]," CR>)"],["\t\t      (<",["Id","SEE-INSIDE?"]," ,",["Id","PRSO"],">"],["\t\t       <COND (<AND <FIRST? ,",["Id","PRSO"],">"],["\t\t\t\t   <",["Id","PRINT-CONT"]," ,",["Id","PRSO"],">>"],["\t\t\t      <RTRUE>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is empty.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is closed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't look inside a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LOOK-ON"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,SURFACEBIT>"],["\t\t<",["Id","PERFORM"]," ,V?LOOK-INSIDE ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Look on a \""]," D ,",["Id","PRSO"]," ",["Str","\"???\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-LOOK-UNDER"]," ()"],["\t <TELL ",["Str","\"There is nothing but dust there.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-LOWER"]," () <",["Id","HACK-HACK"]," ",["Str","\"Playing in this way with the \""],">>"],[],["<ROUTINE ",["Iddef","V-MAKE"]," ()"],["    \t<TELL ",["Str","\"You can't do that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-MELT"]," ()"],["\t <TELL ",["Str","\"It's not clear that a \""]," D ,",["Id","PRSO"]," ",["Str","\" can be melted.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-MOVE"]," ()"],["\t <COND (<",["Id","HELD?"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"You aren't an accomplished enough juggler.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-MOVE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,TAKEBIT>"],["\t\t<TELL ",["Str","\"Moving the \""]," D ,",["Id","PRSO"]," ",["Str","\" reveals nothing.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't move the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-MUMBLE"]," ()"],["\t <TELL ",["Str","\"You'll have to speak up if you expect me to hear you!\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-MUNG"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,BEAM>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t       (<OR <NOT ,",["Id","PRSI"],">"],["\t\t    <NOT <FSET? ,",["Id","PRSI"]," ,WEAPONBIT>>>"],["\t\t<TELL ",["Str","\"Trying to destroy the \""]," D ,",["Id","PRSO"]," ",["Str","\" with \""],">"],["\t\t<COND (<NOT ,",["Id","PRSI"],">"],["\t\t       <TELL ",["Str","\"your bare hands\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"a \""]," D ,",["Id","PRSI"],">)>"],["\t\t<TELL ",["Str","\" is futile.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-MUNG"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Nice try.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-ODYSSEUS"]," ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<AND <EQUAL? ,",["Id","HERE"]," ,",["Id","CYCLOPS-ROOM"],">"],["\t\t\t      <IN? ,",["Id","CYCLOPS"]," ,",["Id","HERE"],">"],["\t\t\t      <NOT ,",["Id","CYCLOPS-FLAG"],">>"],["\t\t         <DISABLE <",["Id","INT"]," ",["Id","I-CYCLOPS"],">>"],["\t\t         <SETG ",["Id","CYCLOPS-FLAG"]," T>"],["\t\t         <TELL"],[["Str","\"The cyclops, hearing the name of his father's deadly nemesis, flees the room"]],[["Str","by knocking down the wall on the east of the room.\""]," CR>"],["\t\t        <SETG ",["Id","MAGIC-FLAG"]," T>"],["\t\t        <FCLEAR ,",["Id","CYCLOPS"]," ,FIGHTBIT>"],["\t\t        <",["Id","REMOVE-CAREFULLY"]," ,",["Id","CYCLOPS"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> T))"],">"],["\t       (T"],["\t\t<TELL ",["Str","\"Wasn't he a sailor?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-OIL"]," ()"],["\t <TELL ",["Str","\"You probably put spinach in your gas tank, too.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-OPEN"]," (",["Str","\"AUX\""]," ",["Localid","F"]," ",["Localid","STR"],")"],["\t <COND (<AND <FSET? ,",["Id","PRSO"]," ,CONTBIT>"],["\t\t     <NOT <EQUAL? <GETP ,",["Id","PRSO"]," ,P?CAPACITY> 0>>>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"It is already open.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <FSET ,",["Id","PRSO"]," ,TOUCHBIT>"],["\t\t       <COND (<OR <NOT <FIRST? ,",["Id","PRSO"],">> <FSET? ,",["Id","PRSO"]," ,TRANSBIT>>"],["\t\t\t      <TELL ",["Str","\"Opened.\""]," CR>)"],["\t\t\t     (<AND <SET ",["Localid","F"]," <FIRST? ,",["Id","PRSO"],">>"],["\t\t\t\t   <NOT <NEXT? .",["Localid","F"],">>"],["\t\t\t\t   <NOT <FSET? .",["Localid","F"]," ,TOUCHBIT>>"],["\t\t\t\t   <SET ",["Localid","STR"]," <GETP .",["Localid","F"]," ,P?FDESC>>>"],["\t\t\t      <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" opens.\""]," CR>"],["\t\t\t      <TELL .",["Localid","STR"]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"Opening the \""]," D ,",["Id","PRSO"]," ",["Str","\" reveals \""],">"],["\t\t\t      <",["Id","PRINT-CONTENTS"]," ,",["Id","PRSO"],">"],["\t\t\t      <TELL ",["Str","\".\""]," CR>)>)>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,DOORBIT>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <TELL ",["Str","\"It is already open.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" opens.\""]," CR>"],["\t\t       <FSET ,",["Id","PRSO"]," ,OPENBIT>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You must tell me how to do that to a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-OVERBOARD"]," (",["Str","\"AUX\""]," ",["Localid","LOCN"],")"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,",["Id","PRSI"]," ,",["Id","TEETH"],">"],["\t\t\t <COND (<FSET? <SET ",["Localid","LOCN"]," <LOC ,",["Id","WINNER"],">> ,VEHBIT>"],["\t\t\t\t<MOVE ,",["Id","PRSO"]," <LOC .",["Localid","LOCN"],">>"],["\t\t\t\t<TELL ",["Str","\"Ahoy -- \""]," D ,",["Id","PRSO"]," ",["Str","\" overboard!\""]," CR>)"],["\t\t\t       (T"],["\t\t\t\t<TELL ",["Str","\"You're not in anything!\""]," CR>)>))"],["\t\t      ",["Ifndef","(T '(<NULL-F> T))"],">"],["\t       (T"],["\t\t<TELL ",["Str","\"Huh?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PICK"]," () <TELL ",["Str","\"You can't pick that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-PLAY"]," ()"],["    <TELL ",["Str","\"That's silly!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-PLUG"]," ()"],["\t <TELL ",["Str","\"This has no effect.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-POUR-ON"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSO"]," ,",["Id","WATER"],">"],["\t\t<",["Id","REMOVE-CAREFULLY"]," ,",["Id","PRSO"],">"],["\t        <COND (<FLAMING? ,",["Id","PRSI"],">"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" is extinguished.\""]," CR>"],["\t\t       <FCLEAR ,",["Id","PRSI"]," ,ONBIT>"],["\t\t       <FCLEAR ,",["Id","PRSI"]," ,FLAMEBIT>)"],["\t              (T"],["\t\t       <TELL"],[["Str","\"The water spills over the \""]," D ,",["Id","PRSI"]," ",["Str","\", to the floor, and evaporates.\""]," CR>)>)"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,",["Id","PRSO"]," ,",["Id","PUTTY"],">"],["\t\t\t <",["Id","PERFORM"]," ,V?PUT ,",["Id","PUTTY"]," ,",["Id","PRSI"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't pour that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PRAY"]," ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,",["Id","HERE"]," ,",["Id","SOUTH-TEMPLE"],">"],["\t\t         <",["Id","GOTO"]," ,",["Id","FOREST-1"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       (T"],["\t\t<TELL"],[["Str","\"If you pray enough, your prayers may be answered.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUMP"]," ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<AND ,",["Id","PRSI"]," <NOT <EQUAL? ,",["Id","PRSI"]," ,",["Id","PUMP"],">>>"],["\t\t         <TELL ",["Str","\"Pump it up with a \""]," D ,",["Id","PRSI"]," ",["Str","\"?\""]," CR>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<IN? ,",["Id","PUMP"]," ,",["Id","WINNER"],">"],["\t\t         <",["Id","PERFORM"]," ,V?INFLATE ,",["Id","PRSO"]," ,",["Id","PUMP"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       (T"],["\t\t<TELL ",["Str","\"It's really not clear how.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUSH"]," () <",["Id","HACK-HACK"]," ",["Str","\"Pushing the \""],">>"],[],["<ROUTINE ",["Iddef","V-PUSH-TO"]," ()"],["\t <TELL ",["Str","\"You can't push things to that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-PUT"]," ()"],["\t <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,PRSO ,SHORT-POLE>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (T"],["\t\t<",["Id","PRE-GIVE"],">)>> ",["Comment",";\"That's easy for you to say...\""]],[],["<ROUTINE ",["Iddef","V-PUT"]," ()"],["\t <COND (<OR <FSET? ,",["Id","PRSI"]," ,OPENBIT>"],["\t\t    <OPENABLE? ,",["Id","PRSI"],">"],["\t\t    <FSET? ,",["Id","PRSI"]," ,VEHBIT>>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't do that.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <COND (<NOT <FSET? ,",["Id","PRSI"]," ,OPENBIT>>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" isn't open.\""]," CR>"],["\t\t<",["Id","THIS-IS-IT"]," ,",["Id","PRSI"],">)"],["\t       (<EQUAL? ,",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"How can you do that?\""]," CR>)"],["\t       (<IN? ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is already in the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t       (<G? <- <+ <",["Id","WEIGHT"]," ,",["Id","PRSI"],"> <",["Id","WEIGHT"]," ,",["Id","PRSO"],">>"],["\t\t       <GETP ,",["Id","PRSI"]," ,P?SIZE>>"],["\t\t    <GETP ,",["Id","PRSI"]," ,P?CAPACITY>>"],["\t\t<TELL ",["Str","\"There's no room.\""]," CR>)"],["\t       (<AND <NOT <",["Id","HELD?"]," ,",["Id","PRSO"],">>"],["\t\t     <FSET? ,",["Id","PRSO"]," ,TRYTAKEBIT>>"],["\t\t<TELL ",["Str","\"You don't have the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t\t<RTRUE>)"],["\t       (<AND <NOT <",["Id","HELD?"]," ,",["Id","PRSO"],">>"],["\t\t     <NOT <",["Id","ITAKE"],">>>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<MOVE ,",["Id","PRSO"]," ,",["Id","PRSI"],">"],["\t\t<FSET ,",["Id","PRSO"]," ,TOUCHBIT>"],["\t\t<",["Id","SCORE-OBJ"]," ,",["Id","PRSO"],">"],["\t\t<TELL ",["Str","\"Done.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUT-BEHIND"]," ()"],["\t <TELL ",["Str","\"That hiding place is too obvious.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-PUT-ON"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GROUND"],">"],["\t\t<",["Id","PERFORM"]," ,V?DROP ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<FSET? ,",["Id","PRSI"]," ,SURFACEBIT>"],["\t\t<",["Id","V-PUT"],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"There's no good surface on the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-PUT-UNDER"]," ()"],["\t <TELL ",["Str","\"You can't do that.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-RAISE"]," ()"],["\t <",["Id","V-LOWER"],">>"],[],["<ROUTINE ",["Iddef","V-RAPE"]," ()"],["\t <TELL ",["Str","\"What a (ahem!) strange idea.\""]," CR>>"],[],["<ROUTINE ",["Iddef","PRE-READ"]," ()"],["\t <COND (<NOT ,",["Id","LIT"],">"],["\t\t<TELL ",["Str","\"It is impossible to read in the dark.\""]," CR>)"],["\t       (<AND ,",["Id","PRSI"]," <NOT <FSET? ,",["Id","PRSI"]," ,TRANSBIT>>>"],["\t\t<TELL ",["Str","\"How does one look through a \""]," D ,",["Id","PRSI"]," ",["Str","\"?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-READ"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,READBIT>>"],["\t\t<TELL ",["Str","\"How does one read a \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)"],["\t       (T"],["\t\t<TELL <GETP ,",["Id","PRSO"]," ,P?TEXT> CR>)>>"],[],["<ROUTINE ",["Iddef","V-READ-PAGE"]," ()"],["\t <",["Id","PERFORM"]," ,V?READ ,",["Id","PRSO"],">"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-REPENT"]," ()"],["\t <TELL ",["Str","\"It could very well be too late!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-REPLY"]," ()"],["\t <TELL ",["Str","\"It is hardly likely that the \""]," D ,",["Id","PRSO"]," ",["Str","\" is interested.\""]," CR>"],["\t <SETG ",["Id","P-CONT"]," <>>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-RING"]," ()"],["\t <TELL ",["Str","\"How, exactly, can you ring that?\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-RUB"]," () <",["Id","HACK-HACK"]," ",["Str","\"Fiddling with the \""],">>"],[],["<ROUTINE ",["Iddef","V-SAY"]," (",["Str","\"AUX\""]," ",["Localid","V"],")"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t '<COND (<OR ,SPELL-USED ,WAND-ON>"]],[["Ifndef","\t\t         <PERFORM ,V?INCANT>"]],[["Ifndef","\t\t         <RTRUE>)>)"]],["\t\t",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t '<COND (<AND <FSET? ,FRONT-DOOR ,TOUCHBIT>"]],[["Ifndef","\t\t              <EQUAL? <GET ,P-LEXV ,P-CONT> ,W?FROTZ>"]],[["Ifndef","\t\t              <EQUAL? <GET ,P-LEXV <+ ,P-CONT 2>> ,W?OZMOO>>"]],[["Ifndef","\t\t         <SETG P-CONT <>>"]],[["Ifndef","\t\t         <COND (<EQUAL? ,HERE ,MSTAIRS>"]],[["Ifndef","\t\t                <CRLF>"]],[["Ifndef","\t\t                <GOTO ,FRONT-DOOR>"]],[["Ifndef","\t\t\t\t<RTRUE>)"]],[["Ifndef","\t\t               (T"]],[["Ifndef","\t\t                <TELL \"Nothing happens.\" CR>)>"]],[["Ifndef","\t\t                <RTRUE>)>)"]],["\t\t(T"],["\t\t '<COND (<NOT ,",["Id","P-CONT"],">"],["\t\t\t <TELL ",["Str","\"Say what?\""]," CR>"],["\t\t\t <RTRUE>)>)>"],["\t <COND (<SET ",["Localid","V"]," <",["Id","FIND-IN"]," ,",["Id","HERE"]," ,ACTORBIT>>"],["\t\t<TELL ",["Str","\"You must address the \""]," D .",["Localid","V"]," ",["Str","\" directly.\""]," CR>"],["\t\t<SETG ",["Id","P-CONT"]," <>>)"],["\t       (<NOT <EQUAL? <GET ,",["Id","P-LEXV"]," ,",["Id","P-CONT"],"> ,W?HELLO>>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<TELL"],[["Str","\"Talking to yourself is a sign of impending mental collapse.\""]," CR>)>"],["\t <SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-SEARCH"]," ()"],["\t <TELL ",["Str","\"You find nothing unusual.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SEND"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<TELL ",["Str","\"Why would you send for the \""]," D ,",["Id","PRSO"]," ",["Str","\"?\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"That doesn't make sends.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","PRE-SGIVE"]," ()"],["\t <",["Id","PERFORM"]," ,V?GIVE ,",["Id","PRSI"]," ,",["Id","PRSO"],">"],["\t <RTRUE>>"],[],["<ROUTINE ",["Iddef","V-SGIVE"]," ()"],["\t <TELL ",["Str","\"Foo!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SHAKE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<TELL ",["Str","\"This seems to have no effect.\""]," CR>)"],["\t       (<NOT <FSET? ,",["Id","PRSO"]," ,TAKEBIT>>"],["\t\t<TELL ",["Str","\"You can't take it; thus, you can't shake it!\""]," CR>)"],["\t       (<FSET? ,",["Id","PRSO"]," ,CONTBIT>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,OPENBIT>"],["\t\t       <COND (<FIRST? ,",["Id","PRSO"],">"],["\t\t\t      <",["Id","SHAKE-LOOP"],">"],["\t\t\t      <TELL ",["Str","\"The contents of the \""]," D, ",["Id","PRSO"]," ",["Str","\" spills \""],">"],["\t                      <COND (<NOT <FSET? ,",["Id","HERE"]," ,RLANDBIT>>"],["\t\t                     <TELL ",["Str","\"out and disappears\""],">)"],["\t                            (T"],["\t\t                     <TELL ",["Str","\"to the ground\""],">)>"],["\t                      <TELL ",["Str","\".\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"Shaken.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <COND (<FIRST? ,",["Id","PRSO"],">"],["\t\t\t      <TELL"],[["Str","\"It sounds like there is something inside the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D, ",["Id","PRSO"]," ",["Str","\" sounds empty.\""]," CR>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Shaken.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","SHAKE-LOOP"]," (",["Str","\"AUX\""]," ",["Localid","X"],")"],["\t <REPEAT ()"],["\t\t <COND (<SET ",["Localid","X"]," <FIRST? ,",["Id","PRSO"],">>"],["\t\t\t<FSET .",["Localid","X"]," ,TOUCHBIT>"],["\t\t\t<MOVE .",["Localid","X"]],["\t\t\t      %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t\t      '<COND (<EQUAL? ,",["Id","HERE"]," ,",["Id","UP-A-TREE"],">"],["\t\t\t\t              ,",["Id","PATH"],")"],["\t\t\t\t             (<NOT <FSET? ,",["Id","HERE"]," ,RLANDBIT>>"],["\t\t\t\t              ,",["Id","PSEUDO-OBJECT"],")"],["\t\t\t\t             (T"],["\t\t\t\t              ,",["Id","HERE"],")>)"],["\t\t\t\t     ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t\t\t      '<COND (<EQUAL? .X ,WATER>"]],[["Ifndef","\t\t\t\t              ,PSEUDO-OBJECT)"]],[["Ifndef","\t\t\t\t             (<NOT <FSET? ,HERE ,RLANDBIT>>"]],[["Ifndef","\t\t\t\t              ,PSEUDO-OBJECT)"]],[["Ifndef","\t\t\t\t             (T"]],[["Ifndef","\t\t\t\t              ,HERE)>)"]],["\t\t\t\t     ",["Ifndef","(T"]],[["Ifndef","\t\t\t\t      '<COND (<EQUAL? ,HERE ,ON-LAKE>"]],[["Ifndef","\t\t\t\t\t      ,IN-LAKE)"]],[["Ifndef","\t\t\t\t\t     (T"]],[["Ifndef","\t\t\t\t\t      ,HERE)>)"],">>)"],["\t\t       (T"],["\t\t\t<RETURN>)>>>"],[],["<ROUTINE ",["Iddef","V-SKIP"]," ()"],["\t <TELL <",["Id","PICK-ONE"]," ,",["Id","WHEEEEE"],"> CR>>"],[],["<GLOBAL ",["Iddef","WHEEEEE"]],["\t<LTABLE 0 ",["Str","\"Very good. Now you can go to the second grade.\""]],["\t       ",["Str","\"Are you enjoying yourself?\""]],["\t       ",["Str","\"Wheeeeeeeeee!!!!!\""]],["\t       ",["Str","\"Do you expect me to applaud?\""],">>"],[],["<ROUTINE ",["Iddef","V-SMELL"]," ()"],["\t <TELL ",["Str","\"It smells like a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SPIN"]," ()"],["\t <TELL ",["Str","\"You can't spin that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-SPRAY"]," ()"],["\t <",["Id","V-SQUEEZE"],">>"],[],["<ROUTINE ",["Iddef","V-SQUEEZE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" does not understand this.\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"How singularly useless.\""],">)>"],["\t <CRLF>>"],[],["<ROUTINE ",["Iddef","V-SSPRAY"]," ()"],["\t <",["Id","PERFORM"]," ,V?SPRAY ,",["Id","PRSI"]," ,",["Id","PRSO"],">>"],[],["<ROUTINE ",["Iddef","V-STAB"]," (",["Str","\"AUX\""]," ",["Localid","W"],")"],["\t <COND (<SET ",["Localid","W"]," <",["Id","FIND-WEAPON"]," ,",["Id","WINNER"],">>"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSO"]," .",["Localid","W"],">"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"No doubt you propose to stab the \""]," D ,",["Id","PRSO"]," ",["Str","\" with your pinky?\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-STAND"]," ()"],["\t <COND (<FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>"],["\t\t<",["Id","PERFORM"]," ,V?DISEMBARK <LOC ,",["Id","WINNER"],">>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You are already standing, I think.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-STAY"]," ()"],["\t <TELL ",["Str","\"You will be lost without me!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-STRIKE"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<TELL"],[["Str","\"Since you aren't versed in hand-to-hand combat, you'd better attack the \""]],["D ,",["Id","PRSO"]," ",["Str","\" with a weapon.\""]," CR>)"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?LAMP-ON ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-SWIM"]," ()"],["\t <COND %<COND (<OR <==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t   <==? ,",["Id","ZORK-NUMBER"]," 2>>"],["\t\t       '(<",["Id","GLOBAL-IN?"]," ,",["Id","GLOBAL-WATER"]," ,",["Id","HERE"],">"],["\t\t         <TELL ",["Str","\"Swimming isn't usually allowed in the \""],">"],["\t\t         <COND (,",["Id","PRSO"]],["\t                        <TELL D ,",["Id","PRSO"]," ",["Str","\".\""],">)"],["\t\t               (T"],["\t\t                <TELL ",["Str","\"dungeon.\""],">)>"],["\t\t         <CRLF>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,ON-LAKE ,IN-LAKE>"]],[["Ifndef","\t\t         <TELL \"What do you think you're doing?\" CR>))"],">"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t       '(<EQUAL? ,HERE ,FLATHEAD-OCEAN>"]],[["Ifndef","\t\t         <TELL"]],[["Ifndef","\"Between the rocks and waves, you wouldn't last a minute!\" CR>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Go jump in a lake!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-SWING"]," ()"],["\t <COND (<NOT ,",["Id","PRSI"],">"],["\t\t<TELL ",["Str","\"Whoosh!\""]," CR>)"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?ATTACK ,",["Id","PRSI"]," ,",["Id","PRSO"],">)>>"],[],["<ROUTINE ",["Iddef","PRE-TAKE"]," ()"],["\t <COND (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,WEARBIT>"],["\t\t       <TELL ",["Str","\"You are already wearing it.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"You already have that!\""]," CR>)>)"],["\t       (<AND <FSET? <LOC ,",["Id","PRSO"],"> ,CONTBIT>"],["\t\t     <NOT <FSET? <LOC ,",["Id","PRSO"],"> ,OPENBIT>>>"],["\t\t<TELL"],[["Str","\"You can't reach something that's inside a closed container.\""]," CR>"],["\t\t<RTRUE>)"],["\t       (,",["Id","PRSI"]],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","GROUND"],">"],["\t\t       <SETG ",["Id","PRSI"]," <>>"],["\t\t       <RFALSE>)"],["\t\t      (<NOT <EQUAL? ,",["Id","PRSI"]," <LOC ,",["Id","PRSO"],">>>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" isn't in the \""]," D ,",["Id","PRSI"]," ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <SETG ",["Id","PRSI"]," <>>"],["\t\t       <RFALSE>)>)"],["\t       (<EQUAL? ,",["Id","PRSO"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<TELL ",["Str","\"You're inside of it!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-TAKE"]," ()"],["\t <COND (<EQUAL? <",["Id","ITAKE"],"> T>"],["\t\t<COND (<FSET? ,",["Id","PRSO"]," ,WEARBIT>"],["\t\t       <TELL ",["Str","\"You are now wearing the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Taken.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","V-TELL"]," ()"],["\t <COND (<FSET? ,",["Id","PRSO"]," ,ACTORBIT>"],["\t\t<COND (,",["Id","P-CONT"]],["\t\t       <SETG ",["Id","WINNER"]," ,",["Id","PRSO"],">"],["\t\t       <SETG ",["Id","HERE"]," <LOC ,",["Id","WINNER"],">>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]],[["Str","\" pauses for a moment, perhaps thinking that you should re-read"]],[["Str","the manual.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't talk to the \""]," D ,",["Id","PRSO"]," ",["Str","\"!\""]," CR>"],["\t\t<SETG ",["Id","QUOTE-FLAG"]," <>>"],["\t\t<SETG ",["Id","P-CONT"]," <>>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE ",["Iddef","V-THROUGH"]," (",["Str","\"OPTIONAL\""]," (",["Localid","OBJ"]," <>) ",["Str","\"AUX\""]," ",["Localid","M"],")"],["\t#DECL ((",["Localid","OBJ"],") <OR OBJECT FALSE> (",["Localid","M"],") <PRIMTYPE VECTOR>)"],["\t<COND (<FSET? ,",["Id","PRSO"]," ,DOORBIT>"],["\t       <",["Id","DO-WALK"]," <",["Id","OTHER-SIDE"]," ,",["Id","PRSO"],">>"],["\t       <RTRUE>)"],["\t      (<AND <NOT .",["Localid","OBJ"],"> <FSET? ,",["Id","PRSO"]," ,VEHBIT>>"],["\t       <",["Id","PERFORM"]," ,V?BOARD ,",["Id","PRSO"],">"],["\t       <RTRUE>)"],["\t      (<AND <NOT .",["Localid","OBJ"],"> <NOT <FSET? ,",["Id","PRSO"]," ,TAKEBIT>>>"],["\t       <COND %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t             '(<AND ,SCOL-ROOM"]],[["Ifndef","\t\t\t            <OR .OBJ <EQUAL? ,PRSO ,CURTAIN>>>"]],[["Ifndef","\t                       <SCOL-GO .OBJ>"]],[["Ifndef","\t                       <RTRUE>))"]],["\t\t\t    (T"],["\t\t\t     '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t\t    '(<AND <EQUAL? ,HERE ,DEPOSITORY>"]],[["Ifndef","\t                           <EQUAL? ,PRSO ,SNWL>"]],[["Ifndef","\t       \t\t\t   ,SCOL-ROOM>"]],[["Ifndef","\t       \t\t      <SCOL-GO .OBJ>"]],[["Ifndef","\t            \t      <RTRUE>))"]],["\t\t\t    (T"],["\t\t\t     '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t\t     '(<AND <EQUAL? ,HERE ,SCOL-ACTIVE>"]],[["Ifndef","\t\t                    <EQUAL? ,PRSO"]],[["Ifndef","\t\t\t\t\t     <GET <SET M <GET-WALL ,HERE>> 1>>>"]],[["Ifndef","\t                       <SETG SCOL-ROOM <GET .M 2>>"]],[["Ifndef","\t                       <SETG PRSO <GETP ,PRSO ,P?SIZE>>"]],[["Ifndef","\t                       <COND (.OBJ <SCOL-OBJ .OBJ 0 ,DEPOSITORY>)"]],[["Ifndef","\t\t                     (T"]],[["Ifndef","\t\t                      <SCOL-THROUGH 0 ,DEPOSITORY>)>"]],[["Ifndef","\t                       <RTRUE>))"]],["\t\t\t    (T"],["\t\t\t     '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t\t     '(<EQUAL? ,PRSO ,CURTAIN>"]],[["Ifndef","\t                       <TELL"]],[["Ifndef","\"You can't go more than part way through the curtain.\" CR>"]],[["Ifndef","\t                             <RTRUE>))"]],["\t\t\t    (T"],["\t\t\t     '(<",["Id","NULL-F"],"> <RTRUE>))>"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You hit your head against the \""]," D ,",["Id","PRSO"]," ",["Str","\" as you attempt this feat.\""]," CR>)>)"],["\t      (.",["Localid","OBJ"]],["\t       <TELL ",["Str","\"You can't do that!\""]," CR>)"],["\t      (<IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t       <TELL ",["Str","\"That would involve quite a contortion!\""]," CR>)"],["\t      (T"],["\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","YUKS"],"> CR>)>>"],[],["<ROUTINE ",["Iddef","V-THROW"]," ()"],["\t <COND (<",["Id","IDROP"],">"],["\t\t<COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","ME"],">"],["\t\t       <TELL"],[["Str","\"A terrific throw! The \""]," D ,",["Id","PRSO"],">"],["\t\t       <",["Id","JIGS-UP"]," ",["Str","\" hits you squarely in the head. Normally,"]],[["Str","this wouldn't do much damage, but by incredible mischance, you fall over"]],[["Str","backwards trying to duck, and break your neck, justice being swift and"]],[["Str","merciful in the Great Underground Empire.\""],">)"],["\t\t      (<FSET? ,",["Id","PRSI"]," ,ACTORBIT>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,",["Id","PRSI"]," ",["Str","\" ducks as the \""]," D ,",["Id","PRSO"]," ",["Str","\" flies by and crashes to the ground.\""]],["CR>)"],["\t\t      (T <TELL ",["Str","\"Thrown.\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","V-THROW-OFF"]," ()"],["\t <TELL ",["Str","\"You can't throw anything off of that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-TIE"]," ()"],["\t <COND (<EQUAL? ,",["Id","PRSI"]," ,",["Id","WINNER"],">"],["\t\t<TELL ",["Str","\"You can't tie anything to yourself.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't tie the \""]," D ,",["Id","PRSO"]," ",["Str","\" to that.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-TIE-UP"]," ()"],["\t <TELL ",["Str","\"You could certainly never tie it with that!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-TREASURE"]," ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,",["Id","HERE"]," ,",["Id","NORTH-TEMPLE"],">"],["\t\t         <",["Id","GOTO"]," ,",["Id","TREASURE-ROOM"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,",["Id","HERE"]," ,",["Id","TREASURE-ROOM"],">"],["\t\t         <",["Id","GOTO"]," ,",["Id","NORTH-TEMPLE"],">))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       (T"],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","PRE-TURN"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,TURNBIT>>"],["\t\t<TELL ",["Str","\"You can't turn that!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-TURN"]," ()"],["\t <TELL ",["Str","\"This has no effect.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-UNLOCK"]," ()"],["\t <",["Id","V-LOCK"],">>"],[],["<ROUTINE ",["Iddef","V-UNTIE"]," ()"],["\t <TELL ",["Str","\"This cannot be tied, so it cannot be untied!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WAIT"]," (",["Str","\"OPTIONAL\""]," (",["Localid","NUM"]," 3))"],["\t <TELL ",["Str","\"Time passes...\""]," CR>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","NUM"]," <- .",["Localid","NUM"]," 1>> 0> <RETURN>)"],["\t\t       (<",["Id","CLOCKER"],"> <RETURN>)>>"],["\t <SETG ",["Id","CLOCK-WAIT"]," T>>"],[],["<ROUTINE ",["Iddef","V-WALK"]," (",["Str","\"AUX\""]," ",["Localid","PT"]," ",["Localid","PTS"]," ",["Localid","STR"]," ",["Localid","OBJ"]," ",["Localid","RM"],")"],["\t <COND (<NOT ,",["Id","P-WALK-DIR"],">"],["\t\t<",["Id","PERFORM"]," ,V?WALK-TO ,",["Id","PRSO"],">"],["\t\t<RTRUE>)"],["\t       (<SET ",["Localid","PT"]," <GETPT ,",["Id","HERE"]," ,",["Id","PRSO"],">>"],["\t\t<COND (<EQUAL? <SET ",["Localid","PTS"]," <PTSIZE .",["Localid","PT"],">> ,",["Id","UEXIT"],">"],["\t\t       <",["Id","GOTO"]," <GETB .",["Localid","PT"]," ,",["Id","REXIT"],">>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","NEXIT"],">"],["\t\t       <TELL <GET .",["Localid","PT"]," ,",["Id","NEXITSTR"],"> CR>"],["\t\t       <RFATAL>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","FEXIT"],">"],["\t\t       <COND (<SET ",["Localid","RM"]," <APPLY <GET .",["Localid","PT"]," ,",["Id","FEXITFCN"],">>>"],["\t\t\t      <",["Id","GOTO"]," .",["Localid","RM"],">)"],["\t\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t\t     '(<AND <EQUAL? ,HERE ,CP> ,CP-MOVED>"]],[["Ifndef","\t\t                       <RTRUE>))"]],["\t\t\t\t    (T"],["\t\t\t\t     '(<",["Id","NULL-F"],"> <RFALSE>))>"],["\t\t\t     (T"],["\t\t\t      <RFATAL>)>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","CEXIT"],">"],["\t\t       <COND (<VALUE <GETB .",["Localid","PT"]," ,",["Id","CEXITFLAG"],">>"],["\t\t\t      <",["Id","GOTO"]," <GETB .",["Localid","PT"]," ,",["Id","REXIT"],">>)"],["\t\t\t     (<SET ",["Localid","STR"]," <GET .",["Localid","PT"]," ,",["Id","CEXITSTR"],">>"],["\t\t\t      <TELL .",["Localid","STR"]," CR>"],["\t\t\t      <RFATAL>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t\t      <RFATAL>)>)"],["\t\t      (<EQUAL? .",["Localid","PTS"]," ,",["Id","DEXIT"],">"],["\t\t       <COND (<FSET? <SET ",["Localid","OBJ"]," <GETB .",["Localid","PT"]," ,",["Id","DEXITOBJ"],">> ,OPENBIT>"],["\t\t\t      <",["Id","GOTO"]," <GETB .",["Localid","PT"]," ,",["Id","REXIT"],">>)"],["\t\t\t     (<SET ",["Localid","STR"]," <GET .",["Localid","PT"]," ,",["Id","DEXITSTR"],">>"],["\t\t\t      <TELL .",["Localid","STR"]," CR>"],["\t\t\t      <RFATAL>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" is closed.\""]," CR>"],["\t\t\t      <",["Id","THIS-IS-IT"]," .",["Localid","OBJ"],">"],["\t\t\t      <RFATAL>)>)>)"],["\t       (<AND <NOT ,",["Id","LIT"],">"],["\t\t     <PROB 80>"],["\t\t     <NOT <FSET? ,",["Id","HERE"]," ,NONLANDBIT>>>"],["\t\t<COND (,",["Id","SPRAYED?"]],["\t\t       <TELL"],[["Str","\"There are odd noises in the darkness, and there is no exit in that"]],[["Str","direction.\""]," CR>"],["\t\t       <RFATAL>)"],["\t\t      %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t      '(<EQUAL? ,HERE ,DARK-1 ,DARK-2>"]],[["Ifndef","\t\t                <JIGS-UP"]],[["Ifndef","\"Oh, no! You have walked into a den of hungry grues and it's dinner time!\">))"]],["\t\t\t     (T"],["\t\t\t      '(<",["Id","NULL-F"],">"],["\t\t\t\t<RFALSE>))>"],["\t\t      (T"],["\t\t       <",["Id","JIGS-UP"]],[["Str","\"Oh, no! You have walked into the slavering fangs of a lurking grue!\""],">)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE ",["Iddef","V-WALK-AROUND"]," ()"],["\t <TELL ",["Str","\"Use compass directions for movement.\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WALK-TO"]," ()"],["\t <COND (<OR <IN? ,",["Id","PRSO"]," ,",["Id","HERE"],">"],["\t\t    <",["Id","GLOBAL-IN?"]," ,",["Id","PRSO"]," ,",["Id","HERE"],">>"],["\t\t<TELL ",["Str","\"It's here!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You should supply a direction!\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-WAVE"]," ()"],["\t <",["Id","HACK-HACK"]," ",["Str","\"Waving the \""],">>"],[],["<ROUTINE ",["Iddef","V-WEAR"]," ()"],["\t <COND (<NOT <FSET? ,",["Id","PRSO"]," ,WEARBIT>>"],["\t\t<TELL ",["Str","\"You can't wear the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<",["Id","PERFORM"]," ,V?TAKE ,",["Id","PRSO"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","V-WIN"]," ()"],["\t <TELL ",["Str","\"Naturally!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WIND"]," ()"],["\t <TELL ",["Str","\"You cannot wind up a \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-WISH"]," ()"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t '<PERFORM ,V?MAKE ,WISH>)"]],["\t\t(T"],["\t\t '<TELL ",["Str","\"With luck, your wish will come true.\""]," CR>)>>"],[],["<ROUTINE ",["Iddef","V-YELL"]," () <TELL ",["Str","\"Aaaarrrrgggghhhh!\""]," CR>>"],[],["<ROUTINE ",["Iddef","V-ZORK"]," () <TELL ",["Str","\"At your service!\""]," CR>>"],[],["^L"],[],[["Str","\"Verb-Associated Routines\""]],[],[["Str","\"Descriptions\""]],[],["<GLOBAL ",["Iddef","LIT"]," <>>"],[],["<GLOBAL ",["Iddef","SPRAYED?"]," <>>"],[],["<ROUTINE ",["Iddef","V-FIRST-LOOK"]," ()"],["\t <COND (<",["Id","DESCRIBE-ROOM"],">"],["\t\t<COND (<NOT ,",["Id","SUPER-BRIEF"],">"],["\t\t       <",["Id","DESCRIBE-OBJECTS"],">)>)>>"],[],["<ROUTINE ",["Iddef","DESCRIBE-ROOM"]," (",["Str","\"OPTIONAL\""]," (",["Localid","LOOK?"]," <>) ",["Str","\"AUX\""]," ",["Localid","V?"]," ",["Localid","STR"]," ",["Localid","AV"],")"],["\t <SET ",["Localid","V?"]," <OR .",["Localid","LOOK?"]," ,",["Id","VERBOSE"],">>"],["\t <COND (<NOT ,",["Id","LIT"],">"],["\t\t<TELL ",["Str","\"It is pitch black.\""],">"],["\t\t<COND (<NOT ,",["Id","SPRAYED?"],">"],["\t\t       <TELL ",["Str","\" You are likely to be eaten by a grue.\""],">)>"],["\t\t<CRLF>"],["\t\t%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t'<COND (<EQUAL? ,HERE ,DARK-2>"]],[["Ifndef","\t\t                <TELL"]],[["Ifndef","\"The ground continues to slope upwards away from the lake. You can barely"]],[["Ifndef","detect a dim light from the east.\" CR>)>)"]],["\t\t       (T"],["\t\t\t'<",["Id","NULL-F"],">)>"],["\t\t<RETURN <>>)>"],["\t <COND (<NOT <FSET? ,",["Id","HERE"]," ,TOUCHBIT>>"],["\t\t<FSET ,",["Id","HERE"]," ,TOUCHBIT>"],["\t\t<SET ",["Localid","V?"]," T>)>"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t '<COND (<FSET? ,",["Id","HERE"]," ,MAZEBIT>"],["\t\t         <FCLEAR ,",["Id","HERE"]," ,TOUCHBIT>)>)"],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<NULL-F>)"],">"],["\t <COND (<IN? ,",["Id","HERE"]," ,",["Id","ROOMS"],">"],["\t\t",["Comment",";\"Was <TELL D ,HERE CR>\""]],["\t\t<TELL D ,",["Id","HERE"],">"],["\t\t<COND (<FSET? <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">> ,VEHBIT>"],["\t\t       <TELL ",["Str","\", in the \""]," D .",["Localid","AV"],">)>"],["\t\t<CRLF>)>"],["\t <COND (<OR .",["Localid","LOOK?"]," <NOT ,",["Id","SUPER-BRIEF"],">>"],["\t\t<SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t\t",["Comment",";<COND (<FSET? .AV ,VEHBIT>"]],[["Comment","\t\t       <TELL \"(You are in the \" D .AV \".)\" CR>)>"]],["\t\t<COND (<AND .",["Localid","V?"]," <APPLY <GETP ,",["Id","HERE"]," ,P?ACTION> ,",["Id","M-LOOK"],">>"],["\t\t       <RTRUE>)"],["\t\t      (<AND .",["Localid","V?"]," <SET ",["Localid","STR"]," <GETP ,",["Id","HERE"]," ,P?LDESC>>>"],["\t\t       <TELL .",["Localid","STR"]," CR>)"],["\t\t      (T"],["\t\t       <APPLY <GETP ,",["Id","HERE"]," ,P?ACTION> ,",["Id","M-FLASH"],">)>"],["\t\t<COND (<AND <NOT <EQUAL? ,",["Id","HERE"]," .",["Localid","AV"],">> <FSET? .",["Localid","AV"]," ,VEHBIT>>"],["\t\t       <APPLY <GETP .",["Localid","AV"]," ,P?ACTION> ,",["Id","M-LOOK"],">)>)>"],["\t T>"],[],["<ROUTINE ",["Iddef","DESCRIBE-OBJECTS"]," (",["Str","\"OPTIONAL\""]," (",["Localid","V?"]," <>))"],["\t <COND (,",["Id","LIT"]],["\t\t<COND (<FIRST? ,",["Id","HERE"],">"],["\t\t       <",["Id","PRINT-CONT"]," ,",["Id","HERE"]," <SET ",["Localid","V?"]," <OR .",["Localid","V?"]," ,",["Id","VERBOSE"],">> -1>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Only bats can see in the dark. And you're not one.\""]," CR>)>>"],[],[["Str","\"DESCRIBE-OBJECT -- takes object and flag.  if flag is true will print a"]],[["Str","long description (fdesc or ldesc), otherwise will print short.\""]],[],["<GLOBAL ",["Iddef","DESC-OBJECT"]," <>>"],[],["<ROUTINE ",["Iddef","DESCRIBE-OBJECT"]," (",["Localid","OBJ"]," ",["Localid","V?"]," ",["Localid","LEVEL"]," ",["Str","\"AUX\""]," (",["Localid","STR"]," <>) ",["Localid","AV"],")"],["\t <SETG ",["Id","DESC-OBJECT"]," .",["Localid","OBJ"],">"],["\t <COND (<AND <0? .",["Localid","LEVEL"],">"],["\t\t     <APPLY <GETP .",["Localid","OBJ"]," ,P?DESCFCN> ,",["Id","M-OBJDESC"],">>"],["\t\t<RTRUE>)"],["\t       (<AND <0? .",["Localid","LEVEL"],">"],["\t\t     <OR <AND <NOT <FSET? .",["Localid","OBJ"]," ,TOUCHBIT>>"],["\t\t\t      <SET ",["Localid","STR"]," <GETP .",["Localid","OBJ"]," ,P?FDESC>>>"],["\t\t\t <SET ",["Localid","STR"]," <GETP .",["Localid","OBJ"]," ,P?LDESC>>>>"],["\t\t<TELL .",["Localid","STR"],">)"],["\t       (<0? .",["Localid","LEVEL"],">"],["\t\t<TELL ",["Str","\"There is a \""]," D .",["Localid","OBJ"]," ",["Str","\" here\""],">"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,ONBIT>"],["\t\t       <TELL ",["Str","\" (providing light)\""],">)>"],["\t\t<TELL ",["Str","\".\""],">)"],["\t       (T"],["\t\t<TELL <GET ,",["Id","INDENTS"]," .",["Localid","LEVEL"],">>"],["\t\t<TELL ",["Str","\"A \""]," D .",["Localid","OBJ"],">"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,ONBIT>"],["\t\t       <TELL ",["Str","\" (providing light)\""],">)"],["\t\t      (<FSET? .",["Localid","OBJ"]," ,WEARBIT>"],["\t\t       <TELL ",["Str","\" (being worn)\""],">)>)>"],["\t %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t '<COND (<AND <EQUAL? .OBJ ,SPELL-VICTIM>"]],[["Ifndef","\t\t              <EQUAL? ,SPELL-USED ,W?FLOAT>>"]],[["Ifndef","\t\t         <TELL \" (floating in midair)\">)>)"]],["\t\t(T"],["\t\t '<",["Id","NULL-F"],">)>"],["\t <COND (<AND <0? .",["Localid","LEVEL"],">"],["\t\t     <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">>"],["\t\t     <FSET? .",["Localid","AV"]," ,VEHBIT>>"],["\t\t<TELL ",["Str","\" (outside the \""]," D .",["Localid","AV"]," ",["Str","\")\""],">)>"],["\t <CRLF>"],["\t <COND (<AND <",["Id","SEE-INSIDE?"]," .",["Localid","OBJ"],"> <FIRST? .",["Localid","OBJ"],">>"],["\t\t<",["Id","PRINT-CONT"]," .",["Localid","OBJ"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)>>"],[],["<ROUTINE ",["Iddef","PRINT-CONTENTS"]," (",["Localid","OBJ"]," ",["Str","\"AUX\""]," ",["Localid","F"]," ",["Localid","N"]," (1ST? T) (",["Localid","IT?"]," <>) (",["Localid","TWO?"]," <>))"],["\t <COND (<SET ",["Localid","F"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t<REPEAT ()"],["\t\t\t<SET ",["Localid","N"]," <NEXT? .",["Localid","F"],">>"],["\t\t\t<COND (.1ST? <SET 1ST? <>>)"],["\t\t\t      (ELSE"],["\t\t\t       <TELL ",["Str","\", \""],">"],["\t\t\t       <COND (<NOT .",["Localid","N"],"> <TELL ",["Str","\"and \""],">)>)>"],["\t\t\t<TELL ",["Str","\"a \""]," D .",["Localid","F"],">"],["\t\t\t<COND (<AND <NOT .",["Localid","IT?"],"> <NOT .",["Localid","TWO?"],">>"],["\t\t\t       <SET ",["Localid","IT?"]," .",["Localid","F"],">)"],["\t\t\t      (ELSE"],["\t\t\t       <SET ",["Localid","TWO?"]," T>"],["\t\t\t       <SET ",["Localid","IT?"]," <>>)>"],["\t\t\t<SET ",["Localid","F"]," .",["Localid","N"],">"],["\t\t\t<COND (<NOT .",["Localid","F"],">"],["\t\t\t       <COND (<AND .",["Localid","IT?"]," <NOT .",["Localid","TWO?"],">>"],["\t\t\t\t      <",["Id","THIS-IS-IT"]," .",["Localid","IT?"],">)>"],["\t\t\t       <RTRUE>)>>)>>"],[],["<ROUTINE ",["Iddef","PRINT-CONT"]," (",["Localid","OBJ"]," ",["Str","\"OPTIONAL\""]," (",["Localid","V?"]," <>) (",["Localid","LEVEL"]," 0)"],["\t\t     ",["Str","\"AUX\""]," ",["Localid","Y"]," 1",["Localid","ST?"]," ",["Localid","SHIT"]," ",["Localid","AV"]," ",["Localid","STR"]," (",["Localid","PV?"]," <>) (",["Localid","INV?"]," <>))"],["\t <COND (<NOT <SET ",["Localid","Y"]," <FIRST? .",["Localid","OBJ"],">>> <RTRUE>)>"],["\t <COND (<AND <SET ",["Localid","AV"]," <LOC ,",["Id","WINNER"],">> <FSET? .",["Localid","AV"]," ,VEHBIT>>"],["\t\tT)"],["\t       (ELSE <SET ",["Localid","AV"]," <>>)>"],["\t <SET 1",["Localid","ST?"]," T>"],["\t <SET ",["Localid","SHIT"]," T>"],["\t <COND (<EQUAL? ,",["Id","WINNER"]," .",["Localid","OBJ"]," <LOC .",["Localid","OBJ"],">>"],["\t\t<SET ",["Localid","INV?"]," T>)"],["\t       (ELSE"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .",["Localid","Y"],">"],["\t\t\t       <RETURN>)"],["\t\t\t      (<EQUAL? .",["Localid","Y"]," .",["Localid","AV"],"> <SET ",["Localid","PV?"]," T>)"],["\t\t\t      (<EQUAL? .",["Localid","Y"]," ,",["Id","WINNER"],">)"],["\t\t\t      (<AND <NOT <FSET? .",["Localid","Y"]," ,INVISIBLE>>"],["\t\t\t\t    <NOT <FSET? .",["Localid","Y"]," ,TOUCHBIT>>"],["\t\t\t\t    <SET ",["Localid","STR"]," <GETP .",["Localid","Y"]," ,P?FDESC>>>"],["\t\t\t       <COND (<NOT <FSET? .",["Localid","Y"]," ,NDESCBIT>>"],["\t\t\t\t      <TELL .",["Localid","STR"]," CR>"],["\t\t\t\t      <SET ",["Localid","SHIT"]," <>>"],["\t\t\t\t      ",["Comment",";<SET 1ST? <>>"],")>"],["\t\t\t       <COND (<AND <",["Id","SEE-INSIDE?"]," .",["Localid","Y"],">"],["\t\t\t\t\t   <NOT <GETP <LOC .",["Localid","Y"],"> ,P?DESCFCN>>"],["\t\t\t\t\t   <FIRST? .",["Localid","Y"],">>"],["\t\t\t\t      <COND (<",["Iddef","PRINT-CONT"]," .",["Localid","Y"]," .",["Localid","V?"]," 0>"],["\t\t\t\t\t     <SET 1",["Localid","ST?"]," <>>)>)>)>"],["\t\t\t<SET ",["Localid","Y"]," <NEXT? .",["Localid","Y"],">>>)>"],["\t <SET ",["Localid","Y"]," <FIRST? .",["Localid","OBJ"],">>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .",["Localid","Y"],">"],["\t\t\t<COND (<AND .",["Localid","PV?"]," .",["Localid","AV"]," <FIRST? .",["Localid","AV"],">>"],["\t\t\t       <SET ",["Localid","LEVEL"]," <+ .",["Localid","LEVEL"]," 1>> ",["Comment",";\"not in Zork III\""]],["\t\t\t       <",["Iddef","PRINT-CONT"]," .",["Localid","AV"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)>"],["\t\t\t<RETURN>)"],["\t\t       (<EQUAL? .",["Localid","Y"]," .",["Localid","AV"]," ,",["Id","ADVENTURER"],">)"],["\t\t       (<AND <NOT <FSET? .",["Localid","Y"]," ,INVISIBLE>>"],["\t\t\t     <OR .",["Localid","INV?"]],["\t\t\t\t <FSET? .",["Localid","Y"]," ,TOUCHBIT>"],["\t\t\t\t <NOT <GETP .",["Localid","Y"]," ,P?FDESC>>>>"],["\t\t\t<COND (<NOT <FSET? .",["Localid","Y"]," ,NDESCBIT>>"],["\t\t\t       <COND (.1",["Localid","ST?"]],["\t\t\t\t      <COND (<",["Id","FIRSTER"]," .",["Localid","OBJ"]," .",["Localid","LEVEL"],">"],["\t\t\t\t\t     <COND (<L? .",["Localid","LEVEL"]," 0>"],["\t\t\t\t\t\t    <SET ",["Localid","LEVEL"]," 0>)>)>"],["\t\t\t\t      <SET ",["Localid","LEVEL"]," <+ 1 .",["Localid","LEVEL"],">>"],["\t\t\t\t      <SET 1",["Localid","ST?"]," <>>)>"],["\t\t\t       <COND (<L? .",["Localid","LEVEL"]," 0> <SET ",["Localid","LEVEL"]," 0>)>"],["\t\t\t       <",["Id","DESCRIBE-OBJECT"]," .",["Localid","Y"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)"],["\t\t\t      (<AND <FIRST? .",["Localid","Y"],"> <",["Id","SEE-INSIDE?"]," .",["Localid","Y"],">>"],["\t\t\t       <SET ",["Localid","LEVEL"]," <+ .",["Localid","LEVEL"]," 1>> ",["Comment",";\"not in Zork III\""]],["\t\t\t       <",["Iddef","PRINT-CONT"]," .",["Localid","Y"]," .",["Localid","V?"]," .",["Localid","LEVEL"],">)>)>"],["\t\t <SET ",["Localid","Y"]," <NEXT? .",["Localid","Y"],">>>"],["\t <COND (<AND .1",["Localid","ST?"]," .",["Localid","SHIT"],"> <RFALSE>) (T <RTRUE>)>>"],[],["<ROUTINE ",["Iddef","FIRSTER"]," (",["Localid","OBJ"]," ",["Localid","LEVEL"],")"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? .",["Localid","OBJ"]," ,",["Id","TROPHY-CASE"],">"],["\t\t         <TELL"],[["Str","\"Your collection of treasures consists of:\""]," CR>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F> <RTRUE>))"],">"],["\t       (<EQUAL? .",["Localid","OBJ"]," ,",["Id","WINNER"],">"],["\t\t<TELL ",["Str","\"You are carrying:\""]," CR>)"],["\t       (<NOT <IN? .",["Localid","OBJ"]," ,",["Id","ROOMS"],">>"],["\t\t<COND (<G? .",["Localid","LEVEL"]," 0>"],["\t\t       <TELL <GET ,",["Id","INDENTS"]," .",["Localid","LEVEL"],">>)>"],["\t\t<COND (<FSET? .",["Localid","OBJ"]," ,SURFACEBIT>"],["\t\t       <TELL ",["Str","\"Sitting on the \""]," D .",["Localid","OBJ"]," ",["Str","\" is: \""]," CR>)"],["\t\t      (<FSET? .",["Localid","OBJ"]," ,ACTORBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" is holding: \""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D .",["Localid","OBJ"]," ",["Str","\" contains:\""]," CR>)>)>>"],[],["<ROUTINE ",["Iddef","SEE-INSIDE?"]," (",["Localid","OBJ"],")"],["\t <AND <NOT <FSET? .",["Localid","OBJ"]," ,INVISIBLE>>"],["\t      <OR <FSET? .",["Localid","OBJ"]," ,TRANSBIT> <FSET? .",["Localid","OBJ"]," ,OPENBIT>>>>"],[],[["Str","\"Scoring\""]],[],["<GLOBAL ",["Iddef","MOVES"]," 0>"],[],["<GLOBAL ",["Iddef","SCORE"]," 0>"],[],["<GLOBAL ",["Iddef","BASE-SCORE"]," 0>"],[],["<GLOBAL ",["Iddef","WON-FLAG"]," <>>"],[],["<ROUTINE ",["Iddef","SCORE-UPD"]," (",["Localid","NUM"],")"],["\t <SETG ",["Id","BASE-SCORE"]," <+ ,",["Id","BASE-SCORE"]," .",["Localid","NUM"],">>"],["\t <SETG ",["Id","SCORE"]," <+ ,",["Id","SCORE"]," .",["Localid","NUM"],">>"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t '<COND (<AND <EQUAL? ,",["Id","SCORE"]," 350>"],["\t\t              <NOT ,",["Id","WON-FLAG"],">>"],["\t\t         <SETG ",["Id","WON-FLAG"]," T>"],["\t\t         <FCLEAR ,",["Id","MAP"]," ,INVISIBLE>"],["\t\t         <FCLEAR ,",["Id","WEST-OF-HOUSE"]," ,TOUCHBIT>"],["\t\t         <TELL"],[["Str","\"An almost inaudible voice whispers in your ear, \\\"Look to your treasures"]],[["Str","for the final secret.\\\"\""]," CR>)>)"],["\t\t",["Ifndef","(T"]],[["Ifndef","\t\t '<NULL-F>)"],">"],["\t T>"],[],["<ROUTINE ",["Iddef","SCORE-OBJ"]," (",["Localid","OBJ"]," ",["Str","\"AUX\""]," ",["Localid","TEMP"],")"],["\t <COND (<G? <SET ",["Localid","TEMP"]," <GETP .",["Localid","OBJ"]," ,P?VALUE>> 0>"],["\t\t<",["Id","SCORE-UPD"]," .",["Localid","TEMP"],">"],["\t\t<PUTP .",["Localid","OBJ"]," ,P?VALUE 0>)>>"],[],["<ROUTINE ",["Iddef","FINISH"]," ()"],["\t <",["Id","V-SCORE"],">"],["\t <QUIT>>"],[],["<ROUTINE ",["Iddef","YES?"]," ()"],["\t <PRINTI ",["Str","\">\""],">"],["\t <READ ,",["Id","P-INBUF"]," ,",["Id","P-LEXV"],">"],["\t <COND (<EQUAL? <GET ,",["Id","P-LEXV"]," 1> ,W?YES ,W?Y>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<RFALSE>)>>"],[],[["Str","\"Death\""]],[],["<GLOBAL ",["Iddef","DEAD"]," <>>"],[],["<GLOBAL ",["Iddef","DEATHS"]," 0>"],[],["<GLOBAL ",["Iddef","LUCKY"]," 1>"],[],[["Comment",";\"JIGS-UP is in ACTIONS.ZIL\""]],[],[["Comment",";\"RANDOMIZE-OBJECTS is in ACTIONS.ZIL\""]],[],[["Comment",";\"KILL-INTERRUPTS is in ACTIONS.ZIL\""]],[],[["Str","\"Object Manipulation\""]],[],["<GLOBAL ",["Iddef","FUMBLE-NUMBER"]," 7>"],[],["<GLOBAL ",["Iddef","FUMBLE-PROB"]," 8>"],[],["<ROUTINE ",["Iddef","ITAKE"]," (",["Str","\"OPTIONAL\""]," (",["Localid","VB"]," T) ",["Str","\"AUX\""]," ",["Localid","CNT"]," ",["Localid","OBJ"],")"],["\t #DECL ((",["Localid","VB"],") <OR ATOM FALSE> (",["Localid","CNT"],") FIX (",["Localid","OBJ"],") OBJECT)"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(,",["Id","DEAD"]],["\t\t         <COND (.",["Localid","VB"]],["\t\t\t\t<TELL"],[["Str","\"Your hand passes through its object.\""]," CR>)>"],["\t\t         <RFALSE>))"],["\t\t      ",["Ifndef","(T"]],[["Ifndef","\t\t       '(<NULL-F>"]],[["Ifndef","\t\t\t <RFALSE>))"],">"],["\t       (<NOT <FSET? ,",["Id","PRSO"]," ,TAKEBIT>>"],["\t\t<COND (.",["Localid","VB"]],["\t\t       <TELL <",["Id","PICK-ONE"]," ,",["Id","YUKS"],"> CR>)>"],["\t\t<RFALSE>)"],["\t       %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t       '(<AND <EQUAL? ,PRSO ,SPELL-VICTIM>"]],[["Ifndef","\t\t              <EQUAL? ,SPELL-USED ,W?FLOAT ,W?FREEZE>>"]],[["Ifndef","\t\t         <COND (<EQUAL? ,SPELL-USED ,W?FLOAT>"]],[["Ifndef","\t\t                <TELL"]],[["Ifndef","\"You can't reach that. It's floating above your head.\" CR>)"]],[["Ifndef","\t\t               (T"]],[["Ifndef","\t\t                <TELL \"It seems rooted to the spot.\" CR>)>"]],[["Ifndef","\t\t         <RFALSE>))"]],["\t\t      (T"],["\t\t       '(<",["Id","NULL-F"],">"],["\t\t\t <RFALSE>))>"],["\t       (<AND <FSET? <LOC ,",["Id","PRSO"],"> ,CONTBIT>"],["\t\t     <NOT <FSET? <LOC ,",["Id","PRSO"],"> ,OPENBIT>>>"],["\t\t",["Comment",";\"Kludge for parser calling itake\""]],["\t\t<RFALSE>)"],["\t       (<AND <NOT <IN? <LOC ,",["Id","PRSO"],"> ,",["Id","WINNER"],">>"],["\t\t     <G? <+ <",["Id","WEIGHT"]," ,",["Id","PRSO"],"> <",["Id","WEIGHT"]," ,",["Id","WINNER"],">> ,",["Id","LOAD-ALLOWED"],">>"],["\t\t<COND (.",["Localid","VB"]],["\t\t       <TELL ",["Str","\"Your load is too heavy\""],">"],["\t\t       <COND (<L? ,",["Id","LOAD-ALLOWED"]," ,",["Id","LOAD-MAX"],">"],["\t\t\t      <TELL",["Str","\", especially in light of your condition.\""],">)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\".\""],">)>"],["\t\t       <CRLF>)>"],["\t\t<RFATAL>)"],["\t       (<AND <VERB? TAKE>"],["\t\t     <G? <SET ",["Localid","CNT"]," <",["Id","CCOUNT"]," ,",["Id","WINNER"],">> ,",["Id","FUMBLE-NUMBER"],">"],["\t\t     <PROB <* .",["Localid","CNT"]," ,",["Id","FUMBLE-PROB"],">>>"],["\t\t<TELL"],[["Str","\"You're holding too many things already!\""]," CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<MOVE ,",["Id","PRSO"]," ,",["Id","WINNER"],">"],["\t\t<FSET ,",["Id","PRSO"]," ,TOUCHBIT>"],["\t\t%<COND ",["Ifndef","(<==? ,ZORK-NUMBER 2>"]],[["Ifndef","\t\t\t'<COND (<EQUAL? ,SPELL? ,S-FILCH>"]],[["Ifndef","\t\t                <COND (<RIPOFF ,PRSO ,WIZARD-CASE>"]],[["Ifndef","\t\t\t               <TELL"]],[["Ifndef","\"When you touch the \" D ,PRSO \" it immediately disappears!\" CR>"]],[["Ifndef","\t\t\t               <RFALSE>)>)>)"]],["\t\t       (T"],["\t\t\t'<",["Id","NULL-F"],">)>"],["\t\t%<COND (<OR <==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t    <==? ,",["Id","ZORK-NUMBER"]," 2>>"],["\t\t\t'<",["Id","SCORE-OBJ"]," ,",["Id","PRSO"],">)"],["\t\t       ",["Ifndef","(T"]],[["Ifndef","\t\t\t'<NULL-F>)"],">"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","IDROP"]," ()"],["\t <COND (<AND <NOT <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">>"],["\t\t     <NOT <IN? <LOC ,",["Id","PRSO"],"> ,",["Id","WINNER"],">>>"],["\t\t<TELL ",["Str","\"You're not carrying the \""]," D ,",["Id","PRSO"]," ",["Str","\".\""]," CR>"],["\t\t<RFALSE>)"],["\t       (<AND <NOT <IN? ,",["Id","PRSO"]," ,",["Id","WINNER"],">>"],["\t\t     <NOT <FSET? <LOC ,",["Id","PRSO"],"> ,OPENBIT>>>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" is closed.\""]," CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<MOVE ,",["Id","PRSO"]," <LOC ,",["Id","WINNER"],">>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE ",["Iddef","CCOUNT"]," (",["Localid","OBJ"]," ",["Str","\"AUX\""]," (",["Localid","CNT"]," 0) ",["Localid","X"],")"],["\t <COND (<SET ",["Localid","X"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT <FSET? .",["Localid","X"]," ,WEARBIT>>"],["\t\t\t       <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>>)>"],["\t\t\t<COND (<NOT <SET ",["Localid","X"]," <NEXT? .",["Localid","X"],">>>"],["\t\t\t       <RETURN>)>>)>"],["\t .",["Localid","CNT"],">"],[],["<ROUTINE ",["Iddef","WEIGHT"]," (",["Localid","OBJ"]," ",["Str","\"AUX\""]," ",["Localid","CONT"]," (",["Localid","WT"]," 0))"],["\t <COND (<SET ",["Localid","CONT"]," <FIRST? .",["Localid","OBJ"],">>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<AND <EQUAL? .",["Localid","OBJ"]," ,",["Id","PLAYER"],">"],["\t\t\t\t    <FSET? .",["Localid","CONT"]," ,WEARBIT>>"],["\t\t\t       <SET ",["Localid","WT"]," <+ .",["Localid","WT"]," 1>>)"],["\t\t\t      (T"],["\t\t\t       <SET ",["Localid","WT"]," <+ .",["Localid","WT"]," <",["Iddef","WEIGHT"]," .",["Localid","CONT"],">>>)>"],["\t\t\t<COND (<NOT <SET ",["Localid","CONT"]," <NEXT? .",["Localid","CONT"],">>> <RETURN>)>>)>"],["\t <+ .",["Localid","WT"]," <GETP .",["Localid","OBJ"]," ,P?SIZE>>>"],[],[["Str","\"Miscellaneous\""]],[],["<CONSTANT ",["Iddef","REXIT"]," 0>"],["<CONSTANT ",["Iddef","UEXIT"]," 1>"],["<CONSTANT ",["Iddef","NEXIT"]," 2>"],["<CONSTANT ",["Iddef","FEXIT"]," 3>"],["<CONSTANT ",["Iddef","CEXIT"]," 4>"],["<CONSTANT ",["Iddef","DEXIT"]," 5>"],[],["<CONSTANT ",["Iddef","NEXITSTR"]," 0>"],["<CONSTANT ",["Iddef","FEXITFCN"]," 0>"],["<CONSTANT ",["Iddef","CEXITFLAG"]," 1>"],["<CONSTANT ",["Iddef","CEXITSTR"]," 1>"],["<CONSTANT ",["Iddef","DEXITOBJ"]," 1>"],["<CONSTANT ",["Iddef","DEXITSTR"]," 1>"],[],["<GLOBAL ",["Iddef","INDENTS"]],["\t<TABLE ",["Str","\"\""]],["\t       ",["Str","\"  \""]],["\t       ",["Str","\"    \""]],["\t       ",["Str","\"      \""]],["\t       ",["Str","\"        \""]],["\t       ",["Str","\"          \""],">>"],[],["<ROUTINE ",["Iddef","HACK-HACK"]," (",["Localid","STR"],")"],["\t <COND (<AND <IN? ,",["Id","PRSO"]," ,",["Id","GLOBAL-OBJECTS"],">"],["\t\t     <VERB? WAVE RAISE LOWER>>"],["\t\t<TELL ",["Str","\"The \""]," D ,",["Id","PRSO"]," ",["Str","\" isn't here!\""]," CR>)"],["\t       (T"],["\t\t<TELL .",["Localid","STR"]," D ,",["Id","PRSO"]," <",["Id","PICK-ONE"]," ,",["Id","HO-HUM"],"> CR>)>>"],[],["<GLOBAL ",["Iddef","HO-HUM"]],["\t<LTABLE"],["\t 0"],["\t ",["Str","\" doesn't seem to work.\""]],["\t ",["Str","\" isn't notably helpful.\""]],["\t ",["Str","\" has no effect.\""],">>"],[],["<ROUTINE ",["Iddef","NO-GO-TELL"]," (",["Localid","AV"]," ",["Localid","WLOC"],")"],["\t <COND (.",["Localid","AV"]],["\t\t<TELL ",["Str","\"You can't go there in a \""]," D .",["Localid","WLOC"]," ",["Str","\".\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go there without a vehicle.\""],">)>"],["\t <CRLF>>"],[],["<ROUTINE ",["Iddef","GOTO"]," (",["Localid","RM"]," ",["Str","\"OPTIONAL\""]," (",["Localid","V?"]," T)"],["\t       ",["Str","\"AUX\""]," (",["Localid","LB"]," <FSET? .",["Localid","RM"]," ,RLANDBIT>) (",["Localid","WLOC"]," <LOC ,",["Id","WINNER"],">)"],["\t             (",["Localid","AV"]," <>) ",["Localid","OLIT"],")"],["\t <SET ",["Localid","OLIT"]," ,",["Id","LIT"],">"],["\t <COND (<FSET? .",["Localid","WLOC"]," ,VEHBIT>"],["\t\t<SET ",["Localid","AV"]," <GETP .",["Localid","WLOC"]," ,P?VTYPE>>)>"],["\t <COND (<AND <NOT .",["Localid","LB"],">"],["\t\t     <NOT .",["Localid","AV"],">>"],["\t\t<",["Id","NO-GO-TELL"]," .",["Localid","AV"]," .",["Localid","WLOC"],">"],["\t\t<RFALSE>)"],["\t       (<AND <NOT .",["Localid","LB"],">"],["\t\t     <NOT <FSET? .",["Localid","RM"]," .",["Localid","AV"],">>>"],["\t\t<",["Id","NO-GO-TELL"]," .",["Localid","AV"]," .",["Localid","WLOC"],">"],["\t\t<RFALSE>)"],["\t       (<AND <FSET? ,",["Id","HERE"]," ,RLANDBIT>"],["\t\t     .",["Localid","LB"]],["\t\t     .",["Localid","AV"]],["\t\t     <NOT <EQUAL? .",["Localid","AV"]," ,RLANDBIT>>"],["\t\t     <NOT <FSET? .",["Localid","RM"]," .",["Localid","AV"],">>>"],["\t\t<",["Id","NO-GO-TELL"]," .",["Localid","AV"]," .",["Localid","WLOC"],">"],["\t\t<RFALSE>)"],["\t       (<FSET? .",["Localid","RM"]," ,RMUNGBIT>"],["\t\t<TELL <GETP .",["Localid","RM"]," ,P?LDESC> CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<COND (<AND .",["Localid","LB"]],["\t\t\t    <NOT <FSET? ,",["Id","HERE"]," ,RLANDBIT>>"],["\t\t\t    <NOT ,",["Id","DEAD"],">"],["\t\t\t    <FSET? .",["Localid","WLOC"]," ,VEHBIT>>"],["\t\t       <TELL"],[["Str","\"The \""]," D .",["Localid","WLOC"]," ",["Str","\" comes to a rest on the shore.\""]," CR CR>)>"],["\t\t<COND (.",["Localid","AV"]],["\t\t       <MOVE .",["Localid","WLOC"]," .",["Localid","RM"],">)"],["\t\t      (T"],["\t\t       <MOVE ,",["Id","WINNER"]," .",["Localid","RM"],">)>"],["\t\t<SETG ",["Id","HERE"]," .",["Localid","RM"],">"],["\t\t<SETG ",["Id","LIT"]," <",["Id","LIT?"]," ,",["Id","HERE"],">>"],["\t\t<COND (<AND <NOT .",["Localid","OLIT"],">"],["\t\t\t    <NOT ,",["Id","LIT"],">"],["\t\t\t    <PROB 80>>"],["\t\t       <COND (,",["Id","SPRAYED?"]],["\t\t\t      <TELL"],[["Str","\"There are sinister gurgling noises in the darkness all around you!\""]," CR>)"],["\t\t\t     %<COND ",["Ifndef","(<==? ,ZORK-NUMBER 3>"]],[["Ifndef","\t\t\t\t     '(<EQUAL? ,HERE ,DARK-1 ,DARK-2>"]],[["Ifndef","\t\t                       <JIGS-UP"]],[["Ifndef","\"Oh, no! Dozen of lurking grues attack and devour you! You must have"]],[["Ifndef","stumbled into an authentic grue lair!\">))"]],["\t\t\t\t    (T"],["\t\t\t\t     '(<",["Id","NULL-F"],">"],["\t\t\t\t       <RFALSE>))>"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"Oh, no! A lurking grue slithered into the \""],">"],["\t\t\t      <COND (<FSET? <LOC ,",["Id","WINNER"],"> ,VEHBIT>"],["\t\t\t\t     <TELL D <LOC ,",["Id","WINNER"],">>)"],["\t\t\t\t    (T <TELL ",["Str","\"room\""],">)>"],["\t\t\t      <",["Id","JIGS-UP"]," ",["Str","\" and devoured you!\""],">"],["\t\t\t      <RTRUE>)>)>"],["\t\t<COND (<AND <NOT ,",["Id","LIT"],">"],["\t\t\t    <EQUAL? ,",["Id","WINNER"]," ,",["Id","ADVENTURER"],">>"],["\t\t       <TELL ",["Str","\"You have moved into a dark place.\""]," CR>"],["\t\t       <SETG ",["Id","P-CONT"]," <>>)>"],["\t\t<APPLY <GETP ,",["Id","HERE"]," ,P?ACTION> ,",["Id","M-ENTER"],">"],["\t\t<",["Id","SCORE-OBJ"]," .",["Localid","RM"],">"],["\t\t<COND (<NOT <EQUAL? ,",["Id","HERE"]," .",["Localid","RM"],">> <RTRUE>)"],["\t\t      (<NOT <EQUAL? ,",["Id","ADVENTURER"]," ,",["Id","WINNER"],">>"],["\t\t       <TELL ",["Str","\"The \""]," D ,",["Id","WINNER"]," ",["Str","\" leaves the room.\""]," CR>)"],["\t\t      (.",["Localid","V?"]," <",["Id","V-FIRST-LOOK"],">)>"],["\t\t<RTRUE>)>>"],[],[["Comment",";\"0 -> no next, 1 -> success, 2 -> failed move\""]],[],["<ROUTINE ",["Iddef","GO-NEXT"]," (",["Localid","TBL"]," ",["Str","\"AUX\""]," ",["Localid","VAL"],")"],["\t <COND (<SET ",["Localid","VAL"]," <",["Id","LKP"]," ,",["Id","HERE"]," .",["Localid","TBL"],">>"],["\t\t<COND (<NOT <",["Id","GOTO"]," .",["Localid","VAL"],">> 2)"],["\t\t      (T 1)>)>>"],[],["<ROUTINE ",["Iddef","LKP"]," (",["Localid","ITM"]," ",["Localid","TBL"]," ",["Str","\"AUX\""]," (",["Localid","CNT"]," 0) (",["Localid","LEN"]," <GET .",["Localid","TBL"]," 0>))"],["\t <REPEAT ()"],["\t\t <COND (<G? <SET ",["Localid","CNT"]," <+ .",["Localid","CNT"]," 1>> .",["Localid","LEN"],">"],["\t\t\t<RFALSE>)"],["\t\t       (<EQUAL? <GET .",["Localid","TBL"]," .",["Localid","CNT"],"> .",["Localid","ITM"],">"],["\t\t\t<COND (<EQUAL? .",["Localid","CNT"]," .",["Localid","LEN"],"> <RFALSE>)"],["\t\t\t      (T"],["\t\t\t       <RETURN <GET .",["Localid","TBL"]," <+ .",["Localid","CNT"]," 1>>>)>)>>>"],[],["<ROUTINE ",["Iddef","DO-WALK"]," (",["Localid","DIR"],")"],["\t <SETG ",["Id","P-WALK-DIR"]," .",["Localid","DIR"],">"],["\t <",["Id","PERFORM"]," ,V?WALK .",["Localid","DIR"],">>"],[],["<ROUTINE ",["Iddef","WORD-TYPE"]," (",["Localid","OBJ"]," ",["Localid","WORD"]," ",["Str","\"AUX\""]," ",["Localid","SYNS"],")"],["\t <",["Id","ZMEMQ"]," .",["Localid","WORD"]],["\t\t<SET ",["Localid","SYNS"]," <GETPT .",["Localid","OBJ"]," ,P?SYNONYM>>"],["\t\t<- </ <PTSIZE .",["Localid","SYNS"],"> 2> 1>>>"],[],["<ROUTINE ",["Iddef","GLOBAL-IN?"]," (",["Localid","OBJ1"]," ",["Localid","OBJ2"]," ",["Str","\"AUX\""]," ",["Localid","TX"],")"],["\t <COND (<SET ",["Localid","TX"]," <GETPT .",["Localid","OBJ2"]," ,P?GLOBAL>>"],["\t\t<",["Id","ZMEMQB"]," .",["Localid","OBJ1"]," .",["Localid","TX"]," <- <PTSIZE .",["Localid","TX"],"> 1>>)>>"],[],["<ROUTINE ",["Iddef","FIND-IN"]," (",["Localid","WHERE"]," ",["Localid","WHAT"]," ",["Str","\"AUX\""]," ",["Localid","W"],")"],["\t <SET ",["Localid","W"]," <FIRST? .",["Localid","WHERE"],">>"],["\t <COND (<NOT .",["Localid","W"],">"],["\t\t<RFALSE>)>"],["\t <REPEAT ()"],["\t\t <COND (<AND <FSET? .",["Localid","W"]," .",["Localid","WHAT"],">"],["\t\t\t     <NOT <EQUAL? .",["Localid","W"]," ,",["Id","ADVENTURER"],">>>"],["\t\t\t<RETURN .",["Localid","W"],">)"],["\t\t       (<NOT <SET ",["Localid","W"]," <NEXT? .",["Localid","W"],">>>"],["\t\t\t<RETURN <>>)>>>"],[],[],["<ROUTINE ",["Iddef","IN-HERE?"]," (",["Localid","OBJ"],")"],["\t <OR <IN? .",["Localid","OBJ"]," ,",["Id","HERE"],">"],["\t     <",["Id","GLOBAL-IN?"]," .",["Localid","OBJ"]," ,",["Id","HERE"],">>>"],[],["<ROUTINE ",["Iddef","HELD?"]," (",["Localid","CAN"],")"],["\t <REPEAT ()"],["\t\t <SET ",["Localid","CAN"]," <LOC .",["Localid","CAN"],">>"],["\t\t <COND (<NOT .",["Localid","CAN"],"> <RFALSE>)"],["\t\t       (<EQUAL? .",["Localid","CAN"]," ,",["Id","WINNER"],"> <RTRUE>)>>>"],[],["<ROUTINE ",["Iddef","OTHER-SIDE"]," (",["Localid","DOBJ"]," ",["Str","\"AUX\""]," (",["Localid","P"]," 0) ",["Localid","TX"],") ",["Comment",";\"finds room beyond given door\""]],["\t <REPEAT ()"],["\t\t <COND (<L? <SET ",["Localid","P"]," <NEXTP ,",["Id","HERE"]," .",["Localid","P"],">> ,",["Id","LOW-DIRECTION"],">"],["\t\t\t<RETURN <>>)"],["\t\t       (ELSE"],["\t\t\t<SET ",["Localid","TX"]," <GETPT ,",["Id","HERE"]," .",["Localid","P"],">>"],["\t\t\t<COND (<AND <EQUAL? <PTSIZE .",["Localid","TX"],"> ,",["Id","DEXIT"],">"],["\t\t\t\t    <EQUAL? <GETB .",["Localid","TX"]," ,",["Id","DEXITOBJ"],"> .",["Localid","DOBJ"],">>"],["\t\t\t       <RETURN .",["Localid","P"],">)>)>>>"],[],["<ROUTINE ",["Iddef","MUNG-ROOM"]," (",["Localid","RM"]," ",["Localid","STR"],")"],["\t <FSET .",["Localid","RM"]," ,RMUNGBIT>"],["\t <PUTP .",["Localid","RM"]," ,P?LDESC .",["Localid","STR"],">>"],[],["<ROUTINE ",["Iddef","THIS-IS-IT"]," (",["Localid","OBJ"],")"],["\t <SETG ",["Id","P-IT-OBJECT"]," .",["Localid","OBJ"],">"],["\t <SETG ",["Id","P-IT-LOC"]," ,",["Id","HERE"],">>"],[],["<GLOBAL ",["Iddef","SWIMYUKS"]],["\t<LTABLE 0 ",["Str","\"You can't swim in the dungeon.\""],">>"],[],["<GLOBAL ",["Iddef","HELLOS"]],["\t<LTABLE 0 ",["Str","\"Hello.\""]],["\t       ",["Str","\"Good day.\""]],["\t       ",["Str","\"Nice weather we've been having lately.\""]],["\t       ",["Str","\"Goodbye.\""],">>"],[],["<GLOBAL ",["Iddef","YUKS"]],["\t<LTABLE"],["\t 0"],["\t ",["Str","\"A valiant attempt.\""]],["\t ",["Str","\"You can't be serious.\""]],["\t ",["Comment",";\"Not bloody likely.\""]],["\t ",["Str","\"An interesting idea...\""]],["\t ",["Str","\"What a concept!\""],">>"],[],["<GLOBAL ",["Iddef","DUMMY"]],["\t<LTABLE 0"],["\t\t",["Str","\"Look around.\""]],["\t        ",["Str","\"Too late for that.\""]],["\t        ",["Str","\"Have your eyes checked.\""],">>"]]};
