window.gamedat_sourcefiles = {"zork1.zil":[[["Str","\"ZORK1 for"]],[["Str","\t        Zork I: The Great Underground Empire"]],[["Str","\t(c) Copyright 1983 Infocom, Inc.  All Rights Reserved.\""]],[],["<SETG ",["Id","ZORK-NUMBER"]," 1>"],[],["<GC 0 T 5>"],[],["<BLOAT 70000 0 0 2700 0 0 0 0 0 256>"],[],["<SET REDEFINE T>"],[],["<GLOBAL BIGFIX 10000>"],[],["<OR <GASSIGNED? ZILCH>"],["    <SETG WBREAKS <STRING !\\\" !,WBREAKS>>>"],[],["<DEFINE IFILE (STR ",["Str","\"OPTIONAL\""]," (FLOAD? <>) ",["Str","\"AUX\""]," (TIM <TIME>))"],["\t<INSERT-FILE .STR .FLOAD?>>"],[],["<PRINC ",["Str","\"Renovated ZORK I: The Great Underground Empire"]],[["Str","\""],">"],[],["<OR <GASSIGNED? INSERT-CRUFTY>"],["    <DEFINE INSERT-CRUFTY (STR) <INSERT-FILE .STR T>>>"],[],["<COND (<GASSIGNED? PREDGEN>"],["       <ID 0>)>"],[],["<IFILE ",["Str","\"GMACROS\""]," T>"],[],["<IFILE ",["Str","\"GSYNTAX\""]," T>"],["<IFILE ",["Str","\"1DUNGEON\""]," T>"],["<IFILE ",["Str","\"GGLOBALS\""]," T>"],[],["<PROPDEF SIZE 5>"],["<PROPDEF CAPACITY 0>"],["<PROPDEF VALUE 0>"],["<PROPDEF TVALUE 0>"],[],["<IFILE ",["Str","\"GCLOCK\""]," T>"],["<IFILE ",["Str","\"GMAIN\""]," T>"],["<IFILE ",["Str","\"GPARSER\""]," T>"],["<IFILE ",["Str","\"GVERBS\""]," T>"],["<IFILE ",["Str","\"1ACTIONS\""]," T>"],[],["<GC 0 T>"],[],["<DEFINE CNT (STR OBL)"],["\t<PRINC .STR>"],["\t<PRIN1 <MAPF ,+ ,LENGTH .OBL>>"],["\t<CRLF>>"],[],["<COND (<NOT <GASSIGNED? PREDGEN>>"],["       <GC-MON T>)>"],[]],"1actions.zil":[[["Str","\"1ACTIONS for"]],[["Str","\t        Zork I: The Great Underground Empire"]],[["Str","\t(c) Copyright 1983 Infocom, Inc. All Rights Reserved.\""]],[],[["Str","\"SUBTITLE THE WHITE HOUSE\""]],[],["<ROUTINE WEST-HOUSE (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are standing in an open field west of a white house, with a boarded"]],[["Str","front door.\""],">"],["\t\t<COND (,WON-FLAG"],["\t\t       <TELL"],[["Str","\" A secret path leads southwest into the forest.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE EAST-HOUSE (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are behind the white house. A path leads into the forest"]],[["Str","to the east. In one corner of the house there is a small window"]],[["Str","which is \""],">"],["\t\t<COND (<FSET? ,KITCHEN-WINDOW ,OPENBIT>"],["\t\t       <TELL ",["Str","\"open.\""],">)"],["\t\t      (T <TELL ",["Str","\"slightly ajar.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE OPEN-CLOSE (OBJ STROPN STRCLS)"],["\t <COND (<VERB? OPEN>"],["\t\t<COND (<FSET? .OBJ ,OPENBIT>"],["\t\t       <TELL <PICK-ONE ,DUMMY>>)"],["\t\t      (T"],["\t\t       <TELL .STROPN>"],["\t\t       <FSET .OBJ ,OPENBIT>)>"],["\t\t<CRLF>)"],["\t       (<VERB? CLOSE>"],["\t\t<COND (<FSET? .OBJ ,OPENBIT>"],["\t\t       <TELL .STRCLS>"],["\t\t       <FCLEAR .OBJ ,OPENBIT>"],["\t\t       T)"],["\t\t      (T <TELL <PICK-ONE ,DUMMY>>)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE ",["Id","BOARD-F"]," ()"],["\t <COND (<VERB? TAKE EXAMINE>"],["\t\t<TELL ",["Str","\"The boards are securely fastened.\""]," CR>)>>"],[],["<ROUTINE TEETH-F ()"],["\t <COND (<AND <VERB? BRUSH>"],["\t\t     <EQUAL? ,PRSO ,TEETH>>"],["\t\t<COND (<AND <EQUAL? ,PRSI ,PUTTY>"],["\t\t\t    <IN? ,PRSI ,WINNER>>"],["\t\t       <JIGS-UP"],[["Str","\"Well, you seem to have been brushing your teeth with some sort of"]],[["Str","glue. As a result, your mouth gets glued together (with your nose)"]],[["Str","and you die of respiratory failure.\""],">)"],["\t\t      (<NOT ,PRSI>"],["\t\t       <TELL"],[["Str","\"Dental hygiene is highly recommended, but I'm not sure what you want"]],[["Str","to brush them with.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"A nice idea, but with a \""]," D ,PRSI ",["Str","\"?\""]," CR>)>)>>"],[],["<ROUTINE GRANITE-WALL-F ()"],["\t <COND (<EQUAL? ,HERE ,NORTH-TEMPLE>"],["\t\t<COND (<VERB? FIND>"],["\t\t       <TELL ",["Str","\"The west wall is solid granite here.\""]," CR>)>)"],["\t       (<EQUAL? ,HERE ,TREASURE-ROOM>"],["\t\t<COND (<VERB? FIND>"],["\t\t       <TELL ",["Str","\"The east wall is solid granite here.\""]," CR>)>)"],["\t       (<EQUAL? ,HERE ,SLIDE-ROOM>"],["\t\t<COND (<VERB? FIND READ>"],["\t\t       <TELL ",["Str","\"It only SAYS \\\"Granite Wall\\\".\""]," CR>)"],["\t\t      (T <TELL ",["Str","\"The wall isn't granite.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"There is no granite wall here.\""]," CR>)>>"],[],["<ROUTINE SONGBIRD-F ()"],["\t <COND (<VERB? FIND TAKE>"],["\t\t<TELL ",["Str","\"The songbird is not here but is probably nearby.\""]," CR>)"],["\t       (<VERB? LISTEN>"],["\t\t<TELL ",["Str","\"You can't hear the songbird now.\""]," CR>)"],["\t       (<VERB? FOLLOW>"],["\t\t<TELL ",["Str","\"It can't be followed.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't see any songbird here.\""]," CR>)>>"],[],["<ROUTINE WHITE-HOUSE-F ()"],["    <COND (<EQUAL? ,HERE ,KITCHEN ,LIVING-ROOM ,ATTIC>"],["\t   <COND (<VERB? FIND>"],["\t\t  <TELL ",["Str","\"Why not find your brains?\""]," CR>)"],["\t\t (<VERB? WALK-AROUND>"],["\t\t  <GO-NEXT ,IN-HOUSE-AROUND>"],["\t\t  T)>)"],["\t  (<NOT <OR <EQUAL? ,HERE ,EAST-OF-HOUSE ,WEST-OF-HOUSE>"],["\t\t    <EQUAL? ,HERE ,NORTH-OF-HOUSE ,SOUTH-OF-HOUSE>>>"],["\t   <COND (<VERB? FIND>"],["\t\t  <COND (<EQUAL? ,HERE ,CLEARING>"],["\t\t\t <TELL ",["Str","\"It seems to be to the west.\""]," CR>)"],["\t\t\t(T"],["\t\t\t <TELL ",["Str","\"It was here just a minute ago....\""]," CR>)>)"],["\t\t (T <TELL ",["Str","\"You're not at the house.\""]," CR>)>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"It's right here! Are you blind or something?\""]," CR>)"],["\t  (<VERB? WALK-AROUND>"],["\t   <GO-NEXT ,HOUSE-AROUND>"],["\t   T)"],["\t  (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The house is a beautiful colonial house which is painted white."]],[["Str","It is clear that the owners must have been extremely wealthy.\""]," CR>)"],["\t  (<VERB? THROUGH OPEN>"],["\t   <COND (<EQUAL? ,HERE ,EAST-OF-HOUSE>"],["\t\t  <COND (<FSET? ,KITCHEN-WINDOW ,OPENBIT>"],["\t\t\t <GOTO ,KITCHEN>)"],["\t\t\t(T"],["\t\t\t <TELL ",["Str","\"The window is closed.\""]," CR>"],["\t\t\t <THIS-IS-IT ,KITCHEN-WINDOW>)>)"],["\t\t (T"],["\t\t  <TELL ",["Str","\"I can't see how to get in from here.\""]," CR>)>)"],["\t  (<VERB? BURN>"],["\t   <TELL ",["Str","\"You must be joking.\""]," CR>)>>"],[],["<ROUTINE FOREST-F ()"],["\t <COND (<VERB? WALK-AROUND>"],["\t\t<GO-NEXT ,FOREST-AROUND>)"],["\t       (<VERB? DISEMBARK>"],["\t\t<TELL ",["Str","\"You will have to specify a direction.\""]," CR>)"],["\t       (<VERB? FIND>"],["\t\t<TELL ",["Str","\"You cannot see the forest for the trees.\""]," CR>)"],["\t       (<VERB? LISTEN>"],["\t\t<TELL ",["Str","\"The pines and the hemlocks seem to be murmuring.\""]],["\t\t      CR>)>>"],[],["<ROUTINE MOUNTAIN-RANGE-F ()"],["\t <COND (<VERB? CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t\t<TELL ",["Str","\"Don't you believe me? The mountains are impassable!\""]],["\t\t      CR>)>>"],[],["<ROUTINE WATER-F (",["Str","\"AUX\""]," AV W PI?)"],["\t <COND (<VERB? SGIVE> <RFALSE>)"],["\t       (<VERB? THROUGH>"],["\t\t<TELL <PICK-ONE ,SWIMYUKS> CR>"],["\t\t<RTRUE>)"],["\t       (<VERB? FILL>\t",["Comment",";\"fill bottle with water =>\""]],["\t\t<SET W ,PRSI>\t   ",["Comment",";\"put water in bottle\""]],["\t\t<SETG PRSA ,V?PUT>"],["\t\t<SETG PRSI ,PRSO>"],["\t\t<SETG PRSO .W>"],["\t\t<SET PI? <>>)"],["\t       (<OR <EQUAL? ,PRSO ,GLOBAL-WATER>"],["\t\t    <EQUAL? ,PRSO ,WATER>>"],["\t\t<SET W ,PRSO>"],["\t\t<SET PI? <>>)"],["\t       (<SET W ,PRSI>"],["\t\t<SET PI? T>)>"],["\t <COND (<EQUAL? .W ,GLOBAL-WATER>"],["\t\t<SET W ,WATER>"],["\t\t<COND (<VERB? TAKE PUT> <REMOVE-CAREFULLY .W>)>)>"],["\t <COND (.PI? <SETG PRSI .W>)"],["\t       (T <SETG PRSO .W>)>"],["\t <SET AV <LOC ,WINNER>>"],["\t <COND (<NOT <FSET? .AV ,VEHBIT>> <SET AV <>>)>"],["\t <COND (<AND <VERB? TAKE PUT> <NOT .PI?>>"],["\t\t<COND (<AND .AV"],["\t\t\t    <OR <EQUAL? .AV ,PRSI>"],["\t\t\t\t<AND <NOT ,PRSI>"],["\t\t\t\t     <NOT <IN? .W .AV>>>>>"],["\t\t       <TELL ",["Str","\"There is now a puddle in the bottom of the \""]],["\t\t\t     D .AV ",["Str","\".\""]," CR>"],["\t\t       <REMOVE-CAREFULLY ,PRSO>"],["\t\t       <MOVE ,PRSO .AV>)"],["\t\t      (<AND ,PRSI <NOT <EQUAL? ,PRSI ,BOTTLE>>>"],["\t\t       <TELL ",["Str","\"The water leaks out of the \""]," D ,PRSI"],["\t\t\t     ",["Str","\" and evaporates immediately.\""]," CR>"],["\t\t       <REMOVE-CAREFULLY .W>)"],["\t\t      (<IN? ,BOTTLE ,WINNER>"],["\t\t       <COND (<NOT <FSET? ,BOTTLE ,OPENBIT>>"],["\t\t\t      <TELL ",["Str","\"The bottle is closed.\""]," CR>"],["\t\t\t      <THIS-IS-IT ,BOTTLE>)"],["\t\t\t     (<NOT <FIRST? ,BOTTLE>>"],["\t\t\t      <MOVE ,WATER ,BOTTLE>"],["\t\t\t      <TELL ",["Str","\"The bottle is now full of water.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The water slips through your fingers.\""]," CR>"],["\t\t\t      <RTRUE>)>)"],["\t\t      (<AND <IN? ,PRSO ,BOTTLE>"],["\t\t\t    <VERB? TAKE>"],["\t\t\t    <NOT ,PRSI>>"],["\t\t       <TELL"],[["Str","\"It's in the bottle. Perhaps you should take that instead.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The water slips through your fingers.\""]," CR>)>)"],["\t       (.PI? <TELL ",["Str","\"Nice try.\""]," CR>)"],["\t       (<VERB? DROP GIVE>"],["\t\t<REMOVE-CAREFULLY ,WATER>"],["\t\t<COND (.AV"],["\t\t       <TELL ",["Str","\"There is now a puddle in the bottom of the \""]],["\t\t\t     D .AV ",["Str","\".\""]," CR>"],["\t\t       <MOVE ,WATER .AV>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The water spills to the floor and evaporates immediately.\""]," CR>"],["\t\t       <REMOVE-CAREFULLY ,WATER>)>)"],["\t       (<VERB? THROW>"],["\t\t<TELL"],[["Str","\"The water splashes on the walls and evaporates immediately.\""]," CR>"],["\t\t<REMOVE-CAREFULLY ,WATER>)>>"],[],["<GLOBAL KITCHEN-WINDOW-FLAG <>>"],[],["<ROUTINE KITCHEN-WINDOW-F ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<SETG KITCHEN-WINDOW-FLAG T>"],["\t\t<OPEN-CLOSE ,KITCHEN-WINDOW"],[["Str","\"With great effort, you open the window far enough to allow entry.\""]],[["Str","\"The window closes (more easily than it opened).\""],">)"],["\t       (<AND <VERB? EXAMINE>"],["\t\t     <NOT ,KITCHEN-WINDOW-FLAG>>"],["\t\t<TELL"],[["Str","\"The window is slightly ajar, but not enough to allow entry.\""]," CR>)"],["\t       (<VERB? WALK ",["Id","BOARD"]," THROUGH>"],["\t\t<COND (<EQUAL? ,HERE ,KITCHEN>"],["\t\t       <DO-WALK ,P?EAST>)"],["\t\t      (T"],["\t\t       <DO-WALK ,P?WEST>)>"],["\t\t<RTRUE>)"],["\t       (<VERB? LOOK-INSIDE>"],["\t\t<TELL ",["Str","\"You can see \""],">"],["\t\t<COND (<EQUAL? ,HERE ,KITCHEN>"],["\t\t       <TELL ",["Str","\"a clear area leading towards a forest.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"what appears to be a kitchen.\""]," CR>)>)>>"],[],["<ROUTINE GHOSTS-F ()"],["\t <COND (<VERB? TELL>"],["\t\t<TELL ",["Str","\"The spirits jeer loudly and ignore you.\""]," CR>"],["\t\t<SETG P-CONT <>>)"],["\t       (<VERB? EXORCISE>"],["\t\t<TELL ",["Str","\"Only the ceremony itself has any effect.\""]," CR>)"],["\t       (<AND <VERB? ATTACK MUNG> <EQUAL? ,PRSO ,GHOSTS>>"],["\t\t<TELL ",["Str","\"How can you attack a spirit with material objects?\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You seem unable to interact with these spirits.\""]," CR>)>>"],[],["<GLOBAL CAGE-TOP T>"],[],["<ROUTINE BASKET-F ()"],["\t <COND (<VERB? RAISE>"],["\t\t<COND (,CAGE-TOP"],["\t\t       <TELL <PICK-ONE ,DUMMY> CR>)"],["\t\t      (T"],["\t\t       <MOVE ,RAISED-BASKET ,SHAFT-ROOM>"],["\t\t       <MOVE ,LOWERED-BASKET ,LOWER-SHAFT>"],["\t\t       <SETG CAGE-TOP T>"],["\t\t       <THIS-IS-IT ,RAISED-BASKET>"],["\t\t       <TELL"],[["Str","\"The basket is raised to the top of the shaft.\""]," CR>)>)"],["\t       (<VERB? LOWER>"],["\t\t<COND (<NOT ,CAGE-TOP>"],["\t\t       <TELL <PICK-ONE ,DUMMY> CR>)"],["\t\t      (T"],["\t\t       <MOVE ,RAISED-BASKET ,LOWER-SHAFT>"],["\t\t       <MOVE ,LOWERED-BASKET ,SHAFT-ROOM>"],["\t\t       <THIS-IS-IT ,LOWERED-BASKET>"],["\t\t       <TELL"],[["Str","\"The basket is lowered to the bottom of the shaft.\""]," CR>"],["\t\t       <SETG CAGE-TOP <>>"],["\t\t       <COND (<AND ,LIT <NOT <SETG LIT <LIT? ,HERE>>>>"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>"],["\t\t       T)>)"],["\t       (<OR <EQUAL? ,PRSO ,LOWERED-BASKET>"],["\t\t    <EQUAL? ,PRSI ,LOWERED-BASKET>>"],["\t\t<TELL ",["Str","\"The basket is at the other end of the chain.\""]," CR>)"],["\t       (<AND <VERB? TAKE>"],["\t\t     <EQUAL? ,PRSO ,RAISED-BASKET ,LOWERED-BASKET>>"],["\t\t<TELL ",["Str","\"The cage is securely fastened to the iron chain.\""]," CR>)>>"],[],["<ROUTINE BAT-F ()"],["\t <COND (<VERB? TELL>"],["\t\t<FWEEP 6>"],["\t\t<SETG P-CONT <>>)"],["\t       (<VERB? TAKE ATTACK MUNG>"],["\t\t<COND (<EQUAL? <LOC ,GARLIC> ,WINNER ,HERE>"],["\t\t       <TELL ",["Str","\"You can't reach him; he's on the ceiling.\""]," CR>)"],["\t\t      (T <FLY-ME>)>)>>"],[],["<ROUTINE FLY-ME ()"],["\t <FWEEP 4>"],["\t <TELL CR"],[["Str","\"The bat grabs you by the scruff of your neck and lifts you away....\""]," CR CR>"],["\t <GOTO <PICK-ONE ,BAT-DROPS> <>>"],["\t <V-FIRST-LOOK>"],["\t T>"],[],["<ROUTINE FWEEP (N)"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET N <- .N 1>> 1> <RETURN>)"],["\t\t       (T <TELL ",["Str","\"    Fweep!\""]," CR>)>>"],["\t <CRLF>>"],[],["<GLOBAL BAT-DROPS"],["      <LTABLE 0"],["\t      MINE-1"],["\t      MINE-2"],["\t      MINE-3"],["\t      MINE-4"],["\t      LADDER-TOP"],["\t      LADDER-BOTTOM"],["\t      SQUEEKY-ROOM"],["\t      MINE-ENTRANCE>>"],[],["<ROUTINE BELL-F ()"],["\t <COND (<VERB? RING>"],["\t\t<COND (<AND <EQUAL? ,HERE ,LLD-ROOM>"],["\t\t\t    <NOT ,LLD-FLAG>>"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Ding, dong.\""]," CR>)>)>>"],[],["<ROUTINE HOT-BELL-F ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"The bell is very hot and cannot be taken.\""]," CR>)"],["\t       (<OR <VERB? RUB> <AND <VERB? RING> ,PRSI>>"],["\t\t<COND (<FSET? ,PRSI ,BURNBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSI ",["Str","\" burns and is consumed.\""]," CR>"],["\t\t       <REMOVE-CAREFULLY ,PRSI>)"],["\t\t      (<EQUAL? ,PRSI ,HANDS>"],["\t\t       <TELL ",["Str","\"The bell is too hot to touch.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The heat from the bell is too intense.\""]," CR>)>)"],["\t       (<VERB? POUR-ON>"],["\t\t<REMOVE-CAREFULLY ,PRSO>"],["\t\t<TELL ",["Str","\"The water cools the bell and is evaporated.\""]," CR>"],["\t\t<QUEUE I-XBH 0>"],["\t\t<I-XBH>)"],["\t       (<VERB? RING>"],["\t\t<TELL ",["Str","\"The bell is too hot to reach.\""]," CR>)>>"],[],["<ROUTINE BOARDED-WINDOW-FCN ()"],["\t <COND (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The windows are boarded and can't be opened.\""]," CR>)"],["\t       (<VERB? MUNG>"],["\t\t<TELL ",["Str","\"You can't break the windows open.\""]," CR>)>>"],[],["<ROUTINE NAILS-PSEUDO ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL"],[["Str","\"The nails, deeply imbedded in the door, cannot be removed.\""]," CR>)>>"],[],["<ROUTINE CRACK-FCN ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<TELL ",["Str","\"You can't fit through the crack.\""]," CR>)>>"],[],["<ROUTINE KITCHEN-FCN (RARG)"],["\t<COND (<EQUAL? .RARG ,M-LOOK>"],["\t       <TELL"],[["Str","\"You are in the kitchen of the white house. A table seems to"]],[["Str","have been used recently for the preparation of food. A passage"]],[["Str","leads to the west and a dark staircase can be seen leading"]],[["Str","upward. A dark chimney leads down and to the east is a small"]],[["Str","window which is \""],">"],["\t       <COND (<FSET? ,KITCHEN-WINDOW ,OPENBIT>"],["\t\t      <TELL ",["Str","\"open.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL ",["Str","\"slightly ajar.\""]," CR>)>)"],["\t      (<==? .RARG ,M-BEG>"],["\t       <COND (<AND <VERB? CLIMB-UP> <EQUAL? ,PRSO ,STAIRS>>"],["\t\t      <DO-WALK ,P?UP>)"],["\t\t     (<AND <VERB? CLIMB-UP> <EQUAL? ,PRSO ,STAIRS>>"],["\t\t      <TELL ",["Str","\"There are no stairs leading down.\""]," CR>)>)>>"],[],["<ROUTINE STONE-BARROW-FCN (RARG)"],["\t <COND (<AND <EQUAL? .RARG ,M-BEG>"],["\t\t     <OR <VERB? ENTER>"],["\t\t\t <AND <VERB? WALK>"],["\t\t\t      <EQUAL? ,PRSO ,P?WEST ,P?IN>>"],["\t\t\t <AND <VERB? THROUGH>"],["\t\t\t      <EQUAL? ,PRSO ,BARROW>>>>"],["\t\t<TELL"],[["Str","\"Inside the Barrow|"]],[["Str","As you enter the barrow, the door closes inexorably behind you. Around"]],[["Str","you it is dark, but ahead is an enormous cavern, brightly lit. Through"]],[["Str","its center runs a wide stream. Spanning the stream is a small wooden"]],[["Str","footbridge, and beyond a path leads into a dark tunnel. Above the"]],[["Str","bridge, floating in the air, is a large sign. It reads:  All ye who"]],[["Str","stand before this bridge have completed a great and perilous adventure"]],[["Str","which has tested your wit and courage. You have mastered\""],">"],["\t\t<COND (<EQUAL? <BAND <GETB 0 1> 8> 0>"],["\t\t       <TELL ",["Str","\""]],[["Str","the first part of the ZORK trilogy. Those who pass over this bridge must be"]],[["Str","prepared to undertake an even greater adventure that will severely test your"]],[["Str","skill and bravery!|"]],[["Str","|"]],[["Str","The ZORK trilogy continues with \\\"ZORK II: The Wizard of Frobozz\\\" and"]],[["Str","is completed in \\\"ZORK III: The Dungeon Master.\\\"\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\""]],[["Str","ZORK: The Great Underground Empire.|\""]," CR>)>"],["\t\t<V-QUIT <>>)>>"],[],["<ROUTINE BARROW-DOOR-FCN ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL ",["Str","\"The door is too heavy.\""]," CR>)>>"],[],["<ROUTINE BARROW-FCN ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<DO-WALK ,P?WEST>)>>"],[],["\\"],[],["<ROUTINE TROPHY-CASE-FCN ()"],["    <COND (<AND <VERB? TAKE> <EQUAL? ,PRSO ,TROPHY-CASE>>"],["\t   <TELL"],[["Str","\"The trophy case is securely fastened to the wall.\""]," CR>)>>"],[],["<GLOBAL RUG-MOVED <>>"],[],["<ROUTINE LIVING-ROOM-FCN (RARG ",["Str","\"AUX\""]," RUG? TC)"],["\t<COND (<EQUAL? .RARG ,M-LOOK>"],["\t       <TELL"],[["Str","\"You are in the living room. There is a doorway to the east\""],">"],["\t       <COND (,MAGIC-FLAG"],["\t\t      <TELL"],[["Str","\". To the"]],[["Str","west is a cyclops-shaped opening in an old wooden door, above which is"]],[["Str","some strange gothic lettering, \""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\", a wooden"]],[["Str","door with strange gothic lettering to the west, which appears to be"]],[["Str","nailed shut, \""],">)>"],["\t       <TELL ",["Str","\"a trophy case, \""],">"],["\t       <SET RUG? ,RUG-MOVED>"],["\t       <COND (<AND .RUG? <FSET? ,TRAP-DOOR ,OPENBIT>>"],["\t\t      <TELL"],["\t\t       ",["Str","\"and a rug lying beside an open trap door.\""],">)"],["\t\t     (.RUG?"],["\t\t      <TELL ",["Str","\"and a closed trap door at your feet.\""],">)"],["\t\t     (<FSET? ,TRAP-DOOR ,OPENBIT>"],["\t\t      <TELL ",["Str","\"and an open trap door at your feet.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],["\t\t       ",["Str","\"and a large oriental rug in the center of the room.\""],">)>"],["\t       <CRLF>"],["\t       T)"],["\t      (<EQUAL? .RARG ,M-END>"],["\t       <COND (<OR <VERB? TAKE>"],["\t\t\t  <AND <VERB? PUT>"],["\t\t\t       <EQUAL? ,PRSI ,TROPHY-CASE>>>"],["\t\t      <COND (<IN? ,PRSO ,TROPHY-CASE>"],["\t\t\t     <TOUCH-ALL ,PRSO>)>"],["\t\t      <SETG SCORE <+ ,BASE-SCORE <OTVAL-FROB>>>"],["\t\t      <SCORE-UPD 0>"],["\t\t      <RFALSE>)>)>>"],[],["<ROUTINE TOUCH-ALL (OBJ ",["Str","\"AUX\""]," F)"],["\t <SET F <FIRST? .OBJ>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .F> <RETURN>)"],["\t\t       (T"],["\t\t\t<FSET .F ,TOUCHBIT>"],["\t\t\t<COND (<FIRST? .F> <TOUCH-ALL .F>)>)>"],["\t\t <SET F <NEXT? .F>>>>"],[],["<ROUTINE OTVAL-FROB (",["Str","\"OPTIONAL\""]," (O ,TROPHY-CASE) ",["Str","\"AUX\""]," F (SCORE 0))"],["\t <SET F <FIRST? .O>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .F> <RETURN .SCORE>)>"],["\t\t <SET SCORE <+ .SCORE <GETP .F ,P?TVALUE>>>"],["\t\t <COND (<FIRST? .F> <OTVAL-FROB .F>)>"],["\t\t <SET F <NEXT? .F>>>>"],[],["<ROUTINE TRAP-DOOR-FCN ()"],["    <COND (<VERB? RAISE>"],["\t   <PERFORM ,V?OPEN ,TRAP-DOOR>"],["\t   <RTRUE>)"],["\t  (<AND <VERB? OPEN CLOSE>"],["\t\t<EQUAL? ,HERE ,LIVING-ROOM>>"],["\t   <OPEN-CLOSE ,PRSO"],[["Str","\"The door reluctantly opens to reveal a rickety staircase descending into"]],[["Str","darkness.\""]],[["Str","\"The door swings shut and closes.\""],">)"],["\t  (<AND <VERB? LOOK-UNDER> <EQUAL? ,HERE LIVING-ROOM>>"],["\t   <COND (<FSET? ,TRAP-DOOR ,OPENBIT>"],["\t\t  <TELL"],[["Str","\"You see a rickety staircase descending into darkness.\""]," CR>)"],["\t\t (T <TELL ",["Str","\"It's closed.\""]," CR>)>)"],["\t  (<EQUAL? ,HERE ,CELLAR>"],["\t   <COND (<AND <VERB? OPEN UNLOCK>"],["\t\t       <NOT <FSET? ,TRAP-DOOR ,OPENBIT>>>"],["\t\t  <TELL"],[["Str","\"The door is locked from above.\""]," CR>)"],["\t\t (<AND <VERB? CLOSE> <NOT <FSET? ,TRAP-DOOR ,OPENBIT>>>"],["\t\t  <FCLEAR ,TRAP-DOOR ,TOUCHBIT>"],["\t\t  <FCLEAR ,TRAP-DOOR ,OPENBIT>"],["\t\t  <TELL ",["Str","\"The door closes and locks.\""]," CR>)"],["\t\t (<VERB? OPEN CLOSE>"],["\t\t  <TELL <PICK-ONE ,DUMMY> CR>)>)>>"],[],["<ROUTINE CELLAR-FCN (RARG)"],["  <COND (<EQUAL? .RARG ,M-LOOK>"],["\t <TELL"],[["Str","\"You are in a dark and damp cellar with a narrow passageway leading"]],[["Str","north, and a crawlway to the south. On the west is the bottom of a"]],[["Str","steep metal ramp which is unclimbable.\""]," CR>)"],["\t(<EQUAL? .RARG ,M-ENTER>"],["\t <COND (<AND <FSET? ,TRAP-DOOR ,OPENBIT>"],["\t\t     <NOT <FSET? ,TRAP-DOOR ,TOUCHBIT>>>"],["\t\t<FCLEAR ,TRAP-DOOR ,OPENBIT>"],["\t\t<FSET ,TRAP-DOOR ,TOUCHBIT>"],["\t\t<TELL"],[["Str","\"The trap door crashes shut, and you hear someone barring it.\""]," CR CR>)>)>>"],[],["<ROUTINE CHIMNEY-F ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The chimney leads \""],">"],["\t\t<COND (<==? ,HERE ,KITCHEN>"],["\t\t       <TELL ",["Str","\"down\""],">)"],["\t\t      (T <TELL ",["Str","\"up\""],">)>"],["\t\t<TELL ",["Str","\"ward, and looks climbable.\""]," CR>)>>"],[],["<ROUTINE UP-CHIMNEY-FUNCTION (",["Str","\"AUX\""]," F)"],["  <COND (<NOT <SET F <FIRST? ,WINNER>>>"],["\t <TELL ",["Str","\"Going up empty-handed is a bad idea.\""]," CR>"],["\t <RFALSE>)"],["\t(<AND <OR <NOT <SET F <NEXT? .F>>>"],["\t\t  <NOT <NEXT? .F>>>"],["\t      <IN? ,LAMP ,WINNER>>"],["\t <COND (<NOT <FSET? ,TRAP-DOOR ,OPENBIT>>"],["\t\t<FCLEAR ,TRAP-DOOR ,TOUCHBIT>)>"],["\t <RETURN ,KITCHEN>)"],["\t(T"],["\t <TELL ",["Str","\"You can't get up there with what you're carrying.\""]," CR>"],["\t <RFALSE>)>>"],[],["<ROUTINE TRAP-DOOR-EXIT ()"],["\t <COND (,RUG-MOVED"],["\t\t<COND (<FSET? ,TRAP-DOOR ,OPENBIT>"],["\t\t       <RETURN ,CELLAR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The trap door is closed.\""]," CR>"],["\t\t       <THIS-IS-IT ,TRAP-DOOR>"],["\t\t       <RFALSE>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE RUG-FCN ()"],["   <COND (<VERB? RAISE>"],["\t  <TELL ",["Str","\"The rug is too heavy to lift\""],">"],["\t  <COND (,RUG-MOVED"],["\t\t <TELL ",["Str","\".\""]," CR>)"],["\t\t(T"],["\t\t <TELL"],[["Str","\", but in trying to take it you have"]],[["Str","noticed an irregularity beneath it.\""]," CR>)>)"],["\t (<VERB? MOVE PUSH>"],["\t  <COND (,RUG-MOVED"],["\t\t <TELL"],[["Str","\"Having moved the carpet previously, you find it impossible to move"]],[["Str","it again.\""]," CR>)"],["\t\t(T"],["\t\t <TELL"],[["Str","\"With a great effort, the rug is moved to one side of the room, revealing"]],[["Str","the dusty cover of a closed trap door.\""]," CR>"],["\t\t <FCLEAR ,TRAP-DOOR ,INVISIBLE>"],["\t\t <THIS-IS-IT ,TRAP-DOOR>"],["\t\t <SETG RUG-MOVED T>)>)"],["\t (<VERB? TAKE>"],["\t  <TELL"],[["Str","\"The rug is extremely heavy and cannot be carried.\""]," CR>)"],["\t (<AND <VERB? LOOK-UNDER>"],["\t       <NOT ,RUG-MOVED>"],["\t       <NOT <FSET? ,TRAP-DOOR ,OPENBIT>>>"],["\t  <TELL"],[["Str","\"Underneath the rug is a closed trap door. As you drop the corner of the"]],[["Str","rug, the trap door is once again concealed from view.\""]," CR>)"],["\t (<VERB? CLIMB-ON>"],["\t  <COND (<AND <NOT ,RUG-MOVED>"],["\t\t      <NOT <FSET? ,TRAP-DOOR ,OPENBIT>>>"],["\t\t <TELL"],[["Str","\"As you sit, you notice an irregularity underneath it. Rather than be"]],[["Str","uncomfortable, you stand up again.\""]," CR>)"],["\t\t(ELSE"],["\t\t <TELL ",["Str","\"I suppose you think it's a magic carpet?\""]," CR>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE TROLL\""]],[],["<ROUTINE AXE-F ()"],["\t <COND (,TROLL-FLAG <>)"],["\t       (T <WEAPON-FUNCTION ,AXE ,TROLL>)>>"],[],["<ROUTINE STILETTO-FUNCTION ()"],["\t <WEAPON-FUNCTION ,STILETTO ,THIEF>>"],[],["<ROUTINE WEAPON-FUNCTION (W V)"],["\t<COND (<NOT <IN? .V ,HERE>> <RFALSE>)"],["\t      (<VERB? TAKE>"],["\t       <COND (<IN? .W .V>"],["\t\t      <TELL"],[["Str","\"The \""]," D .V ",["Str","\" swings it out of your reach.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The \""]," D .W ",["Str","\" seems white-hot. You can't hold on to it.\""]," CR>)>"],["\t       T)>>"],[],["<ROUTINE TROLL-FCN (",["Str","\"OPTIONAL\""]," (MODE <>))"],["\t <COND (<VERB? TELL>"],["\t\t<TELL ",["Str","\"The troll isn't much of a conversationalist.\""]," CR>"],["\t\t<SETG P-CONT <>>)"],["\t       (<EQUAL? .MODE ,F-BUSY?>"],["\t\t<COND (<IN? ,AXE ,TROLL> <>)"],["\t\t      (<AND <IN? ,AXE ,HERE> <PROB 75 90>>"],["\t\t       <FSET ,AXE ,NDESCBIT>"],["\t\t       <FCLEAR ,AXE ,WEAPONBIT>"],["\t\t       <MOVE ,AXE ,TROLL>"],["\t\t       <PUTP ,TROLL ,P?LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks all passages out"]],[["Str","of the room.\""],">"],["\t\t       <AND <IN? ,TROLL ,HERE>"],["\t\t\t    <TELL"],[["Str","\"The troll, angered and humiliated, recovers his weapon. He appears to have"]],[["Str","an axe to grind with you.\""]," CR>>"],["\t\t      T)"],["\t\t     (<IN? ,TROLL ,HERE>"],["\t\t      <PUTP ,TROLL ,P?LDESC"],[["Str","\"A pathetically babbling troll is here.\""],">"],["\t\t      <TELL"],[["Str","\"The troll, disarmed, cowers in terror, pleading for his life in"]],[["Str","the guttural tongue of the trolls.\""]," CR>"],["\t\t      T)>)"],["\t      (<EQUAL? .MODE ,F-DEAD>"],["\t       <COND (<IN? ,AXE ,TROLL>"],["\t\t      <MOVE ,AXE ,HERE>"],["\t\t      <FCLEAR ,AXE ,NDESCBIT>"],["\t\t      <FSET ,AXE ,WEAPONBIT>)>"],["\t       <SETG TROLL-FLAG T>)"],["\t      (<EQUAL? .MODE ,F-UNCONSCIOUS>"],["\t       <FCLEAR ,TROLL ,FIGHTBIT>"],["\t       <COND (<IN? ,AXE ,TROLL>"],["\t\t      <MOVE ,AXE ,HERE>"],["\t\t      <FCLEAR ,AXE ,NDESCBIT>"],["\t\t      <FSET ,AXE ,WEAPONBIT>)>"],["\t       <PUTP ,TROLL ,P?LDESC"],[["Str","\"An unconscious troll is sprawled on the floor. All passages"]],[["Str","out of the room are open.\""],">"],["\t       <SETG TROLL-FLAG T>)"],["\t      (<EQUAL? .MODE ,F-CONSCIOUS>"],["\t       <COND (<IN? ,TROLL ,HERE>"],["\t\t      <FSET ,TROLL ,FIGHTBIT>"],["\t\t      <TELL"],[["Str","\"The troll stirs, quickly resuming a fighting stance.\""]," CR>)>"],["\t       <COND (<IN? ,AXE ,TROLL>"],["\t\t      <PUTP ,TROLL ,P?LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks"]],[["Str","all passages out of the room.\""],">)"],["\t\t     (<IN? ,AXE ,TROLL-ROOM>"],["\t\t      <FSET ,AXE ,NDESCBIT>"],["\t\t      <FCLEAR ,AXE ,WEAPONBIT>"],["\t\t      <MOVE ,AXE ,TROLL>"],["\t\t      <PUTP ,TROLL ,P?LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks"]],[["Str","all passages out of the room.\""],">)"],["\t\t     (T"],["\t\t      <PUTP ,TROLL ,P?LDESC"],[["Str","\"A troll is here.\""],">)>"],["\t       <SETG TROLL-FLAG <>>)"],["\t      (<EQUAL? .MODE ,F-FIRST?>"],["\t       <COND (<PROB 33>"],["\t\t      <FSET ,TROLL ,FIGHTBIT>"],["\t\t      <SETG P-CONT <>>"],["\t\t      T)>)"],["\t      (<NOT .MODE>"],["\t       <COND (<VERB? EXAMINE>"],["\t\t      <TELL <GETP ,TROLL ,P?LDESC> CR>)"],["\t\t     (<OR <AND <VERB? THROW GIVE>"],["\t\t\t       ,PRSO"],["\t\t\t       <EQUAL? ,PRSI ,TROLL>>"],["\t\t\t  <VERB? TAKE MOVE MUNG>>"],["\t\t      <AWAKEN ,TROLL>"],["\t\t      <COND (<VERB? THROW GIVE>"],["\t\t\t     <COND (<AND <EQUAL? ,PRSO ,AXE>"],["\t\t\t\t\t <IN? ,AXE ,WINNER>>"],["\t\t\t\t    <TELL"],[["Str","\"The troll scratches his head in confusion, then takes the axe.\""]," CR>"],["\t\t\t\t    <FSET ,TROLL ,FIGHTBIT>"],["\t\t\t\t    <MOVE ,AXE ,TROLL>"],["\t\t\t\t    <RTRUE>)"],["\t\t\t\t   (<EQUAL? ,PRSO ,TROLL ,AXE>"],["\t\t\t\t    <TELL"],[["Str","\"You would have to get the \""]," D ,PRSO ",["Str","\" first, and that seems unlikely.\""]," CR>"],["\t\t\t\t    <RTRUE>)>"],["\t\t\t     <COND (<VERB? THROW>"],["\t\t\t\t    <TELL"],[["Str","\"The troll, who is remarkably coordinated, catches the \""]," D ,PRSO>)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL"],[["Str","\"The troll, who is not overly proud, graciously accepts the gift\""],">)>"],["\t\t\t     <COND (<AND <PROB 20>"],["\t\t\t\t\t <EQUAL? ,PRSO ,KNIFE ,SWORD ,AXE>>"],["\t\t\t\t    <REMOVE-CAREFULLY ,PRSO>"],["\t\t\t\t    <TELL"],[["Str","\" and eats it hungrily. Poor troll, he dies from an internal hemorrhage"]],[["Str","and his carcass disappears in a sinister black fog.\""]," CR>"],["\t\t\t\t    <REMOVE-CAREFULLY ,TROLL>"],["\t\t\t\t    <APPLY <GETP ,TROLL ,P?ACTION> ,F-DEAD>"],["\t\t\t\t    <SETG TROLL-FLAG T>)"],["\t\t\t\t   (<EQUAL? ,PRSO ,KNIFE ,SWORD ,AXE>"],["\t\t\t\t    <MOVE ,PRSO ,HERE>"],["\t\t\t\t    <TELL"],[["Str","\" and, being for the moment sated, throws it back. Fortunately, the"]],[["Str","troll has poor control, and the \""]," D ,PRSO ",["Str","\" falls to the floor. He does"]],[["Str","not look pleased.\""]," CR>"],["\t\t\t\t    <FSET ,TROLL ,FIGHTBIT>)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL"],[["Str","\" and not having the most discriminating tastes, gleefully eats it.\""]," CR>"],["\t\t\t\t    <REMOVE-CAREFULLY ,PRSO>)>)"],["\t\t\t    (<VERB? TAKE MOVE>"],["\t\t\t     <TELL"],[["Str","\"The troll spits in your face, grunting \\\"Better luck next time\\\" in a"]],[["Str","rather barbarous accent.\""]," CR>)"],["\t\t\t    (<VERB? MUNG>"],["\t\t\t     <TELL"],[["Str","\"The troll laughs at your puny gesture.\""]," CR>)>)"],["\t\t     (<VERB? LISTEN>"],["\t\t      <TELL"],[["Str","\"Every so often the troll says something, probably uncomplimentary, in"]],[["Str","his guttural tongue.\""]," CR>)"],["\t\t     (<AND ,TROLL-FLAG <VERB? HELLO>>"],["\t\t      <TELL ",["Str","\"Unfortunately, the troll can't hear you.\""]," CR>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE GRATING/MAZE\""]],[],["<GLOBAL LEAVES-GONE <>>"],["<GLOBAL GRATE-REVEALED <>>"],["<GLOBAL GRUNLOCK <>>"],[],["<ROUTINE LEAVES-APPEAR ()"],["\t<COND (<AND <NOT <FSET? ,GRATE ,OPENBIT>>"],["\t            <NOT ,GRATE-REVEALED>>"],["\t       <COND (<VERB? MOVE TAKE>"],["\t\t      <TELL"],[["Str","\"In disturbing the pile of leaves, a grating is revealed.\""]," CR>)"],["\t\t     (T <TELL"],[["Str","\"With the leaves moved, a grating is revealed.\""]," CR>)>"],["\t       <FCLEAR ,GRATE ,INVISIBLE>"],["\t       <SETG GRATE-REVEALED T>)>"],["\t<>>"],[],["<ROUTINE LEAF-PILE ()"],["\t<COND (<VERB? COUNT>"],["\t       <TELL ",["Str","\"There are 69,105 leaves here.\""]," CR>)"],["\t      (<VERB? BURN>"],["\t       <LEAVES-APPEAR>"],["\t       <REMOVE-CAREFULLY ,PRSO>"],["\t       <COND (<IN? ,PRSO ,HERE>"],["\t\t      <TELL"],[["Str","\"The leaves burn.\""]," CR>)"],["\t\t     (T"],["\t\t      <JIGS-UP"],[["Str","\"The leaves burn, and so do you.\""],">)>)"],["\t      (<VERB? CUT>"],["\t       <TELL ",["Str","\"You rustle the leaves around, making quite a mess.\""]," CR>"],["\t       <LEAVES-APPEAR>"],["\t       <RTRUE>)"],["\t      (<VERB? MOVE TAKE>"],["\t       <COND (<VERB? MOVE>"],["\t\t      <TELL ",["Str","\"Done.\""]," CR>)>"],["\t       <COND (,GRATE-REVEALED <RFALSE>)>"],["\t       <LEAVES-APPEAR>"],["\t       <COND (<VERB? TAKE> <RFALSE>)"],["\t\t     (T <RTRUE>)>)"],["\t      (<AND <VERB? LOOK-UNDER>"],["\t\t    <NOT ,GRATE-REVEALED>>"],["\t       <TELL"],[["Str","\"Underneath the pile of leaves is a grating. As you release the leaves,"]],[["Str","the grating is once again concealed from view.\""]," CR>)>>"],[],["<ROUTINE CLEARING-FCN (RARG)"],["  \t <COND (<EQUAL? .RARG ,M-ENTER>"],["\t\t<COND (<NOT ,GRATE-REVEALED>"],["\t\t       <FSET ,GRATE ,INVISIBLE>)>)"],["\t       (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are in a clearing, with a forest surrounding you on all sides. A"]],[["Str","path leads south.\""],">"],["\t\t<COND (<FSET? ,GRATE ,OPENBIT>"],["\t\t       <CRLF>"],["\t\t       <TELL"],[["Str","\"There is an open grating, descending into darkness.\""],">)"],["\t\t      (,GRATE-REVEALED"],["\t\t       <CRLF>"],["\t\t       <TELL"],[["Str","\"There is a grating securely fastened into the ground.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE MAZE-11-FCN (RARG)"],["  \t <COND (<EQUAL? .RARG ,M-ENTER>"],["\t\t<FCLEAR ,GRATE ,INVISIBLE>)"],["\t       (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are in a small room near the maze. There are twisty passages"]],[["Str","in the immediate vicinity.\""]," CR>"],["\t\t<COND (<FSET? ,GRATE ,OPENBIT>"],["\t\t       <TELL"],[" ",["Str","\"Above you is an open grating with sunlight pouring in.\""],">)"],["\t\t      (,GRUNLOCK"],["\t\t       <TELL ",["Str","\"Above you is a grating.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[" ",["Str","\"Above you is a grating locked with a skull-and-crossbones lock.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE GRATE-FUNCTION ()"],["    \t <COND (<AND <VERB? OPEN> <EQUAL? ,PRSI ,KEYS>>"],["\t\t<PERFORM ,V?UNLOCK ,GRATE ,KEYS>"],["\t\t<RTRUE>)"],["\t       (<VERB? LOCK>"],["\t\t<COND (<EQUAL? ,HERE ,GRATING-ROOM>"],["\t\t       <SETG GRUNLOCK <>>"],["\t\t       <TELL ",["Str","\"The grate is locked.\""]," CR>)"],["\t              (<EQUAL? ,HERE ,GRATING-CLEARING>"],["\t\t       <TELL ",["Str","\"You can't lock it from this side.\""]," CR>)>)"],["\t       (<AND <VERB? UNLOCK> <EQUAL? ,PRSO ,GRATE>>"],["\t\t<COND (<AND <EQUAL? ,HERE ,GRATING-ROOM> <EQUAL? ,PRSI ,KEYS>>"],["\t\t       <SETG GRUNLOCK T>"],["\t\t       <TELL ",["Str","\"The grate is unlocked.\""]," CR>)"],["\t\t      (<AND <EQUAL? ,HERE ,GRATING-CLEARING>"],["\t\t\t    <EQUAL? ,PRSI ,KEYS>>"],["\t\t       <TELL ",["Str","\"You can't reach the lock from here.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"Can you unlock a grating with a \""]," D ,PRSI ",["Str","\"?\""]," CR>)>)"],["               (<VERB? PICK>"],["\t\t<TELL ",["Str","\"You can't pick the lock.\""]," CR>)"],["               (<VERB? OPEN CLOSE>"],["\t\t<COND (,GRUNLOCK"],["\t\t       <OPEN-CLOSE ,GRATE"],["\t\t\t\t   <COND (<EQUAL? ,HERE ,CLEARING>"],["\t\t\t\t\t  ",["Str","\"The grating opens.\""],")"],["\t\t\t\t\t (T"],[["Str","\"The grating opens to reveal trees above you.\""],")>"],["\t\t\t\t   ",["Str","\"The grating is closed.\""],">"],["\t\t       <COND (<FSET? ,GRATE ,OPENBIT>"],["\t\t\t      <COND (<AND <NOT <EQUAL? ,HERE ,CLEARING>>"],["\t\t\t\t\t  <NOT ,GRATE-REVEALED>>"],["\t\t\t\t     <TELL"],[["Str","\"A pile of leaves falls onto your head and to the ground.\""]," CR>"],["\t\t\t\t     <SETG GRATE-REVEALED T>"],["\t\t\t\t     <MOVE ,LEAVES ,HERE>)>"],["\t\t\t      <FSET ,GRATING-ROOM ,ONBIT>)"],["\t\t\t     (T <FCLEAR ,GRATING-ROOM ,ONBIT>)>)"],["\t\t      (T <TELL ",["Str","\"The grating is locked.\""]," CR>)>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,PRSI ,GRATE>>"],["\t\t<COND (<G? <GETP ,PRSO ,P?SIZE> 20>"],["\t\t       <TELL ",["Str","\"It won't fit through the grating.\""]," CR>)"],["\t\t      (T"],["\t\t       <MOVE ,PRSO ,GRATING-ROOM>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" goes through the grating into the darkness below.\""]," CR>)>)>>"],[],["<ROUTINE MAZE-DIODES ()"],["\t <TELL"],[["Str","\"You won't be able to get back up to the tunnel you are going through"]],[["Str","when it gets to the next room.\""]," CR CR>"],["\t <COND (<EQUAL? ,HERE ,MAZE-2> ,MAZE-4)"],["\t       (<EQUAL? ,HERE ,MAZE-7> ,DEAD-END-1)"],["\t       (<EQUAL? ,HERE ,MAZE-9> ,MAZE-11)"],["\t       (<EQUAL? ,HERE ,MAZE-12> ,MAZE-5)>>"],[],["<ROUTINE RUSTY-KNIFE-FCN ()"],["\t<COND (<VERB? TAKE>"],["\t       <AND <IN? ,SWORD ,WINNER>"],["\t\t    <TELL"],[["Str","\"As you touch the rusty knife, your sword gives a single pulse of blinding"]],[["Str","blue light.\""]," CR>>"],["\t       <>)"],["\t      (<OR <AND <EQUAL? ,PRSI ,RUSTY-KNIFE>"],["\t\t\t<VERB? ATTACK>>"],["\t\t   <AND <VERB? SWING>"],["\t\t\t<EQUAL? ,PRSO ,RUSTY-KNIFE>"],["\t\t\t,PRSI>>"],["\t       <REMOVE-CAREFULLY ,RUSTY-KNIFE>"],["\t       <JIGS-UP"],[["Str","\"As the knife approaches its victim, your mind is submerged by an"]],[["Str","overmastering will. Slowly, your hand turns, until the rusty blade"]],[["Str","is an inch from your neck. The knife seems to sing as it savagely"]],[["Str","slits your throat.\""],">)>>"],[],["<ROUTINE KNIFE-F ()"],["\t <COND (<VERB? TAKE>"],["\t\t<FCLEAR ,ATTIC-TABLE ,NDESCBIT>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE SKELETON ()"],["\t <COND (<VERB? TAKE RUB MOVE PUSH RAISE LOWER ATTACK KICK KISS>"],["\t\t<TELL"],[["Str","\"A ghost appears in the room and is appalled at your desecration of"]],[["Str","the remains of a fellow adventurer. He casts a curse on your valuables"]],[["Str","and banishes them to the Land of the Living Dead. The ghost leaves,"]],[["Str","muttering obscenities.\""]," CR>"],["\t \t<ROB ,HERE ,LAND-OF-LIVING-DEAD 100>"],["\t \t<ROB ,ADVENTURER ,LAND-OF-LIVING-DEAD>"],["\t \tT)>>"],[],["\\"],[],["<ROUTINE TORCH-OBJECT ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL ",["Str","\"The torch is burning.\""]," CR>)"],["\t  (<AND <VERB? POUR-ON>"],["\t\t<EQUAL? ,PRSI ,TORCH>>"],["\t   <TELL ",["Str","\"The water evaporates before it gets close.\""]," CR>)"],["\t  (<AND <VERB? LAMP-OFF> <FSET? ,PRSO ,ONBIT>>"],["\t   <TELL"],[["Str","\"You nearly burn your hand trying to extinguish the flame.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE MIRROR, MIRROR, ON THE WALL\""]],[],["<ROUTINE MIRROR-ROOM (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t        <TELL"],[["Str","\"You are in a large square room with tall ceilings. On the south wall"]],[["Str","is an enormous mirror which fills the entire wall. There are exits"]],[["Str","on the other three sides of the room.\""]," CR>"],["\t\t<COND (,MIRROR-MUNG"],["\t\t       <TELL"],[["Str","\"Unfortunately, the mirror has been destroyed by your recklessness.\""]," CR>)>)>>"],[],["<GLOBAL MIRROR-MUNG <>>"],["<GLOBAL LUCKY T>"],[],["<ROUTINE MIRROR-MIRROR (",["Str","\"AUX\""]," (RM2 ,MIRROR-ROOM-2) L1 L2 N)"],["\t<COND (<AND <NOT ,MIRROR-MUNG> <VERB? RUB>>"],["\t       <COND (<AND ,PRSI <NOT <EQUAL? ,PRSI ,HANDS>>>"],["\t\t      <TELL"],[["Str","\"You feel a faint tingling transmitted through the \""]," D ,PRSI ",["Str","\".\""]," CR>"],["\t\t      <RTRUE>)>"],["\t       <COND (<EQUAL? ,HERE .RM2>"],["\t\t      <SET RM2 ,MIRROR-ROOM-1>)>"],["\t       <SET L1 <FIRST? ,HERE>>"],["\t       <SET L2 <FIRST? .RM2>>"],["\t       <REPEAT ()"],["\t\t       <COND (<NOT .L1> <RETURN>)>"],["\t\t       <SET N <NEXT? .L1>>"],["\t\t       <MOVE .L1 .RM2>"],["\t\t       <SET L1 .N>>"],["\t       <REPEAT ()"],["\t\t       <COND (<NOT .L2> <RETURN>)>"],["\t\t       <SET N <NEXT? .L2>>"],["\t\t       <MOVE .L2 ,HERE>"],["\t\t       <SET L2 .N>>"],["\t       <GOTO .RM2 <>>"],["\t       <TELL"],[["Str","\"There is a rumble from deep within the earth and the room shakes.\""]," CR>)"],["\t      (<VERB? LOOK-INSIDE EXAMINE>"],["\t       <COND (,MIRROR-MUNG"],["\t\t      <TELL ",["Str","\"The mirror is broken into many pieces.\""],">)"],["\t\t     (T"],["\t\t      <TELL ",["Str","\"There is an ugly person staring back at you.\""],">)>"],["\t       <CRLF>)"],["\t      (<VERB? TAKE>"],["\t       <TELL"],[["Str","\"The mirror is many times your size. Give up.\""]," CR>)"],["\t      (<VERB? MUNG THROW ATTACK>"],["\t       <COND (,MIRROR-MUNG"],["\t\t      <TELL"],[["Str","\"Haven't you done enough damage already?\""]," CR>)"],["\t\t     (T"],["\t\t      <SETG MIRROR-MUNG T>"],["\t\t      <SETG LUCKY <>>"],["\t\t      <TELL"],[["Str","\"You have broken the mirror. I hope you have a seven years' supply of"]],[["Str","good luck handy.\""]," CR>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE THE DOME\""]],[],["<ROUTINE TORCH-ROOM-FCN (RARG)"],[" \t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"This is a large room with a prominent doorway leading to a down"]],[["Str","staircase. Above you is a large dome. Up around the edge of the"]],[["Str","dome (20 feet up) is a wooden railing. In the center of the room"]],[["Str","sits a white marble pedestal.\""]," CR>"],["\t\t<COND (,DOME-FLAG"],["\t\t       <TELL"],[["Str","\"A piece of rope descends from the railing above, ending some"]],[["Str","five feet above your head.\""]," CR>)>)>>"],[],["<ROUTINE DOME-ROOM-FCN (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are at the periphery of a large dome, which forms the ceiling"]],[["Str","of another room below. Protecting you from a precipitous drop is a"]],[["Str","wooden railing which circles the dome.\""]," CR>"],["\t\t<COND (,DOME-FLAG"],["\t\t       <TELL"],[["Str","\"Hanging down from the railing is a rope which ends about ten feet"]],[["Str","from the floor below.\""]," CR>)>)"],["\t       (<EQUAL? .RARG ,M-ENTER>"],["\t\t<COND (,DEAD"],["\t\t       <TELL"],[["Str","\"As you enter the dome you feel a strong pull as if from a wind"]],[["Str","drawing you over the railing and down.\""]," CR>"],["\t\t       <MOVE ,WINNER ,TORCH-ROOM>"],["\t\t       <SETG HERE ,TORCH-ROOM>"],["\t\t       <RTRUE>)"],["\t\t      (<VERB? LEAP>"],["\t\t       <JIGS-UP"],[["Str","\"I'm afraid that the leap you attempted has done you in.\""],">)>)>>"],[],["<GLOBAL EGYPT-FLAG <>>"],[],["\\"],[],[["Str","\"SUBTITLE LAND OF THE DEAD\""]],[],["<ROUTINE LLD-ROOM (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are outside a large gateway, on which is inscribed||"]],[["Str","  Abandon every hope"]],[["Str","all ye who enter here!||"]],[["Str","The gate is open; through it you can see a desolation, with a pile of"]],[["Str","mangled bodies in one corner. Thousands of voices, lamenting some"]],[["Str","hideous fate, can be heard.\""]," CR>"],["\t\t<COND (<AND <NOT ,LLD-FLAG> <NOT ,DEAD>>"],["\t\t       <TELL"],[["Str","\"The way through the gate is barred by evil spirits, who jeer at your"]],[["Str","attempts to pass.\""]," CR>)>)"],["\t       (<EQUAL? .RARG ,M-BEG>"],["\t\t<COND (<VERB? EXORCISE>"],["\t\t       <COND (<NOT ,LLD-FLAG>"],["\t\t\t      <COND (<AND <IN? ,BELL ,WINNER>"],["\t\t\t\t\t  <IN? ,BOOK ,WINNER>"],["\t\t\t\t\t  <IN? ,CANDLES ,WINNER>>"],["\t\t\t\t     <TELL"],[["Str","\"You must perform the ceremony.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"You aren't equipped for an exorcism.\""]," CR>)>)>)"],["\t\t      (<AND <NOT ,LLD-FLAG>"],["\t\t\t    <VERB? RING>"],["\t\t\t    <EQUAL? ,PRSO ,BELL>>"],["\t\t       <SETG XB T>"],["\t\t       <REMOVE-CAREFULLY ,BELL>"],["\t\t       <THIS-IS-IT ,HOT-BELL>"],["\t\t       <MOVE ,HOT-BELL ,HERE>"],["\t\t       <TELL"],[["Str","\"The bell suddenly becomes red hot and falls to the ground. The"]],[["Str","wraiths, as if paralyzed, stop their jeering and slowly turn to face"]],[["Str","you. On their ashen faces, the expression of a long-forgotten terror"]],[["Str","takes shape.\""]," CR>"],["\t\t       <COND (<IN? ,CANDLES ,WINNER>"],["\t\t\t      <TELL"],[["Str","\"In your confusion, the candles drop to the ground (and they are out).\""]," CR>"],["\t\t\t      <MOVE ,CANDLES ,HERE>"],["\t\t\t      <FCLEAR ,CANDLES ,ONBIT>"],["\t\t\t      <DISABLE <INT I-CANDLES>>)>"],["\t\t       <ENABLE <QUEUE I-XB 6>>"],["\t\t       <ENABLE <QUEUE I-XBH 20>>)"],["\t\t      (<AND ,XC"],["\t\t\t    <VERB? READ>"],["\t\t\t    <EQUAL? ,PRSO ,BOOK>"],["\t\t\t    <NOT ,LLD-FLAG>>"],["\t\t       <TELL"],[["Str","\"Each word of the prayer reverberates through the hall in a deafening"]],[["Str","confusion. As the last word fades, a voice, loud and commanding,"]],[["Str","speaks: \\\"Begone, fiends!\\\" A heart-stopping scream fills the cavern,"]],[["Str","and the spirits, sensing a greater power, flee through the walls.\""]," CR>"],["\t\t       <REMOVE-CAREFULLY ,GHOSTS>"],["\t\t       <SETG LLD-FLAG T>"],["\t\t       <DISABLE <INT I-XC>>)>)"],["\t       (<EQUAL? .RARG ,M-END>"],["\t\t<COND (<AND ,XB"],["\t\t\t    <IN? ,CANDLES ,WINNER>"],["\t\t\t    <FSET? ,CANDLES ,ONBIT>"],["\t\t\t    <NOT ,XC>>"],["\t\t       <SETG XC T>"],["\t\t       <TELL"],[["Str","\"The flames flicker wildly and appear to dance. The earth beneath"]],[["Str","your feet trembles, and your legs nearly buckle beneath you."]],[["Str","The spirits cower at your unearthly power.\""]," CR>"],["\t\t       <DISABLE <INT I-XB>>"],["\t\t       <ENABLE <QUEUE I-XC 3>>)>)>>"],[],["<GLOBAL XB <>>"],[],["<GLOBAL XC <>>"],[],["<ROUTINE I-XB ()"],["\t <OR ,XC"],["\t     <AND <EQUAL? ,HERE ,ENTRANCE-TO-HADES>"],["\t\t  <TELL"],[["Str","\"The tension of this ceremony is broken, and the wraiths, amused but"]],[["Str","shaken at your clumsy attempt, resume their hideous jeering.\""]," CR>>>"],["\t <SETG XB <>>>"],[],["<ROUTINE I-XC ()"],["\t <SETG XC <>>"],["\t <I-XB>>"],[],["<ROUTINE I-XBH ()"],["\t <REMOVE-CAREFULLY ,HOT-BELL>"],["\t <MOVE ,BELL ,ENTRANCE-TO-HADES>"],["\t <COND (<EQUAL? ,HERE ,ENTRANCE-TO-HADES>"],["\t\t<TELL ",["Str","\"The bell appears to have cooled down.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE FLOOD CONTROL DAM #3\""]],[],["<GLOBAL GATE-FLAG <>>"],["<GLOBAL GATES-OPEN <>>"],[],["<ROUTINE DAM-ROOM-FCN (RARG)"],["   \t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are standing on the top of the Flood Control Dam #3, which was"]],[["Str","quite a tourist attraction in times far distant. There are paths to"]],[["Str","the north, south, and west, and a scramble down.\""]," CR>"],["\t\t<COND (<AND ,LOW-TIDE ,GATES-OPEN>"],["\t\t       <TELL"],[["Str","\"The water level behind the dam is low: The sluice gates have been"]],[["Str","opened. Water rushes through the dam and downstream.\""]," CR>)"],["\t\t      (,GATES-OPEN"],["\t\t       <TELL"],[["Str","\"The sluice gates are open, and water rushes through the dam. The"]],[["Str","water level behind the dam is still high.\""]," CR>)"],["\t\t      (,LOW-TIDE"],["\t\t       <TELL"],[["Str","\"The sluice gates are closed. The water level in the reservoir is"]],[["Str","quite low, but the level is rising quickly.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The sluice gates on the dam are closed. Behind the dam, there can be"]],[["Str","seen a wide reservoir. Water is pouring over the top of the now"]],[["Str","abandoned dam.\""]," CR>)>"],["\t\t<TELL"],[["Str","\"There is a control panel here, on which a large metal bolt is mounted."]],[["Str","Directly above the bolt is a small green plastic bubble\""],">"],["\t\t<COND (,GATE-FLAG"],["\t\t       <TELL ",["Str","\" which is"]],[["Str","glowing serenely\""],">)>"],["\t\t<TELL ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE BOLT-F ()"],["\t<COND (<VERB? TURN>"],["\t       <COND (<EQUAL? ,PRSI ,WRENCH>"],["\t\t      <COND (,GATE-FLAG"],["\t\t\t     <FCLEAR ,RESERVOIR-SOUTH ,TOUCHBIT>"],["\t\t\t     <COND (,GATES-OPEN"],["\t\t\t\t    <SETG GATES-OPEN <>>"],["\t\t\t\t    <FCLEAR ,LOUD-ROOM ,TOUCHBIT>"],["\t\t\t\t    <TELL"],[["Str","\"The sluice gates close and water starts to collect behind the dam.\""]," CR>"],["\t\t\t\t    <ENABLE <QUEUE I-RFILL 8>>"],["\t\t\t\t    <QUEUE I-REMPTY 0>"],["\t\t\t\t    T)"],["\t\t\t\t   (T"],["\t\t\t\t    <SETG GATES-OPEN T>"],["\t\t\t\t    <TELL"],[["Str","\"The sluice gates open and water pours through the dam.\""]," CR>"],["\t\t\t\t    <ENABLE <QUEUE I-REMPTY 8>>"],["\t\t\t\t    <QUEUE I-RFILL 0>"],["\t\t\t\t    T)>)"],["\t\t\t    (T <TELL"],[["Str","\"The bolt won't turn with your best effort.\""]," CR>)>)"],["\t\t     (,PRSI <TELL"],[["Str","\"The bolt won't turn using the \""]," D ,PRSI ",["Str","\".\""]," CR>)"],["\t\t     (T <TELL ",["Str","\"You can't with your bare hands.\""]," CR>)>)"],["\t      (<VERB? TAKE>"],["\t       <INTEGRAL-PART>)"],["\t      (<VERB? OIL>"],["\t       <TELL"],[["Str","\"Hmm. It appears the tube contained glue, not oil. Turning the bolt"]],[["Str","won't get any easier....\""]," CR>)>>"],[],["<ROUTINE BUBBLE-F ()"],["\t <COND (<VERB? TAKE>"],["\t\t<INTEGRAL-PART>)>>"],[],["<ROUTINE INTEGRAL-PART ()"],["\t <TELL ",["Str","\"It is an integral part of the control panel.\""]," CR>>"],[],["<ROUTINE I-RFILL ()"],["\t <FSET ,RESERVOIR ,NONLANDBIT>"],["\t <FCLEAR ,RESERVOIR ,RLANDBIT>"],["\t <FCLEAR ,DEEP-CANYON ,TOUCHBIT>"],["\t <FCLEAR ,LOUD-ROOM ,TOUCHBIT>"],["\t <AND <IN? ,TRUNK ,RESERVOIR>"],["\t      <FSET ,TRUNK ,INVISIBLE>>"],["\t <SETG LOW-TIDE <>>"],["\t <COND (<EQUAL? ,HERE ,RESERVOIR>"],["\t\t<COND (<FSET? <LOC ,WINNER> ,VEHBIT>"],["\t\t       <TELL"],[["Str","\"The boat lifts gently out of the mud and is now floating on"]],[["Str","the reservoir.\""]," CR>)"],["\t\t      (T"],["\t\t       <JIGS-UP"],[["Str","\"You are lifted up by the rising river! You try to swim, but the"]],[["Str","currents are too strong. You come closer, closer to the awesome"]],[["Str","structure of Flood Control Dam #3. The dam beckons to you."]],[["Str","The roar of the water nearly deafens you, but you remain conscious"]],[["Str","as you tumble over the dam toward your certain doom among the rocks"]],[["Str","at its base.\""],">)>)"],["\t       (<EQUAL? ,HERE ,DEEP-CANYON>"],["\t\t<TELL"],[["Str","\"A sound, like that of flowing water, starts to come from below.\""]," CR>)"],["\t       (<EQUAL? ,HERE ,LOUD-ROOM>"],["\t\t<TELL"],[["Str","\"All of a sudden, an alarmingly loud roaring sound fills the room."]],[["Str","Filled with fear, you scramble away.\""]," CR>"],["\t\t<GOTO <PICK-ONE ,LOUD-RUNS>>)"],["\t       (<EQUAL? ,HERE ,RESERVOIR-NORTH ,RESERVOIR-SOUTH>"],["\t\t<TELL"],[["Str","\"You notice that the water level has risen to the point that it"]],[["Str","is impossible to cross.\""]," CR>)>"],["\t T>"],[],["<GLOBAL LOUD-RUNS <LTABLE 0 DAMP-CAVE ROUND-ROOM DEEP-CANYON>>"],[],["<ROUTINE I-REMPTY ()"],["\t <FSET ,RESERVOIR ,RLANDBIT>"],["\t <FCLEAR ,RESERVOIR ,NONLANDBIT>"],["\t <FCLEAR ,DEEP-CANYON ,TOUCHBIT>"],["\t <FCLEAR ,LOUD-ROOM ,TOUCHBIT>"],["\t <FCLEAR ,TRUNK ,INVISIBLE>"],["\t <SETG LOW-TIDE T>"],["\t <COND (<AND <EQUAL? ,HERE ,RESERVOIR>"],["\t\t     <FSET? <LOC ,WINNER> ,VEHBIT>>"],["\t\t<TELL"],[["Str","\"The water level has dropped to the point at which the boat can no"]],[["Str","longer stay afloat. It sinks into the mud.\""]," CR>)"],["\t       (<EQUAL? ,HERE ,DEEP-CANYON>"],["\t\t<TELL"],[["Str","\"The roar of rushing water is quieter now.\""]," CR>)"],["\t       (<EQUAL? ,HERE ,RESERVOIR-NORTH ,RESERVOIR-SOUTH>"],["\t\t<TELL"],[["Str","\"The water level is now quite low here and you could easily cross over"]],[["Str","to the other side.\""]," CR>)>"],["\t T>"],[],["<GLOBAL DROWNINGS"],["      <TABLE ",["Str","\"up to your ankles.\""]],["\t",["Str","\"up to your shin.\""]],["\t",["Str","\"up to your knees.\""]],["\t",["Str","\"up to your hips.\""]],["\t",["Str","\"up to your waist.\""]],["\t",["Str","\"up to your chest.\""]],["\t",["Str","\"up to your neck.\""]],["\t",["Str","\"over your head.\""]],["\t",["Str","\"high in your lungs.\""],">>"],[],["<GLOBAL WATER-LEVEL 0>"],["<GDECL (WATER-LEVEL) FIX>"],[],["<ROUTINE BUTTON-F ()"],["\t <COND (<VERB? READ>"],["\t\t<TELL ",["Str","\"They're greek to you.\""]," CR>)"],["\t       (<VERB? PUSH>"],["\t\t<COND (<EQUAL? ,PRSO ,BLUE-BUTTON>"],["\t\t       <COND (<0? ,WATER-LEVEL>"],["\t\t\t      <FCLEAR ,LEAK ,INVISIBLE>"],["\t\t\t      <TELL"],[["Str","\"There is a rumbling sound and a stream of water appears to burst"]],[["Str","from the east wall of the room (apparently, a leak has occurred in a"]],[["Str","pipe).\""]," CR>"],["\t\t\t      <SETG WATER-LEVEL 1>"],["\t\t\t      <ENABLE <QUEUE I-MAINT-ROOM -1>>"],["\t\t\t      T)"],["\t\t\t     (T"],["\t\t\t      <TELL"],["\t\t\t        ",["Str","\"The blue button appears to be jammed.\""]," CR>)>)"],["\t\t      (<EQUAL? ,PRSO ,RED-BUTTON>"],["\t\t       <TELL ",["Str","\"The lights within the room \""],">"],["\t\t       <COND (<FSET? ,HERE ,ONBIT>"],["\t\t\t      <FCLEAR ,HERE ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"shut off.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <FSET ,HERE ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"come on.\""]," CR>)>)"],["\t\t      (<EQUAL? ,PRSO ,BROWN-BUTTON>"],["\t\t       <FCLEAR ,DAM-ROOM ,TOUCHBIT>"],["\t\t       <SETG GATE-FLAG <>>"],["\t\t       <TELL ",["Str","\"Click.\""]," CR>)"],["\t\t      (<EQUAL? ,PRSO ,YELLOW-BUTTON>"],["\t\t       <FCLEAR ,DAM-ROOM ,TOUCHBIT>"],["\t\t       <SETG GATE-FLAG T>"],["\t\t       <TELL ",["Str","\"Click.\""]," CR>)>)>>"],[],["<ROUTINE TOOL-CHEST-FCN ()"],["\t <COND (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The chests are all empty.\""]," CR>)"],["\t       (<VERB? TAKE OPEN PUT>"],["\t\t<REMOVE-CAREFULLY ,TOOL-CHEST>"],["<TELL"],[["Str","\"The chests are so rusty and corroded that they crumble when you"]],[["Str","touch them.\""]," CR>)"],["\t       (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The chests are already open.\""]," CR>)>>"],[],["<ROUTINE I-MAINT-ROOM (",["Str","\"AUX\""]," HERE?)"],["\t <SET HERE? <EQUAL? ,HERE ,MAINTENANCE-ROOM>>"],["\t <COND (.HERE? <TELL ",["Str","\"The water level here is now \""],"> <TELL <GET"],["\t\t,DROWNINGS </ ,WATER-LEVEL 2>>> <CRLF>)>"],["\t <SETG WATER-LEVEL <+ 1 ,WATER-LEVEL>>"],["\t <COND (<NOT <L? ,WATER-LEVEL 14>>"],["\t\t<MUNG-ROOM ,MAINTENANCE-ROOM"],[["Str","\"The room is full of water and cannot be entered.\""],">"],["\t\t<QUEUE I-MAINT-ROOM 0>"],["\t\t<COND (.HERE?"],["\t\t     <JIGS-UP"],[["Str","\"I'm afraid you have done drowned yourself.\""],">)>)"],["\t       (<AND <IN? ,WINNER ,INFLATED-BOAT>"],["\t\t     <EQUAL? ,HERE ,MAINTENANCE-ROOM ,DAM-ROOM ,DAM-LOBBY>>"],["\t\t<JIGS-UP"],[["Str","\"The rising water carries the boat over the dam, down the river, and over"]],[["Str","the falls. Tsk, tsk.\""],">)>"],["\t <RTRUE>>"],[],["<ROUTINE LEAK-FUNCTION ()"],["\t<COND (<G? ,WATER-LEVEL 0>"],["\t       <COND (<AND <VERB? PUT PUT-ON>"],["\t\t\t   <EQUAL? ,PRSO ,PUTTY>>"],["\t\t      <FIX-MAINT-LEAK>)"],["\t\t     (<VERB? PLUG>"],["\t\t      <COND (<EQUAL? ,PRSI ,PUTTY>"],["\t\t\t     <FIX-MAINT-LEAK>)"],["\t\t\t    (T <WITH-TELL ,PRSI>)>)>)>>"],[],["<ROUTINE FIX-MAINT-LEAK ()"],["\t <SETG WATER-LEVEL -1>"],["\t <QUEUE I-MAINT-ROOM 0>"],["\t <TELL"],[["Str","\"By some miracle of Zorkian technology, you have managed to stop the"]],[["Str","leak in the dam.\""]," CR>>"],[],["<ROUTINE PUTTY-FCN ()"],["\t <COND (<OR <AND <VERB? OIL>"],["\t\t\t <EQUAL? ,PRSI ,PUTTY>>"],["\t\t    <AND <VERB? PUT>"],["\t\t\t <EQUAL? ,PRSO ,PUTTY>>>"],["\t\t<TELL ",["Str","\"The all-purpose gunk isn't a lubricant.\""]," CR>)>>"],[],["<ROUTINE TUBE-FUNCTION ()"],["\t <COND (<AND <VERB? PUT>"],["\t\t     <EQUAL? ,PRSI ,TUBE>>"],["\t\t<TELL ",["Str","\"The tube refuses to accept anything.\""]," CR>)"],["\t       (<VERB? SQUEEZE>"],["\t\t<COND (<AND <FSET? ,PRSO ,OPENBIT>"],["\t\t\t    <IN? ,PUTTY ,PRSO>>"],["\t\t       <MOVE ,PUTTY ,WINNER>"],["\t\t       <TELL ",["Str","\"The viscous material oozes into your hand.\""]," CR>)"],["\t\t      (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The tube is apparently empty.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The tube is closed.\""]," CR>)>)>>"],[],["<ROUTINE DAM-FUNCTION ()"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL ",["Str","\"Sounds reasonable, but this isn't how.\""]," CR>)"],["\t       (<VERB? PLUG>"],["\t\t<COND (<EQUAL? ,PRSI ,HANDS>"],["\t\t       <TELL"],[["Str","\"Are you the little Dutch boy, then? Sorry, this is a big dam.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"With a \""]," D ,PRSI ",["Str","\"? Do you know how big this dam is? You could only"]],[["Str","stop a tiny leak with that.\""]," CR>)>)>>"],[],["<ROUTINE WITH-TELL (OBJ)"],["\t <TELL ",["Str","\"With a \""]," D .OBJ ",["Str","\"?\""]," CR>>"],[],["<ROUTINE RESERVOIR-SOUTH-FCN (RARG)"],["\t<COND (<EQUAL? .RARG ,M-LOOK>"],["\t       <COND (<AND ,LOW-TIDE ,GATES-OPEN>"],["\t\t      <TELL"],[["Str","\"You are in a long room, to the north of which was formerly a lake."]],[["Str","However, with the water level lowered, there is merely a wide stream"]],[["Str","running through the center of the room.\""],">)"],["\t\t     (,GATES-OPEN"],["\t\t      <TELL"],[["Str","\"You are in a long room. To the north is a large lake, too deep"]],[["Str","to cross. You notice, however, that the water level appears to be"]],[["Str","dropping at a rapid rate. Before long, it might be possible to cross"]],[["Str","to the other side from here.\""],">)"],["\t\t     (,LOW-TIDE"],["\t\t      <TELL"],[["Str","\"You are in a long room, to the north of which is a wide area which"]],[["Str","was formerly a reservoir, but now is merely a stream. You notice,"]],[["Str","however, that the level of the stream is rising quickly and that"]],[["Str","before long it will be impossible to cross here.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You are in a long room on the south shore of a large lake, far"]],[["Str","too deep and wide for crossing.\""],">)>"],["\t       <CRLF>"],["\t       <TELL"],[["Str","\"There is a path along the stream to the east or west, a steep pathway"]],[["Str","climbing southwest along the edge of a chasm, and a path leading into a"]],[["Str","canyon to the southeast.\""]," CR>)>>"],[],["<ROUTINE RESERVOIR-FCN (RARG)"],["   \t<COND (<AND <EQUAL? .RARG ,M-END>"],["\t\t    <NOT <FSET? <LOC ,WINNER> ,VEHBIT>>"],["\t\t    <NOT ,GATES-OPEN>"],["\t\t    ,LOW-TIDE>"],["\t       <TELL"],[["Str","\"You notice that the water level here is rising rapidly. The currents"]],[["Str","are also becoming stronger. Staying here seems quite perilous!\""]," CR>)"],["\t      (<EQUAL? .RARG ,M-LOOK>"],["\t       <COND (,LOW-TIDE"],["\t\t      <TELL"],[["Str","\"You are on what used to be a large lake, but which is now a large"]],[["Str","mud pile. There are \\\"shores\\\" to the north and south.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You are on the lake. Beaches can be seen north and south."]],[["Str","Upstream a small stream enters the lake through a narrow cleft"]],[["Str","in the rocks. The dam can be seen downstream.\""],">)>"],["\t       <CRLF>)>>"],[],["<ROUTINE RESERVOIR-NORTH-FCN (RARG)"],["\t<COND (<EQUAL? .RARG ,M-LOOK>"],["\t       <COND (<AND ,LOW-TIDE ,GATES-OPEN>"],["\t\t      <TELL"],[["Str","\"You are in a large cavernous room, the south of which was formerly"]],[["Str","a lake. However, with the water level lowered, there is merely"]],[["Str","a wide stream running through there.\""],">)"],["\t\t     (,GATES-OPEN"],["\t\t      <TELL"],[["Str","\"You are in a large cavernous area. To the south is a wide lake,"]],[["Str","whose water level appears to be falling rapidly.\""],">)"],["\t\t     (,LOW-TIDE"],["\t\t      <TELL"],[["Str","\"You are in a cavernous area, to the south of which is a very wide"]],[["Str","stream. The level of the stream is rising rapidly, and it appears"]],[["Str","that before long it will be impossible to cross to the other side.\""],">)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You are in a large cavernous room, north of a large lake.\""],">)>"],["\t       <CRLF>"],["\t       <TELL"],[["Str","\"There is a slimy stairway leaving the room to the north.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE WATER, WATER EVERYWHERE...\""]],[],["<ROUTINE BOTTLE-FUNCTION (",["Str","\"AUX\""]," (E? <>))"],["  <COND (<AND <VERB? THROW> <==? ,PRSO ,BOTTLE>>"],["\t <REMOVE-CAREFULLY ,PRSO>"],["\t <SET E? T>"],["\t <TELL ",["Str","\"The bottle hits the far wall and shatters.\""]," CR>)"],["\t(<VERB? MUNG>"],["\t <SET E? T>"],["\t <REMOVE-CAREFULLY ,PRSO>"],["\t <TELL ",["Str","\"A brilliant maneuver destroys the bottle.\""]," CR>)"],["\t(<VERB? SHAKE>"],["\t <COND (<AND <FSET? ,PRSO ,OPENBIT> <IN? ,WATER ,PRSO>>"],["\t\t<SET E? T>)>)>"],["  <COND (<AND .E? <IN? ,WATER ,PRSO>>"],["\t <TELL ",["Str","\"The water spills to the floor and evaporates.\""]," CR>"],["\t <REMOVE-CAREFULLY ,WATER>"],["\t T)"],["\t(.E? <RTRUE>)>>"],[],["\\"],[],[["Str","\"SUBTITLE CYCLOPS\""]],[],["<GLOBAL CYCLOWRATH 0>"],[],["<ROUTINE CYCLOPS-FCN (",["Str","\"AUX\""]," COUNT)"],["\t<SET COUNT ,CYCLOWRATH>"],["\t<COND (<EQUAL? ,WINNER ,CYCLOPS>"],["\t       <COND (,CYCLOPS-FLAG"],["\t\t      <TELL ",["Str","\"No use talking to him. He's fast asleep.\""]," CR>)"],["\t\t     (<VERB? ODYSSEUS>"],["\t\t      <SETG WINNER ,ADVENTURER>"],["\t\t      <PERFORM ,V?ODYSSEUS>"],["\t\t      <RTRUE>)"],["\t\t     (ELSE"],["\t\t      <TELL"],[["Str","\"The cyclops prefers eating to making conversation.\""]," CR>)>)"],["\t      (,CYCLOPS-FLAG"],["\t       <COND (<VERB? EXAMINE>"],["\t\t      <TELL"],[["Str","\"The cyclops is sleeping like a baby, albeit a very ugly one.\""]," CR>)"],["\t\t     (<VERB? ALARM KICK ATTACK BURN MUNG>"],["\t\t      <TELL"],[["Str","\"The cyclops yawns and stares at the thing that woke him up.\""]," CR>"],["\t\t      <SETG CYCLOPS-FLAG <>>"],["\t\t      <FSET ,CYCLOPS ,FIGHTBIT>"],["\t\t      <COND (<L? .COUNT 0>"],["\t\t\t     <SETG CYCLOWRATH <- .COUNT>>)"],["\t\t\t    (T"],["\t\t\t     <SETG CYCLOWRATH .COUNT>)>)>)"],["\t      (<VERB? EXAMINE>"],["\t       <TELL"],[["Str","\"A hungry cyclops is standing at the foot of the stairs.\""]," CR>)"],["\t      (<AND <VERB? GIVE> <EQUAL? ,PRSI ,CYCLOPS>>"],["\t       <COND (<EQUAL? ,PRSO ,LUNCH>"],["\t\t      <COND (<NOT <L? .COUNT 0>>"],["\t\t\t     <REMOVE-CAREFULLY ,LUNCH>"],["\t\t\t     <TELL"],[["Str","\"The cyclops says \\\"Mmm Mmm. I love hot peppers! But oh, could I use"]],[["Str","a drink. Perhaps I could drink the blood of that thing.\\\"  From the"]],[["Str","gleam in his eye, it could be surmised that you are \\\"that thing\\\".\""]," CR>"],["\t\t\t     <SETG CYCLOWRATH <MIN -1 <- .COUNT>>>)>"],["\t\t      <ENABLE <QUEUE I-CYCLOPS -1>>)"],["\t\t     (<OR <EQUAL? ,PRSO ,WATER>"],["\t\t\t  <AND <EQUAL? ,PRSO ,BOTTLE>"],["\t\t\t       <IN? ,WATER ,BOTTLE>>>"],["\t\t      <COND (<L? .COUNT 0>"],["\t\t\t     <REMOVE-CAREFULLY ,WATER>"],["\t\t\t     <MOVE ,BOTTLE ,HERE>"],["\t\t\t     <FSET ,BOTTLE ,OPENBIT>"],["\t\t\t     <FCLEAR ,CYCLOPS ,FIGHTBIT>"],["\t\t\t     <TELL"],[["Str","\"The cyclops takes the bottle, checks that it's open, and drinks the water."]],[["Str","A moment later, he lets out a yawn that nearly blows you over, and then"]],[["Str","falls fast asleep (what did you put in that drink, anyway?).\""]," CR>"],["\t\t\t     <SETG CYCLOPS-FLAG T>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"The cyclops apparently is not thirsty and refuses your generous offer.\""]," CR>)>)"],["\t\t     (<EQUAL? ,PRSO ,GARLIC>"],["\t\t      <TELL"],[["Str","\"The cyclops may be hungry, but there is a limit.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The cyclops is not so stupid as to eat THAT!\""]," CR>)>)"],["\t      (<VERB? THROW ATTACK MUNG>"],["\t       <ENABLE <QUEUE I-CYCLOPS -1>>"],["\t       <COND (<VERB? MUNG>"],["\t\t      <TELL"],[["Str","\"\\\"Do you think I'm as stupid as my father was?\\\", he says, dodging.\""]," CR>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"The cyclops shrugs but otherwise ignores your pitiful attempt.\""]," CR>"],["\t\t      <COND (<VERB? THROW>"],["\t\t\t     <MOVE ,PRSO ,HERE>)>"],["\t\t      <RTRUE>)>)"],["\t      (<VERB? TAKE>"],["\t       <TELL"],[["Str","\"The cyclops doesn't take kindly to being grabbed.\""]," CR>)"],["\t      (<VERB? TIE>"],["\t       <TELL"],[["Str","\"You cannot tie the cyclops, though he is fit to be tied.\""]," CR>)"],["\t      (<VERB? LISTEN>"],["\t       <TELL"],[["Str","\"You can hear his stomach rumbling.\""]," CR>)>>"],[],["<ROUTINE I-CYCLOPS ()"],["\t <COND (<OR ,CYCLOPS-FLAG ,DEAD> <RTRUE>)"],["\t       (<NOT <EQUAL? ,HERE ,CYCLOPS-ROOM>>"],["\t\t<DISABLE <INT I-CYCLOPS>>)"],["\t       (T"],["\t\t<COND (<G? <ABS ,CYCLOWRATH> 5>"],["\t\t       <DISABLE <INT I-CYCLOPS>>"],["\t\t       <JIGS-UP"],[["Str","\"The cyclops, tired of all of your games and trickery, grabs you firmly."]],[["Str","As he licks his chops, he says \\\"Mmm. Just like Mom used to make 'em.\\\""]],[["Str","It's nice to be appreciated.\""],">)"],["\t\t      (T"],["\t\t       <COND (<L? ,CYCLOWRATH 0>"],["\t\t\t      <SETG CYCLOWRATH <- ,CYCLOWRATH 1>>)"],["\t\t\t     (T"],["\t\t\t      <SETG CYCLOWRATH <+ ,CYCLOWRATH 1>>)>"],["\t\t       <COND (<NOT ,CYCLOPS-FLAG>"],["\t\t\t      <TELL <NTH ,CYCLOMAD <- <ABS ,CYCLOWRATH> 1>>"],["\t\t\t\t    CR>)>)>)>>"],[],["<ROUTINE CYCLOPS-ROOM-FCN (RARG)"],["\t<COND (<EQUAL? .RARG ,M-LOOK>"],["\t       <TELL"],[["Str","\"This room has an exit on the northwest, and a staircase leading up.\""]," CR>"],["\t       <COND (<AND ,CYCLOPS-FLAG <NOT ,MAGIC-FLAG>>"],["\t\t      <TELL"],[["Str","\"The cyclops is sleeping blissfully at the foot of the stairs.\""]," CR>)"],["\t\t     (,MAGIC-FLAG"],["\t\t      <TELL"],[["Str","\"The east wall, previously solid, now has a cyclops-sized opening in it.\""]," CR>)"],["\t\t     (<0? ,CYCLOWRATH>"],["\t\t      <TELL"],[["Str","\"A cyclops, who looks prepared to eat horses (much less mere"]],[["Str","adventurers), blocks the staircase. From his state of health, and"]],[["Str","the bloodstains on the walls, you gather that he is not very"]],[["Str","friendly, though he likes people.\""]," CR>)"],["\t\t     (<G? ,CYCLOWRATH 0>"],["\t\t      <TELL"],[["Str","\"The cyclops is standing in the corner, eyeing you closely. I don't"]],[["Str","think he likes you very much. He looks extremely hungry, even for a"]],[["Str","cyclops.\""]," CR>)"],["\t\t     (<L? ,CYCLOWRATH 0>"],["\t\t      <TELL"],[["Str","\"The cyclops, having eaten the hot peppers, appears to be gasping."]],[["Str","His enflamed tongue protrudes from his man-sized mouth.\""]," CR>)>)"],["\t      (<EQUAL? .RARG ,M-ENTER>"],["\t       <OR <0? ,CYCLOWRATH> <ENABLE <INT I-CYCLOPS>>>)>>"],[],["<GLOBAL CYCLOMAD"],["\t<TABLE"],["\t  ",["Str","\"The cyclops seems somewhat agitated.\""]],["\t  ",["Str","\"The cyclops appears to be getting more agitated.\""]],["\t  ",["Str","\"The cyclops is moving about the room, looking for something.\""]],["\t  ",["Str","\"The cyclops was looking for salt and pepper. No doubt they are"]],[["Str","condiments for his upcoming snack.\""]],["\t  ",["Str","\"The cyclops is moving toward you in an unfriendly manner.\""]],["\t  ",["Str","\"You have two choices: 1. Leave  2. Become dinner.\""],">>"],[],["\\"],[],[["Str","\"SUBTITLE LOUD LOUD LOUD\""]],[],["<GLOBAL LOUD-FLAG <>>"],[],["<ROUTINE LOUD-ROOM-FCN (RARG ",["Str","\"AUX\""]," WRD)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"This is a large room with a ceiling which cannot be detected from"]],[["Str","the ground. There is a narrow passage from east to west and a stone"]],[["Str","stairway leading upward.\""],">"],["\t\t<COND (<OR ,LOUD-FLAG"],["\t\t\t   <AND <NOT ,GATES-OPEN> ,LOW-TIDE>>"],["\t\t       <TELL ",["Str","\" The room is eerie in its quietness.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\" The room is deafeningly loud with an"]],[["Str","undetermined rushing sound. The sound seems to reverberate from all"]],[["Str","of the walls, making it difficult even to think.\""],">)>"],["\t\t<CRLF>)"],["\t       (<AND <EQUAL? .RARG ,M-END> ,GATES-OPEN <NOT ,LOW-TIDE>>"],["\t\t<TELL"],[["Str","\"It is unbearably loud here, with an ear-splitting roar seeming to"]],[["Str","come from all around you. There is a pounding in your head which won't"]],[["Str","stop. With a tremendous effort, you scramble out of the room.\""]," CR CR>"],["\t\t<GOTO <PICK-ONE ,LOUD-RUNS>>"],["\t\t<RFALSE>)"],["\t       (<EQUAL? .RARG ,M-ENTER>"],["\t\t<COND (<OR ,LOUD-FLAG"],["\t\t\t   <AND <NOT ,GATES-OPEN> ,LOW-TIDE>>"],["\t\t       <RFALSE>)"],["\t\t      (<AND ,GATES-OPEN <NOT ,LOW-TIDE>>"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <V-FIRST-LOOK>"],["\t\t       <COND (,P-CONT"],["\t\t\t      <TELL"],[["Str","\"The rest of your commands have been lost in the noise.\""]," CR>"],["\t\t\t      <SETG P-CONT <>>)>"],["\t\t       <REPEAT ()"],["\t\t\t       <CRLF>"],["\t\t\t       <TELL ",["Str","\">\""],">"],["\t\t\t       <READ ,P-INBUF ,P-LEXV>"],["\t\t\t       <COND (<0? <GETB ,P-LEXV ,P-LEXWORDS>>"],["\t\t\t              <TELL ",["Str","\"I beg your pardon?\""]," CR>"],["\t\t\t\t      <AGAIN>)>"],["\t\t\t       <SET WRD <GET ,P-LEXV 1>>"],["\t\t\t       <COND (<EQUAL? .WRD ,W?GO ,W?WALK ,W?RUN>"],["\t\t\t\t      <SET WRD <GET ,P-LEXV 3>>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?SAY>"],["\t\t\t\t      <SET WRD <GET ,P-LEXV 5>>)>"],["\t\t\t       <COND (<EQUAL? .WRD ,W?SAVE>"],["\t\t\t\t      <V-SAVE>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?RESTORE>"],["\t\t\t\t      <V-RESTORE>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?Q ,W?QUIT>"],["\t\t\t\t      <V-QUIT>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?W ,W?WEST>"],["\t\t\t\t      <RETURN <GOTO ,ROUND-ROOM>>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?E ,W?EAST>"],["\t\t\t\t      <RETURN <GOTO ,DAMP-CAVE>>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?U ,W?UP>"],["\t\t\t\t      <RETURN <GOTO ,DEEP-CANYON>>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?BUG>"],["\t\t\t\t      <TELL ",["Str","\"That's only your opinion.\""]," CR>)"],["\t\t\t\t     (<EQUAL? .WRD ,W?ECHO>"],["\t\t\t\t      <SETG LOUD-FLAG T>"],["\t\t\t\t      <FCLEAR ,BAR ,SACREDBIT>"],["\t\t\t\t      <TELL"],[["Str","\"The acoustics of the room change subtly.\""]," CR CR>"],["\t\t\t\t      <RETURN>)"],["\t\t\t\t     ",["Comment",";(,DEAD <CRLF>)"]],["\t\t\t\t     (T"],["\t\t\t\t      <V-ECHO>)>>)>)>>"],[],["<ROUTINE DEEP-CANYON-F (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are on the south edge of a deep canyon. Passages lead off to the"]],[["Str","east, northwest and southwest. A stairway leads down.\""],">"],["\t\t<COND (<AND ,GATES-OPEN <NOT ,LOW-TIDE>>"],["\t\t       <TELL"],[["Str","\" You can hear a loud roaring sound, like that of rushing water, from"]],[["Str","below.\""],">)"],["\t\t      (<AND <NOT ,GATES-OPEN> ,LOW-TIDE>"],["\t\t       <CRLF>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\" You can hear the sound of flowing water from below.\""],">)>"],["\t\t<CRLF>)>>"],[],[],["<GLOBAL EGG-SOLVE <>>"],[],["\\"],[],[["Str","\"SUBTITLE A SEEDY LOOKING GENTLEMAN...\""]],[],["<GLOBAL THIEF-HERE <>>"],[],[["Comment",";\"I-THIEF moved to DEMONS\""]],[],["\\"],[],[["Str","\"SUBTITLE THINGS THIEF MIGHT DO\""]],[],[["Str","\"INTERACTION WITH ADVENTURER -- RETURNS T IF THIEF FINISHED.\""]],[],["<ROUTINE THIEF-VS-ADVENTURER (HERE? ",["Str","\"AUX\""]," ROBBED? (WINNER-ROBBED? <>))"],["  <COND (<AND <NOT ,DEAD> <EQUAL? ,HERE ,TREASURE-ROOM>>)"],["        (<NOT ,THIEF-HERE>"],["         <COND (<AND <NOT ,DEAD> <NOT .HERE?> <PROB 30>>"],["\t        <COND (<IN? ,STILETTO ,THIEF>"],["\t\t       <FCLEAR ,THIEF ,INVISIBLE>"],["\t\t       <TELL"],[["Str","\"Someone carrying a large bag is casually leaning against one of the"]],[["Str","walls here. He does not speak, but it is clear from his aspect that"]],[["Str","the bag will be taken only over his dead body.\""]," CR>"],["\t\t       <SETG THIEF-HERE T>"],["\t\t       <RTRUE>)"],["\t\t      (<IN? ,STILETTO ,WINNER>"],["\t\t       <MOVE ,STILETTO ,THIEF>"],["\t\t       <FSET ,STILETTO ,NDESCBIT>"],["\t\t       <FCLEAR ,THIEF ,INVISIBLE>"],["\t\t       <TELL"],[["Str","\"You feel a light finger-touch, and turning, notice a grinning figure"]],[["Str","holding a large bag in one hand and a stiletto in the other.\""],">"],["\t\t       <SETG THIEF-HERE T>"],["\t\t       <RTRUE>)>)"],["\t       (<AND .HERE?"],["\t\t     <FSET? ,THIEF ,FIGHTBIT>"],["\t\t     <NOT <WINNING? ,THIEF>>>"],["\t\t<TELL"],[["Str","\"Your opponent, determining discretion to be the better part of"]],[["Str","valor, decides to terminate this little contretemps. With a rueful"]],[["Str","nod of his head, he steps backward into the gloom and disappears.\""]," CR>"],["\t\t<FSET ,THIEF ,INVISIBLE>"],["\t\t<FCLEAR ,THIEF ,FIGHTBIT>"],["\t\t<RECOVER-STILETTO>"],["\t\t<RTRUE>)"],["\t       (<AND .HERE? <FSET? ,THIEF ,FIGHTBIT> <PROB 90>>"],["\t\t<RFALSE>)"],["\t       (<AND .HERE? <PROB 30>>"],["\t        <TELL"],[["Str","\"The holder of the large bag just left, looking disgusted."]],[["Str","Fortunately, he took nothing.\""]," CR>"],["\t\t<FSET ,THIEF ,INVISIBLE>"],["\t\t<RECOVER-STILETTO>"],["\t        <RTRUE>)"],["\t       (<PROB 70> <RFALSE>)"],["\t       (<NOT ,DEAD>"],["\t\t<COND (<ROB ,HERE ,THIEF 100> <SET ROBBED? T>)"],["\t\t      (<ROB ,WINNER ,THIEF>"],["\t\t       <SET ROBBED? T>"],["\t\t       <SET WINNER-ROBBED? T>)>"],["\t\t<SETG THIEF-HERE T>"],["\t        <COND (<AND .ROBBED? <NOT .HERE?>>"],["\t\t       <TELL"],[["Str","\"A seedy-looking individual with a large bag just wandered through"]],[["Str","the room. On the way through, he quietly abstracted some valuables"]],[["Str","from the room and from your possession, mumbling something about"]],[["Str","\\\"Doing unto others before...\\\"\""]," CR>"],["\t\t       <STOLE-LIGHT?>)"],["\t\t      (.HERE?"],["\t\t       <RECOVER-STILETTO>"],["\t\t       <COND (.ROBBED?"],["\t\t\t      <TELL"],[["Str","\"The thief just left, still carrying his large bag. You may"]],[["Str","not have noticed that he \""],">"],["\t\t\t      <COND (.WINNER-ROBBED?"],["\t\t\t\t     <TELL"],[["Str","\"robbed you blind first.\""],">)"],["\t\t\t\t    (T <TELL"],[["Str","\"appropriated the valuables in the room.\""],">)>"],["\t\t\t      <CRLF>"],["\t\t\t      <STOLE-LIGHT?>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The thief, finding nothing of value, left disgusted.\""]," CR>)>"],["\t\t       <FSET ,THIEF ,INVISIBLE>"],["\t\t       <SET HERE? <>>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"A \\\"lean and hungry\\\" gentleman just wandered through, carrying a"]],[["Str","large bag. Finding nothing of value, he left disgruntled.\""]," CR>"],["\t\t       <RTRUE>)>)>)"],["\t(T"],["\t <COND (.HERE?\t\t\t",["Comment",";\"Here, already announced.\""]],["\t\t<COND (<PROB 30>"],["\t\t       <COND (<SET ROBBED?"],["\t\t\t\t   <OR <ROB ,HERE ,THIEF 100>"],["\t\t\t\t       <ROB ,WINNER ,THIEF>>>"],["\t\t\t      <TELL"],[["Str","\"The thief just left, still carrying his large bag. You may"]],[["Str","not have noticed that he robbed you blind first.\""]," CR>"],["\t\t\t      <STOLE-LIGHT?>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The thief, finding nothing of value, left disgusted.\""]," CR>)>"],["\t\t       <FSET ,THIEF ,INVISIBLE>"],["\t\t       <SET HERE? <>>"],["\t\t       <RECOVER-STILETTO>)>)>)>"],["       <RFALSE>>"],[],["<ROUTINE STOLE-LIGHT? (",["Str","\"AUX\""]," OLD-LIT)"],["\t <SET OLD-LIT ,LIT>"],["\t <SETG LIT <LIT? ,HERE>>"],["\t <COND (<AND <NOT ,LIT> .OLD-LIT>"],["\t\t<TELL ",["Str","\"The thief seems to have left you in the dark.\""]," CR>)>"],["\t <RTRUE>>"],[],[["Str","\"SNARF STILETTO IF DROPPED IT\""]],[],[["Comment",";\"RECOVER-STILETTO moved to DEMONS\""]],[],[["Str","\"PUT HIS BOOTY IN TREASURE ROOM\""]],[],["<ROUTINE HACK-TREASURES (",["Str","\"AUX\""]," X)"],["\t <RECOVER-STILETTO>"],["\t <FSET ,THIEF ,INVISIBLE>"],["\t <SET X <FIRST? ,TREASURE-ROOM>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .X> <RETURN>)"],["\t\t       (T <FCLEAR .X ,INVISIBLE>)>"],["\t\t <SET X <NEXT? .X>>>>"],[],["<ROUTINE DEPOSIT-BOOTY (RM ",["Str","\"AUX\""]," X N (FLG <>))"],["\t <SET X <FIRST? ,THIEF>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .X> <RETURN .FLG>)>"],["\t\t <SET N <NEXT? .X>>"],["\t\t <COND (<EQUAL? .X ,STILETTO ,LARGE-BAG>)"],["\t\t       (<G? <GETP .X ,P?TVALUE> 0>"],["\t\t\t<MOVE .X .RM>"],["\t\t\t<SET FLG T>"],["\t\t\t<COND (<EQUAL? .X ,EGG>"],["\t\t\t       <SETG EGG-SOLVE T>"],["\t\t\t       <FSET ,EGG ,OPENBIT>)>)>"],["\t\t <SET X .N>>>"],[],[["Str","\"TAKE ALL OF THE VALUABLES SOMEWHERE AND PUT THEM SOMEWHERE ELSE\""]],[],[["Str","\"MOVED TO DEMONS\""]],[],[["Str","\"ROB MAZE\""]],[],["<ROUTINE ROB-MAZE (RM ",["Str","\"AUX\""]," X N)"],["\t <SET X <FIRST? .RM>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .X> <RFALSE>)>"],["\t\t <SET N <NEXT? .X>>"],["\t\t <COND (<AND <FSET? .X ,TAKEBIT>"],["\t\t\t     <NOT <FSET? .X ,INVISIBLE>>"],["\t\t\t     <PROB 40>>"],["\t\t\t<TELL"],[["Str","\"You hear, off in the distance, someone saying \\\"My, I wonder what"]],[["Str","this fine \""]," D .X ",["Str","\" is doing here.\\\"\""]," CR>"],["\t\t\t<COND (<PROB 60 80>"],["\t\t\t       <MOVE .X ,THIEF>"],["\t\t\t       <FSET .X ,TOUCHBIT>"],["\t\t\t       <FSET .X ,INVISIBLE>)>"],["\t\t\t<RETURN>)>"],["\t\t <SET X .N>>>"],[],[["Str","\"STEAL SOME JUNK - moved to DEMONS\""]],[],[["Str","\"DROP SOME JUNK - moved to DEMONS\""]],[],[],[],["\\"],[],[["Str","\"ROBBER-FUNCTION -- more prosaic thiefly occupations\""]],[],["<GLOBAL THIEF-ENGROSSED <>>"],[],["<ROUTINE ROBBER-FUNCTION (",["Str","\"OPTIONAL\""]," (MODE <>) ",["Str","\"AUX\""]," (FLG <>) X N)"],["\t <COND (<VERB? TELL>"],["\t\t<TELL ",["Str","\"The thief is a strong, silent type.\""]," CR>"],["\t\t<SETG P-CONT <>>)"],["\t       (<NOT .MODE>"],["\t\t<COND (<AND <VERB? HELLO>"],["\t\t\t    <EQUAL? <GETP ,THIEF ,P?LDESC> ,ROBBER-U-DESC>>"],["\t\t       <TELL"],[["Str","\"The thief, being temporarily incapacitated, is unable to acknowledge"]],[["Str","your greeting with his usual graciousness.\""]," CR>)"],["\t\t      (<AND <EQUAL? ,PRSO ,KNIFE>"],["\t\t\t    <VERB? THROW>"],["\t\t\t    <NOT <FSET? ,THIEF ,FIGHTBIT>>>"],["\t\t       <COND (<PROB 10 0>"],["\t\t\t      <TELL"],[["Str","\"You evidently frightened the robber, though you didn't hit him. He"]],[["Str","flees\""],">"],["\t\t\t      <COND (<SET X <FIRST? ,THIEF>>"],["\t\t\t\t     <MOVE-ALL ,THIEF ,HERE>"],["\t\t\t\t     <TELL"],[["Str","\", but the contents of his bag fall on the floor.\""],">)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL ",["Str","\".\""],">)>"],["\t\t\t      <CRLF>"],["\t\t\t      <FSET ,THIEF ,INVISIBLE>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You missed. The thief makes no attempt to take the knife, though it"]],[["Str","would be a fine addition to the collection in his bag. He does seem"]],[["Str","angered by your attempt.\""]," CR>"],["\t\t\t      <FSET ,THIEF ,FIGHTBIT>)>)"],["\t\t      (<AND <VERB? THROW GIVE>"],["\t\t\t    ,PRSO"],["\t\t\t    <NOT <EQUAL? ,PRSO ,THIEF>>"],["\t\t\t    <EQUAL? ,PRSI ,THIEF>>"],["\t\t       <COND (<L? <GETP ,THIEF ,P?STRENGTH> 0>"],["\t\t\t      <PUTP ,THIEF"],["\t\t\t\t    ,P?STRENGTH"],["\t\t\t\t    <- <GETP ,THIEF ,P?STRENGTH>>>"],["\t\t\t      <ENABLE <INT I-THIEF>>"],["\t\t\t      <RECOVER-STILETTO>"],["\t\t\t      <PUTP ,THIEF ,P?LDESC ,ROBBER-C-DESC>"],["\t\t\t      <TELL"],[["Str","\"Your proposed victim suddenly recovers consciousness.\""]," CR>)>"],["\t\t       <MOVE ,PRSO ,THIEF>"],["\t\t       <COND (<G? <GETP ,PRSO ,P?TVALUE> 0>"],["\t\t\t      <SETG THIEF-ENGROSSED T>"],["\t\t\t      <TELL"],[["Str","\"The thief is taken aback by your unexpected generosity, but accepts"]],[["Str","the \""]," D ,PRSO ",["Str","\" and stops to admire its beauty.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The thief places the \""]," D ,PRSO ",["Str","\" in his bag and thanks"]],[["Str","you politely.\""]," CR>)>)"],["\t\t      (<VERB? TAKE>"],["\t\t       <TELL"],[["Str","\"Once you got him, what would you do with him?\""]," CR>)"],["\t\t      (<VERB? EXAMINE LOOK-INSIDE>"],["\t\t       <TELL"],[["Str","\"The thief is a slippery character with beady eyes that flit back"]],[["Str","and forth. He carries, along with an unmistakable arrogance, a large bag"]],[["Str","over his shoulder and a vicious stiletto, whose blade is aimed"]],[["Str","menacingly in your direction. I'd watch out if I were you.\""]," CR>)"],["\t\t      (<VERB? LISTEN>"],["\t\t       <TELL"],[["Str","\"The thief says nothing, as you have not been formally introduced.\""]," CR>)>)"],["\t       (<EQUAL? .MODE ,F-BUSY?>"],["\t\t<COND (<IN? ,STILETTO ,THIEF> <>)"],["\t\t      (<IN? ,STILETTO <LOC ,THIEF>>"],["\t\t       <MOVE ,STILETTO ,THIEF>"],["\t\t       <FSET ,STILETTO ,NDESCBIT>"],["\t\t       <COND (<IN? ,THIEF ,HERE>"],["\t\t\t      <TELL"],[["Str","\"The robber, somewhat surprised at this turn of events, nimbly"]],[["Str","retrieves his stiletto.\""]," CR>)>"],["\t\t       T)>)"],["\t       (<EQUAL? .MODE ,F-DEAD>"],["\t\t<MOVE ,STILETTO ,HERE>"],["\t\t<FCLEAR ,STILETTO ,NDESCBIT>"],["\t\t<SET X <DEPOSIT-BOOTY ,HERE>>"],["\t\t<COND (<EQUAL? ,HERE ,TREASURE-ROOM>"],["\t\t       <SET X <FIRST? ,HERE>>"],["\t\t       <REPEAT ()"],["\t\t\t       <COND"],["\t\t\t\t(<NOT .X>"],["\t\t\t\t <TELL ",["Str","\"The chalice is now safe to take.\""]," CR>"],["\t\t\t\t <RETURN>)"],["\t\t\t\t(<NOT <EQUAL? .X ,CHALICE ,THIEF ,ADVENTURER>>"],["\t\t\t\t <FCLEAR .X ,INVISIBLE>"],["\t\t\t\t <COND (<NOT .FLG>"],["\t\t\t\t\t<SET FLG T>"],["\t\t\t\t\t<TELL"],[["Str","\"As the thief dies, the power of his magic decreases, and his"]],[["Str","treasures reappear:\""]," CR>)>"],["\t\t\t\t <TELL ",["Str","\"  A \""]," D .X>"],["\t\t\t\t <COND (<AND <FIRST? .X>"],["\t\t\t\t\t     <SEE-INSIDE? .X>>"],["\t\t\t\t\t<TELL ",["Str","\", with \""],">"],["\t\t\t\t\t<PRINT-CONTENTS .X>)>"],["\t\t\t\t <CRLF>)>"],["\t\t\t       <SET X <NEXT? .X>>>)"],["\t\t      (.X"],["\t\t       <TELL ",["Str","\"His booty remains.\""]," CR>)>"],["\t\t<DISABLE <INT I-THIEF>>)"],["\t       (<EQUAL? .MODE ,F-FIRST?>"],["\t\t<COND (<AND ,THIEF-HERE"],["\t\t\t    <NOT <FSET? ,THIEF ,INVISIBLE>>"],["\t\t\t    <PROB 20>>"],["\t\t       <FSET ,THIEF ,FIGHTBIT>"],["\t\t       <SETG P-CONT <>>"],["\t\t       T)>)"],["\t       (<EQUAL? .MODE ,F-UNCONSCIOUS>"],["\t\t<DISABLE <INT I-THIEF>>"],["\t\t<FCLEAR ,THIEF ,FIGHTBIT>"],["\t\t<MOVE ,STILETTO ,HERE>"],["\t\t<FCLEAR ,STILETTO ,NDESCBIT>"],["\t\t<PUTP ,THIEF ,P?LDESC ,ROBBER-U-DESC>)"],["\t       (<EQUAL? .MODE ,F-CONSCIOUS>"],["\t\t<COND (<EQUAL? <LOC ,THIEF> ,HERE>"],["\t\t       <FSET ,THIEF ,FIGHTBIT>"],["\t\t       <TELL"],[["Str","\"The robber revives, briefly feigning continued unconsciousness, and,"]],[["Str","when he sees his moment, scrambles away from you.\""]," CR>)>"],["\t\t<ENABLE <INT I-THIEF>>"],["\t\t<PUTP ,THIEF ,P?LDESC ,ROBBER-C-DESC>"],["\t\t<RECOVER-STILETTO>)>>"],[],["<GLOBAL ROBBER-C-DESC"],[["Str","\"There is a suspicious-looking individual, holding a bag, leaning"]],[["Str","against one wall. He is armed with a vicious-looking stiletto.\""],">"],[],["<GLOBAL ROBBER-U-DESC"],[["Str","\"There is a suspicious-looking individual lying unconscious on the"]],[["Str","ground.\""],">"],[],["<ROUTINE LARGE-BAG-F ()"],["\t <COND (<VERB? TAKE>"],["\t\t<COND (<EQUAL? <GETP ,THIEF ,P?LDESC> ,ROBBER-U-DESC>"],["\t\t       <TELL"],[["Str","\"Sadly for you, the robber collapsed on top of the bag. Trying to take"]],[["Str","it would wake him.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The bag will be taken over his dead body.\""]," CR>)>)"],["\t       (<AND <VERB? PUT>"],["\t\t     <EQUAL? ,PRSI ,LARGE-BAG>>"],["\t\t<TELL ",["Str","\"It would be a good trick.\""]," CR>)"],["\t       (<VERB? OPEN CLOSE>"],["\t\t<TELL"],[["Str","\"Getting close enough would be a good trick.\""]," CR>)"],["\t       (<VERB? EXAMINE LOOK-INSIDE>"],["\t\t<TELL"],[["Str","\"The bag is underneath the thief, so one can't say what, if anything, is"]],[["Str","inside.\""]," CR>)>>"],[],["<ROUTINE MOVE-ALL (FROM TO ",["Str","\"AUX\""]," X N)"],["\t <COND (<SET X <FIRST? .FROM>>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .X> <RETURN>)>"],["\t\t\t<SET N <NEXT? .X>>"],["\t\t\t<FCLEAR .X ,INVISIBLE>"],["\t\t\t<MOVE .X .TO>"],["\t\t\t<SET X .N>>)>>"],[],["<ROUTINE CHALICE-FCN ()"],["\t <COND (<VERB? TAKE>"],["\t\t<COND (<AND <IN? ,PRSO ,TREASURE-ROOM>"],["\t\t\t    <IN? ,THIEF ,TREASURE-ROOM>"],["\t\t\t    <FSET? ,THIEF ,FIGHTBIT>"],["\t\t\t    <NOT <FSET? ,THIEF ,INVISIBLE>>"],["\t\t\t    <NOT <EQUAL? <GETP ,THIEF ,P?LDESC>"],["\t\t\t\t\t ,ROBBER-U-DESC>>>"],["\t\t       <TELL"],[["Str","\"You'd be stabbed in the back first.\""]," CR>)>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,PRSI ,CHALICE>>"],["\t\t<TELL"],[["Str","\"You can't. It's not a very good chalice, is it?\""]," CR>)"],["\t       (T <DUMB-CONTAINER>)>>"],[],["<ROUTINE TREASURE-ROOM-FCN (RARG ",["Str","\"AUX\""]," (FLG <>) TL)"],["\t <COND (<AND <EQUAL? .RARG ,M-ENTER>"],["\t      <1? <GET <INT I-THIEF> ,C-ENABLED?>>"],["\t      <NOT ,DEAD>>"],["\t <COND (<SET FLG <NOT <IN? ,THIEF ,HERE>>>"],["\t\t<TELL"],[["Str","\"You hear a scream of anguish as you violate the robber's hideaway."]],[["Str","Using passages unknown to you, he rushes to its defense.\""]," CR>"],["\t\t<MOVE ,THIEF ,HERE>"],["\t\t<FSET ,THIEF ,FIGHTBIT>"],["\t\t<FCLEAR ,THIEF ,INVISIBLE>)"],["\t       (T"],["\t\t<FSET ,THIEF ,FIGHTBIT>)>"],["\t <THIEF-IN-TREASURE>)>>"],[],["<ROUTINE THIEF-IN-TREASURE (",["Str","\"AUX\""]," F N)"],["\t <SET F <FIRST? ,HERE>>"],["\t <COND (<AND .F <NEXT? .F>>"],["\t\t<TELL"],[["Str","\"The thief gestures mysteriously, and the treasures in the room"]],[["Str","suddenly vanish.\""]," CR CR>)>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .F> <RETURN>)"],["\t\t       (<AND <NOT <EQUAL? .F ,CHALICE>>"],["\t\t\t     <NOT <EQUAL? .F ,THIEF>>>"],["\t\t\t<FSET .F ,INVISIBLE>)>"],["\t\t <SET F <NEXT? .F>>>>"],[],["<ROUTINE FRONT-DOOR-FCN ()"],["\t <COND (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The door cannot be opened.\""]," CR>)"],["\t       (<VERB? BURN>"],["\t\t<TELL"],["\t\t ",["Str","\"You cannot burn this door.\""]," CR>)"],["\t       (<VERB? MUNG>"],["\t\t<TELL ",["Str","\"You can't seem to damage the door.\""]," CR>)"],["\t       (<VERB? LOOK-BEHIND>"],["\t\t<TELL ",["Str","\"It won't open.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE RANDOM FUNCTIONS\""]],[],["<ROUTINE BODY-FUNCTION ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"A force keeps you from taking the bodies.\""]," CR>)"],["\t       (<VERB? MUNG BURN>"],["\t\t<JIGS-UP"],[["Str","\"The voice of the guardian of the dungeon booms out from the darkness,"]],[["Str","\\\"Your disrespect costs you your life!\\\" and places your head on a sharp"]],[["Str","pole.\""],">)>>"],[],["<ROUTINE BLACK-BOOK ()"],["\t <COND (<VERB? OPEN>"],["\t\t<TELL ",["Str","\"The book is already open to page 569.\""]," CR>)"],["\t       (<VERB? CLOSE>"],["\t\t<TELL ",["Str","\"As hard as you try, the book cannot be closed.\""]," CR>)"],["\t       (<OR <VERB? TURN>"],["\t\t    <AND <VERB? READ-PAGE>"],["\t\t\t <EQUAL? ,PRSI ,INTNUM>"],["\t\t\t <NOT <EQUAL? ,P-NUMBER 569>>>>"],["\t\t<TELL"],[["Str","\"Beside page 569, there is only one other page with any legible printing on"]],[["Str","it. Most of it is unreadable, but the subject seems to be the banishment of"]],[["Str","evil. Apparently, certain noises, lights, and prayers are efficacious in this"]],[["Str","regard.\""]," CR>)"],["\t       (<VERB? BURN>"],["\t\t<REMOVE-CAREFULLY ,PRSO>"],["\t\t<JIGS-UP"],[["Str","\"A booming voice says \\\"Wrong, cretin!\\\" and you notice that you have"]],[["Str","turned into a pile of dust. How, I can't imagine.\""],">)>>"],[],["<ROUTINE PAINTING-FCN ()"],["\t <COND (<VERB? MUNG>"],["\t\t<PUTP ,PRSO ,P?TVALUE 0>"],["\t\t<PUTP ,PRSO ,P?LDESC"],[["Str","\"There is a worthless piece of canvas here.\""],">"],["\t\t<TELL"],[["Str","\"Congratulations! Unlike the other vandals, who merely stole the"]],[["Str","artist's masterpieces, you have destroyed one.\""]," CR>)>>"],[],["\\"],[],[["Str","\"SUBTITLE LET THERE BE LIGHT SOURCES\""]],[],["<GLOBAL LAMP-TABLE"],["\t<TABLE 100"],["\t       ",["Str","\"The lamp appears a bit dimmer.\""]],["\t       70"],["\t       ",["Str","\"The lamp is definitely dimmer now.\""]],["\t       15"],["\t       ",["Str","\"The lamp is nearly out.\""]],["\t       0>>"],[],["<ROUTINE LANTERN ()"],["\t <COND (<VERB? THROW>"],["\t\t<TELL"],[["Str","\"The lamp has smashed into the floor, and the light has gone out.\""]," CR>"],["\t\t<DISABLE <INT I-LANTERN>>"],["\t\t<REMOVE-CAREFULLY ,LAMP>"],["\t\t<MOVE ,BROKEN-LAMP ,HERE>)"],["\t       (<VERB? LAMP-ON>"],["\t\t<COND (<FSET? ,LAMP ,RMUNGBIT>"],["\t\t       <TELL ",["Str","\"A burned-out lamp won't light.\""]," CR>)"],["\t\t      (T"],["\t\t       <ENABLE <INT I-LANTERN>>"],["\t\t       <>)>)"],["\t       (<VERB? LAMP-OFF>"],["\t\t<COND (<FSET? ,LAMP ,RMUNGBIT>"],["\t\t       <TELL ",["Str","\"The lamp has already burned out.\""]," CR>)"],["\t\t      (T"],["\t\t       <DISABLE <INT I-LANTERN>>"],["\t\t       <>)>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The lamp \""],">"],["\t\t<COND (<FSET? ,LAMP ,RMUNGBIT>"],["\t\t       <TELL ",["Str","\"has burned out.\""],">)"],["\t\t      (<FSET? ,LAMP ,ONBIT>"],["\t\t       <TELL ",["Str","\"is on.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"is turned off.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE MAILBOX-F ()"],["\t <COND (<AND <VERB? TAKE> <EQUAL? ,PRSO ,MAILBOX>>"],["\t\t<TELL ",["Str","\"It is securely anchored.\""]," CR>)>>"],[],["<GLOBAL MATCH-COUNT 6>"],[],["<ROUTINE MATCH-FUNCTION (",["Str","\"AUX\""]," CNT)"],["\t <COND (<AND <VERB? LAMP-ON BURN> <EQUAL? ,PRSO ,MATCH>>"],["\t\t<COND (<G? ,MATCH-COUNT 0>"],["\t\t       <SETG MATCH-COUNT <- ,MATCH-COUNT 1>>)>"],["\t\t<COND (<NOT <G? ,MATCH-COUNT 0>>"],["\t\t       <TELL"],["\t\t\t",["Str","\"I'm afraid that you have run out of matches.\""]," CR>)"],["\t\t      (<EQUAL? ,HERE ,LOWER-SHAFT ,TIMBER-ROOM>"],["\t\t       <TELL"],[["Str","\"This room is drafty, and the match goes out instantly.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,MATCH ,FLAMEBIT>"],["\t\t       <FSET ,MATCH ,ONBIT>"],["\t\t       <ENABLE <QUEUE I-MATCH 2>>"],["\t\t       <TELL ",["Str","\"One of the matches starts to burn.\""]," CR>"],["\t\t       <COND (<NOT ,LIT>"],["\t\t\t      <SETG LIT T>"],["\t\t\t      <V-LOOK>)>"],["\t\t       <RTRUE>)>)"],["\t       (<AND <VERB? LAMP-OFF> <FSET? ,MATCH ,FLAMEBIT>>"],["\t\t<TELL ",["Str","\"The match is out.\""]," CR>"],["\t\t<FCLEAR ,MATCH ,FLAMEBIT>"],["\t\t<FCLEAR ,MATCH ,ONBIT>"],["\t\t<SETG LIT <LIT? ,HERE>>"],["\t\t<COND (<NOT ,LIT> <TELL ",["Str","\"It's pitch black in here!\""]," CR>)>"],["\t\t<QUEUE I-MATCH 0>"],["\t\t<RTRUE>)"],["\t       (<VERB? COUNT OPEN>"],["\t\t<TELL ",["Str","\"You have \""],">"],["\t        <SET CNT <- ,MATCH-COUNT 1>>"],["\t\t<COND (<NOT <G? .CNT 0>> <TELL ",["Str","\"no\""],">)"],["\t\t      (T <TELL N .CNT>)>"],["\t\t<TELL ",["Str","\" match\""],">"],["\t\t<COND (<NOT <1? .CNT>> <TELL ",["Str","\"es.\""],">) (T <TELL ",["Str","\".\""],">)>"],["\t\t<CRLF>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND (<FSET? ,MATCH ,ONBIT>"],["\t\t       <TELL ",["Str","\"The match is burning.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"The matchbook isn't very interesting, except for what's written on it.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE I-MATCH ()"],["\t <TELL ",["Str","\"The match has gone out.\""]," CR>"],["\t <FCLEAR ,MATCH ,FLAMEBIT>"],["\t <FCLEAR ,MATCH ,ONBIT>"],["\t <SETG LIT <LIT? ,HERE>>"],["\t <RTRUE>>"],[],["<ROUTINE I-LANTERN (",["Str","\"AUX\""]," TICK (TBL <VALUE LAMP-TABLE>))"],["\t <ENABLE <QUEUE I-LANTERN <SET TICK <GET .TBL 0>>>>"],["\t <LIGHT-INT ,LAMP .TBL .TICK>"],["\t <COND (<NOT <0? .TICK>>"],["\t\t<SETG LAMP-TABLE <REST .TBL 4>>)>>"],[],["<ROUTINE I-CANDLES (",["Str","\"AUX\""]," TICK (TBL <VALUE CANDLE-TABLE>))"],["\t <FSET ,CANDLES ,TOUCHBIT>"],["\t <ENABLE <QUEUE I-CANDLES <SET TICK <GET .TBL 0>>>>"],["\t <LIGHT-INT ,CANDLES .TBL .TICK>"],["\t <COND (<NOT <0? .TICK>>"],["\t\t<SETG CANDLE-TABLE <REST .TBL 4>>)>>"],[],["<ROUTINE LIGHT-INT (OBJ TBL TICK)"],["\t <COND (<0? .TICK>"],["\t\t<FCLEAR .OBJ ,ONBIT>"],["\t\t<FSET .OBJ ,RMUNGBIT>)>"],["\t <COND (<OR <HELD? .OBJ> <IN? .OBJ ,HERE>>"],["\t\t<COND (<0? .TICK>"],["\t\t       <TELL"],[["Str","\"You'd better have more light than from the \""]," D .OBJ ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL <GET .TBL 1> CR>)>)>>"],[],["<ROUTINE MIN (N1 N2)"],["\t <COND (<L? .N1 .N2> .N1)"],["\t       (T .N2)>>"],[],["<ROUTINE CANDLES-FCN ()"],["\t <COND (<NOT <FSET? ,CANDLES ,TOUCHBIT>>"],["\t\t<ENABLE <INT I-CANDLES>>)>"],["\t <COND (<EQUAL? ,CANDLES ,PRSI> <RFALSE>)"],["\t       (T"],["\t\t<COND (<VERB? LAMP-ON BURN>"],["\t\t       <COND (<FSET? ,CANDLES ,RMUNGBIT>"],["\t\t\t      <TELL"],[["Str","\"Alas, there's not much left of the candles. Certainly not enough to"]],[["Str","burn.\""]," CR>)"],["\t\t\t     (<NOT ,PRSI>"],["\t\t\t      <COND (<FSET? ,MATCH ,FLAMEBIT>"],["\t\t\t\t     <TELL ",["Str","\"(with the match)\""]," CR>"],["\t\t\t\t     <PERFORM ,V?LAMP-ON ,CANDLES ,MATCH>"],["\t\t\t\t     <RTRUE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"You should say what to light them with.\""]," CR>"],["\t\t\t\t     <RFATAL>)>)"],["\t\t\t     (<AND <EQUAL? ,PRSI ,MATCH>"],["\t\t\t\t   <FSET? ,MATCH ,ONBIT>>"],["\t\t\t      <TELL ",["Str","\"The candles are \""],">"],["\t\t\t      <COND (<FSET? ,CANDLES ,ONBIT>"],["\t\t\t\t     <TELL ",["Str","\"already lit.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <FSET ,CANDLES ,ONBIT>"],["\t\t\t\t     <TELL ",["Str","\"lit.\""]," CR>"],["\t\t\t\t     <ENABLE <INT I-CANDLES>>)>)"],["\t\t\t     (<EQUAL? ,PRSI ,TORCH>"],["\t\t\t      <COND (<FSET? ,CANDLES ,ONBIT>"],["\t\t\t\t     <TELL"],[["Str","\"You realize, just in time, that the candles are already lighted.\""]," CR>)"],["\t\t\t\t    (T"],["\t\t\t\t     <TELL"],[["Str","\"The heat from the torch is so intense that the candles are vaporized.\""]," CR>"],["\t\t\t\t     <REMOVE-CAREFULLY ,CANDLES>)>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"You have to light them with something that's burning, you know.\""]," CR>)>)"],["\t\t      (<VERB? COUNT>"],["\t\t       <TELL"],[["Str","\"Let's see, how many objects in a pair? Don't tell me, I'll get it.\""]," CR>)"],["\t\t      (<VERB? LAMP-OFF>"],["\t\t       <DISABLE <INT I-CANDLES>>"],["\t\t       <COND (<FSET? ,CANDLES ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"The flame is extinguished.\""],">"],["\t\t\t      <FCLEAR ,CANDLES ,ONBIT>"],["\t\t\t      <SETG LIT <LIT? ,HERE>>"],["\t\t\t      <COND (<NOT ,LIT>"],["\t\t\t\t     <TELL ",["Str","\" It's really dark in here....\""],">)>"],["\t\t\t      <CRLF>"],["\t\t\t      <RTRUE>)"],["\t\t\t     (T <TELL ",["Str","\"The candles are not lighted.\""]," CR>)>)"],["\t\t      (<AND <VERB? PUT> <FSET? ,PRSI ,BURNBIT>>"],["\t\t       <TELL ",["Str","\"That wouldn't be smart.\""]," CR>)"],["\t\t      (<VERB? EXAMINE>"],["\t\t       <TELL ",["Str","\"The candles are \""],">"],["\t\t       <COND (<FSET? ,CANDLES ,ONBIT>"],["\t\t\t      <TELL ",["Str","\"burning.\""],">)"],["\t\t\t     (T <TELL ",["Str","\"out.\""],">)>"],["\t\t       <CRLF>)>)>>"],[],["<GLOBAL CANDLE-TABLE"],["\t<TABLE 20"],["\t       ",["Str","\"The candles grow shorter.\""]],["\t       10"],["\t       ",["Str","\"The candles are becoming quite short.\""]],["\t       5"],["\t       ",["Str","\"The candles won't last long now.\""]],["\t       0>>"],[],["<ROUTINE CAVE2-ROOM (RARG)"],["  <COND (<EQUAL? .RARG ,M-END>"],["\t <COND (<AND <IN? ,CANDLES ,WINNER>"],["\t\t     <PROB 50 80>"],["\t\t     <FSET? ,CANDLES ,ONBIT>>"],["\t\t<DISABLE <INT I-CANDLES>>"],["\t\t<FCLEAR ,CANDLES ,ONBIT>"],["\t\t<TELL"],[["Str","\"A gust of wind blows out your candles!\""]," CR>"],["\t\t<COND (<NOT <SETG LIT <LIT? ,HERE>>>"],["\t\t       <TELL ",["Str","\"It is now completely dark.\""]," CR>)>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE ASSORTED WEAPONS\""]],[],["<ROUTINE SWORD-FCN (",["Str","\"AUX\""]," G)"],["\t <COND (<AND <VERB? TAKE> <EQUAL? ,WINNER ,ADVENTURER>>"],["\t\t<ENABLE <QUEUE I-SWORD -1>>"],["\t\t<>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND (<EQUAL? <SET G <GETP ,SWORD ,P?TVALUE>> 1>"],["\t\t       <TELL"],[["Str","\"Your sword is glowing with a faint blue glow.\""]," CR>)"],["\t\t      (<EQUAL? .G 2>"],["\t\t       <TELL"],[["Str","\"Your sword is glowing very brightly.\""]," CR>)>)>>"],[],[["Str","\"SUBTITLE COAL MINE\""]],[],["<ROUTINE BOOM-ROOM (RARG ",["Str","\"AUX\""]," (DUMMY? <>) FLAME)"],["         <COND (<EQUAL? .RARG ,M-END>"],["\t\t<COND (<AND <EQUAL? .RARG ,M-END>"],["\t\t\t    <VERB? LAMP-ON BURN>"],["\t\t\t    <EQUAL? ,PRSO ,CANDLES ,TORCH ,MATCH>>"],["\t\t       <SET DUMMY? T>)>"],["\t\t<COND (<OR <AND <HELD? ,CANDLES>"],["\t\t\t\t<FSET? ,CANDLES ,ONBIT>>"],["\t\t\t   <AND <HELD? ,TORCH>"],["\t\t\t\t<FSET? ,TORCH ,ONBIT>>"],["\t\t\t   <AND <HELD? ,MATCH>"],["\t\t\t\t<FSET? ,MATCH ,ONBIT>>>"],["\t\t       <COND (.DUMMY?"],["\t\t\t      <TELL"],[["Str","\"How sad for an aspiring adventurer to light a \""]," D ,PRSO ",["Str","\" in a room which"]],[["Str","reeks of gas. Fortunately, there is justice in the world.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"Oh dear. It appears that the smell coming from this room was coal gas."]],[["Str","I would have thought twice about carrying flaming objects in here.\""]," CR>)>"],["\t\t       <JIGS-UP ",["Str","\"|"]],[["Str","      ** BOOOOOOOOOOOM **\""],">)>)>>"],[],["<ROUTINE BAT-D (",["Str","\"OPTIONAL\""]," FOO)"],["\t <COND (<EQUAL? <LOC ,GARLIC> ,WINNER ,HERE>"],["\t\t<TELL"],[["Str","\"In the corner of the room on the ceiling is a large vampire bat who"]],[["Str","is obviously deranged and holding his nose.\""]," CR>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"A large vampire bat, hanging from the ceiling, swoops down at you!\""]," CR>)>>"],[],["<ROUTINE BATS-ROOM (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are in a small room which has doors only to the east and south.\""]," CR>)"],["\t       (<AND <EQUAL? .RARG ,M-ENTER> <NOT ,DEAD>>"],["\t\t<COND (<NOT <EQUAL? <LOC ,GARLIC> ,WINNER ,HERE>>"],["\t\t       <V-LOOK>"],["\t\t       <FLY-ME>)>)>>"],[],["<ROUTINE MACHINE-ROOM-FCN (RARG)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"This is a large, cold room whose sole exit is to the north. In one"]],[["Str","corner there is a machine which is reminiscent of a clothes"]],[["Str","dryer. On its face is a switch which is labelled \\\"START\\\"."]],[["Str","The switch does not appear to be manipulable by any human hand (unless the"]],[["Str","fingers are about 1/16 by 1/4 inch). On the front of the machine is a large"]],[["Str","lid, which is \""],">"],["\t\t<COND (<FSET? ,MACHINE ,OPENBIT>"],["\t\t       <TELL ",["Str","\"open.\""],">)"],["\t\t      (T <TELL ",["Str","\"closed.\""],">)>"],["\t\t<CRLF>)>>"],[],["<ROUTINE MACHINE-F ()"],["\t <COND (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"It is far too large to carry.\""]," CR>)"],["\t       (<VERB? OPEN>"],["\t        <COND (<FSET? ,MACHINE ,OPENBIT>"],["\t\t       <TELL <PICK-ONE ,DUMMY> CR>)"],["\t\t      (<FIRST? ,MACHINE>"],["\t\t       <TELL ",["Str","\"The lid opens, revealing \""],">"],["\t\t       <PRINT-CONTENTS ,MACHINE>"],["\t\t       <TELL ",["Str","\".\""]," CR>"],["\t\t       <FSET ,MACHINE ,OPENBIT>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The lid opens.\""]," CR>"],["\t\t       <FSET ,MACHINE ,OPENBIT>)>)"],["\t       (<VERB? CLOSE>"],["\t        <COND (<FSET? ,MACHINE ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The lid closes.\""]," CR>"],["\t\t       <FCLEAR ,MACHINE ,OPENBIT>"],["\t\t       T)"],["\t\t      (T"],["\t\t       <TELL <PICK-ONE ,DUMMY> CR>)>)"],["\t       (<VERB? LAMP-ON>"],["\t\t<COND (<NOT ,PRSI>"],["\t\t       <TELL"],[["Str","\"It's not clear how to turn it on with your bare hands.\""]," CR>)"],["\t\t      (T"],["\t\t       <PERFORM ,V?TURN ,MACHINE-SWITCH ,PRSI>"],["\t\t       <RTRUE>)>)>>"],[],["<ROUTINE MSWITCH-FUNCTION (",["Str","\"AUX\""]," O)"],["\t <COND (<VERB? TURN>"],["\t\t<COND (<EQUAL? ,PRSI ,SCREWDRIVER>"],["\t\t       <COND (<FSET? ,MACHINE ,OPENBIT>"],["\t\t\t      <TELL"],[["Str","\"The machine doesn't seem to want to do anything.\""]," CR>)"],["\t\t\t     (T <TELL"],[["Str","\"The machine comes to life (figuratively) with a dazzling display of"]],[["Str","colored lights and bizarre noises. After a few moments, the"]],[["Str","excitement abates.\""]," CR>"],["\t\t\t      <COND (<IN? ,COAL ,MACHINE>"],["\t\t\t\t     <REMOVE-CAREFULLY ,COAL>"],["\t\t\t\t     <MOVE ,DIAMOND ,MACHINE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <REPEAT ()"],["\t\t\t\t\t     <COND (<SET O <FIRST? ,MACHINE>>"],["\t\t\t\t\t\t    <REMOVE-CAREFULLY .O>)"],["\t\t\t\t\t\t   (T <RETURN>)>>"],["\t\t\t\t     <MOVE ,GUNK ,MACHINE>)"],["\t\t\t\t    (T)>)>)"],["\t\t      (<NOT ,PRSI>"],["\t\t       <TELL ",["Str","\"You can't turn it with your hands...\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"It seems that a \""]," D ,PRSI ",["Str","\" won't do.\""]," CR>)>)>>"],[],["<ROUTINE GUNK-FUNCTION ()"],["\t <REMOVE-CAREFULLY ,GUNK>"],["\t <TELL"],[["Str","\"The slag was rather insubstantial, and crumbles into dust at your touch.\""]," CR>>"],[],["<ROUTINE NO-OBJS (RARG ",["Str","\"AUX\""]," F)"],["\t <COND (<EQUAL? .RARG ,M-BEG>"],["\t\t<SET F <FIRST? ,WINNER>>"],["\t\t<SETG EMPTY-HANDED T>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .F> <RETURN>)"],["\t\t\t      (<G? <WEIGHT .F> 4>"],["\t\t\t       <SETG EMPTY-HANDED <>>"],["\t\t\t       <RETURN>)>"],["\t\t\t<SET F <NEXT? .F>>>"],["\t\t<COND (<AND <EQUAL? ,HERE ,LOWER-SHAFT> ,LIT>"],["\t\t       <SCORE-UPD ,LIGHT-SHAFT>"],["\t\t       <SETG LIGHT-SHAFT 0>)>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE SOUTH-TEMPLE-FCN (RARG)"],["\t <COND (<EQUAL? .RARG ,M-BEG>"],["\t\t<SETG COFFIN-CURE <NOT <IN? ,COFFIN ,WINNER>>>"],["\t\t<RFALSE>)>>"],[],["<GLOBAL LIGHT-SHAFT 13>"],["<GDECL (LIGHT-SHAFT) FIX>"],[],["\\"],[],[["Str","\"SUBTITLE OLD MAN RIVER, THAT OLD MAN RIVER...\""]],[],["<ROUTINE WHITE-CLIFFS-FUNCTION (RARG)"],["\t <COND (<EQUAL? .RARG ,M-END>"],["\t\t<COND (<IN? ,INFLATED-BOAT ,WINNER>"],["\t\t       <SETG DEFLATE <>>)"],["\t       \t      (T"],["\t\t       <SETG DEFLATE T>)>)>>"],[],["<ROUTINE SCEPTRE-FUNCTION ()"],["\t <COND (<VERB? WAVE RAISE>"],["\t\t<COND (<OR <EQUAL? ,HERE ,ARAGAIN-FALLS>"],["\t\t\t   <EQUAL? ,HERE ,END-OF-RAINBOW>>"],["\t\t       <COND (<NOT ,RAINBOW-FLAG>"],["\t\t\t      <FCLEAR ,POT-OF-GOLD ,INVISIBLE>"],["\t\t\t      <TELL"],[["Str","\"Suddenly, the rainbow appears to become solid and, I venture,"]],[["Str","walkable (I think the giveaway was the stairs and bannister).\""]," CR>"],["\t\t\t      <COND (<AND <EQUAL? ,HERE ,END-OF-RAINBOW>"],["\t\t\t\t\t  <IN? ,POT-OF-GOLD ,END-OF-RAINBOW>>"],["\t\t\t\t     <TELL"],[["Str","\"A shimmering pot of gold appears at the end of the rainbow.\""]," CR>)>"],["\t\t\t      <SETG RAINBOW-FLAG T>)"],["\t\t\t     (T"],["\t\t\t      <ROB ,ON-RAINBOW ,WALL>"],["\t\t\t      <TELL"],[["Str","\"The rainbow seems to have become somewhat run-of-the-mill.\""]," CR>"],["\t\t\t      <SETG RAINBOW-FLAG <>>)>)"],["\t\t      (<EQUAL? ,HERE ,ON-RAINBOW>"],["\t\t       <SETG RAINBOW-FLAG <>>"],["\t\t       <JIGS-UP"],[["Str","\"The structural integrity of the rainbow is severely compromised,"]],[["Str","leaving you hanging in mid-air, supported only by water vapor. Bye.\""],">)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"A dazzling display of color briefly emanates from the sceptre.\""]," CR>)>)>>"],[],["<ROUTINE FALLS-ROOM (RARG)"],["    <COND (<EQUAL? .RARG ,M-LOOK>"],["\t   <TELL"],[["Str","\"You are at the top of Aragain Falls, an enormous waterfall with a"]],[["Str","drop of about 450 feet. The only path here is on the north end.\""]," CR>"],["\t   <COND (,RAINBOW-FLAG"],["\t\t  <TELL"],[["Str","\"A solid rainbow spans the falls.\""],">)"],["\t\t (T"],["\t\t  <TELL"],[["Str","\"A beautiful rainbow can be seen over the falls and to the west.\""],">)>"],["\t   <CRLF>)>>"],[],["<ROUTINE RAINBOW-FCN ()"],["\t <COND (<VERB? CROSS THROUGH>"],["\t\t<COND (<EQUAL? ,HERE ,CANYON-VIEW>"],["\t\t       <TELL ",["Str","\"From here?!?\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<COND (,RAINBOW-FLAG"],["\t\t       <COND (<EQUAL? ,HERE ,ARAGAIN-FALLS>"],["\t\t\t      <GOTO ,END-OF-RAINBOW>)"],["\t\t\t     (<EQUAL? ,HERE ,END-OF-RAINBOW>"],["\t\t\t      <GOTO ,ARAGAIN-FALLS>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"You'll have to say which way...\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Can you walk on water vapor?\""]],["\t\t\t     CR>)>)"],["\t       (<VERB? LOOK-UNDER>"],["\t\t<TELL ",["Str","\"The Frigid River flows under the rainbow.\""]," CR>)>>"],[],["<ROUTINE DBOAT-FUNCTION (",["Str","\"AUX\""],")"],["\t <COND (<AND <VERB? PUT PUT-ON>"],["\t\t     <EQUAL? ,PRSO ,PUTTY>>"],["\t\t<FIX-BOAT>)"],["\t       (<VERB? INFLATE FILL>"],["\t\t<TELL"],[["Str","\"No chance. Some moron punctured it.\""]," CR>)"],["\t       (<VERB? PLUG>"],["\t\t<COND (<EQUAL? ,PRSI ,PUTTY>"],["\t\t       <FIX-BOAT>)"],["\t\t      (T <WITH-TELL ,PRSI>)>)>>"],[],["<ROUTINE FIX-BOAT ()"],["\t <TELL ",["Str","\"Well done. The boat is repaired.\""]," CR>"],["\t <MOVE ,INFLATABLE-BOAT <LOC ,PUNCTURED-BOAT>>"],["\t <REMOVE-CAREFULLY ,PUNCTURED-BOAT>>"],[],["<ROUTINE RIVER-FUNCTION ()"],["\t <COND (<VERB? PUT>"],["\t\t<COND (<EQUAL? ,PRSI ,RIVER>"],["\t\t       <COND (<EQUAL? ,PRSO ,ME>"],["\t\t\t      <JIGS-UP"],[["Str","\"You splash around for a while, fighting the current, then you drown.\""],">)"],["\t\t\t     (<EQUAL? ,PRSO ,INFLATED-BOAT>"],["\t\t\t      <TELL"],[["Str","\"You should get in the boat then launch it.\""]," CR>)"],["\t\t\t     (<FSET? ,PRSO ,BURNBIT>"],["\t\t\t      <REMOVE-CAREFULLY ,PRSO>"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" floats for a moment, then sinks.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <REMOVE-CAREFULLY ,PRSO>"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" splashes into the water and is gone forever.\""]," CR>)>)>)"],["\t       (<VERB? LEAP THROUGH>"],["\t\t<TELL"],[["Str","\"A look before leaping reveals that the river is wide and dangerous,"]],[["Str","with swift currents and large, half-hidden rocks. You decide to forgo your"]],[["Str","swim.\""]," CR>)>>"],[],["<GLOBAL RIVER-SPEEDS"],["\t<LTABLE RIVER-1 4 RIVER-2 4 RIVER-3 3 RIVER-4 2 RIVER-5 1>>"],[],["<GLOBAL RIVER-NEXT"],["\t<LTABLE RIVER-1 RIVER-2 RIVER-3 RIVER-4 RIVER-5>>"],[],["<GLOBAL RIVER-LAUNCH"],["\t<LTABLE DAM-BASE RIVER-1"],["\t\tWHITE-CLIFFS-NORTH RIVER-3"],["\t\tWHITE-CLIFFS-SOUTH RIVER-4"],["\t\tSHORE RIVER-5"],["\t\tSANDY-BEACH RIVER-4"],["\t\tRESERVOIR-SOUTH RESERVOIR"],["\t\tRESERVOIR-NORTH RESERVOIR"],["\t\tSTREAM-VIEW IN-STREAM>>"],[],["<ROUTINE I-RIVER (",["Str","\"AUX\""]," RM)"],["\t <COND (<AND <NOT <EQUAL? ,HERE ,RIVER-1 ,RIVER-2 ,RIVER-3>>"],["\t\t     <NOT <EQUAL? ,HERE ,RIVER-4 ,RIVER-5>>>"],["\t\t<DISABLE <INT I-RIVER>>)"],["\t       (<SET RM <LKP ,HERE ,RIVER-NEXT>>"],["\t\t<TELL ",["Str","\"The flow of the river carries you downstream.\""]," CR CR>"],["\t\t<GOTO .RM>"],["\t\t<ENABLE <QUEUE I-RIVER <LKP ,HERE ,RIVER-SPEEDS>>>)"],["\t       (T"],["\t\t<JIGS-UP"],[["Str","\"Unfortunately, the magic boat doesn't provide protection from"]],[["Str","the rocks and boulders one meets at the bottom of waterfalls."]],[["Str","Including this one.\""],">)>>"],[],["<ROUTINE RBOAT-FUNCTION (",["Str","\"OPTIONAL\""]," (RARG <>) ",["Str","\"AUX\""]," TMP)"],["    <COND (<EQUAL? .RARG ,M-ENTER ,M-END ,M-LOOK> <>)"],["\t  (<EQUAL? .RARG ,M-BEG>"],["\t   <COND (<VERB? WALK>"],["\t\t  <COND (<EQUAL? ,PRSO ,P?LAND ,P?EAST ,P?WEST>"],["\t\t\t <RFALSE>)"],["\t\t\t(<AND <EQUAL? ,HERE ,RESERVOIR>"],["\t\t\t      <EQUAL? ,PRSO ,P?NORTH ,P?SOUTH>>"],["\t\t\t <RFALSE>)"],["\t\t\t(<AND <EQUAL? ,HERE ,IN-STREAM>"],["\t\t\t      <EQUAL? ,PRSO ,P?SOUTH>>"],["\t\t\t <RFALSE>)"],["\t\t\t(T"],["\t\t\t <TELL"],[["Str","\"Read the label for the boat's instructions.\""]," CR>"],["\t\t\t <RTRUE>)>)"],["\t\t (<VERB? LAUNCH>"],["\t\t  <COND (<OR <EQUAL? ,HERE ,RIVER-1 ,RIVER-2 ,RIVER-3>"],["\t\t\t     <EQUAL? ,HERE ,RIVER-4 ,RESERVOIR ,IN-STREAM>>"],["\t\t\t <TELL"],[["Str","\"You are on the \""],">"],["\t\t\t <COND (<EQUAL? ,HERE ,RESERVOIR>"],["\t\t\t\t<TELL ",["Str","\"reservoir\""],">)"],["\t\t\t       (<EQUAL? ,HERE ,IN-STREAM>"],["\t\t\t\t<TELL ",["Str","\"stream\""],">)"],["\t\t\t       (T <TELL ",["Str","\"river\""],">)>"],["\t\t\t <TELL ",["Str","\", or have you forgotten?\""]," CR>)"],["\t\t\t(<EQUAL? <SET TMP <GO-NEXT ,RIVER-LAUNCH>> 1>"],["\t\t\t <ENABLE <QUEUE I-RIVER <LKP ,HERE ,RIVER-SPEEDS>>>"],["\t\t\t <RTRUE>)"],["\t\t\t(<NOT <EQUAL? .TMP 2>>"],["\t\t\t <TELL ",["Str","\"You can't launch it here.\""]," CR>"],["\t\t\t <RTRUE>)"],["\t\t\t(T <RTRUE>)>)"],["\t\t (<OR <AND <VERB? DROP>"],["\t\t\t   <FSET? ,PRSO ,WEAPONBIT>>"],["\t\t      <AND <VERB? PUT>"],["\t\t\t   <FSET? ,PRSO ,WEAPONBIT>"],["\t\t\t   <EQUAL? ,PRSI ,INFLATED-BOAT>>"],["\t\t      <AND <VERB? ATTACK MUNG>"],["\t\t\t   <FSET? ,PRSI ,WEAPONBIT>>>"],["\t\t  <REMOVE-CAREFULLY ,INFLATED-BOAT>"],["\t\t  <MOVE ,PUNCTURED-BOAT ,HERE>"],["\t\t  <ROB ,INFLATED-BOAT ,HERE>"],["\t\t  <MOVE ,WINNER ,HERE>"],["\t\t  <TELL"],[["Str","\"It seems that the \""],">"],["\t\t  <COND (<VERB? DROP PUT> <TELL D ,PRSO>)"],["\t\t\t(T <TELL D ,PRSI>)>"],["\t\t  <TELL ",["Str","\" didn't agree with the boat, as evidenced"]],[["Str","by the loud hissing noise issuing therefrom. With a pathetic sputter, the"]],[["Str","boat deflates, leaving you without.\""]," CR>"],["\t\t  <COND (<FSET? ,HERE ,NONLANDBIT>"],["\t\t\t <CRLF>"],["\t\t\t <COND (<==? ,HERE ,RESERVOIR ,IN-STREAM>"],["\t\t\t\t<JIGS-UP"],[["Str","\"Another pathetic sputter, this time from you, heralds your drowning.\""],">)"],["\t\t\t       (T"],["\t\t\t\t<JIGS-UP"],[["Str","\"In other words, fighting the fierce currents of the Frigid River. You"]],[["Str","manage to hold your own for a bit, but then you are carried over a"]],[["Str","waterfall and into some nasty rocks. Ouch!\""],">)>)>"],["\t\t  <RTRUE>)"],["\t\t (<VERB? LAUNCH>"],["\t  \t   <TELL ",["Str","\"You're not in the boat!\""]," CR>)>)"],["\t  (<VERB? ",["Id","BOARD"],">"],["\t   <COND (<OR <IN? ,SCEPTRE ,WINNER>"],["\t\t      <IN? ,KNIFE ,WINNER>"],["\t\t      <IN? ,SWORD ,WINNER>"],["\t\t      <IN? ,RUSTY-KNIFE ,WINNER>"],["\t\t      <IN? ,AXE ,WINNER>"],["\t\t      <IN? ,STILETTO ,WINNER>>"],["\t\t  <TELL"],[["Str","\"Oops! Something sharp seems to have slipped and punctured the boat."]],[["Str","The boat deflates to the sounds of hissing, sputtering, and cursing.\""]," CR>"],["\t\t  <REMOVE-CAREFULLY ,INFLATED-BOAT>"],["\t\t  <MOVE ,PUNCTURED-BOAT ,HERE>"],["\t\t  <THIS-IS-IT ,PUNCTURED-BOAT>"],["\t\t  T)>)"],["\t  (<VERB? INFLATE FILL>"],["\t   <TELL ",["Str","\"Inflating it further would probably burst it.\""]," CR>)"],["\t  (<VERB? DEFLATE>"],["\t   <COND (<EQUAL? <LOC ,WINNER> ,INFLATED-BOAT>"],["\t\t  <TELL"],[["Str","\"You can't deflate the boat while you're in it.\""]," CR>)"],["\t\t (<NOT <IN? ,INFLATED-BOAT ,HERE>>"],["\t\t  <TELL"],[["Str","\"The boat must be on the ground to be deflated.\""]," CR>)"],["\t\t (T <TELL"],[["Str","\"The boat deflates.\""]," CR>"],["\t\t  <SETG DEFLATE T>"],["\t\t  <REMOVE-CAREFULLY ,INFLATED-BOAT>"],["\t\t  <MOVE ,INFLATABLE-BOAT ,HERE>"],["\t\t  <THIS-IS-IT ,INFLATABLE-BOAT>)>)>>"],[],["<ROUTINE BREATHE ()"],["\t <PERFORM ,V?INFLATE ,PRSO ,LUNGS>>"],[],["<ROUTINE IBOAT-FUNCTION ()"],["\t <COND (<VERB? INFLATE FILL>"],["\t\t<COND (<NOT <IN? ,INFLATABLE-BOAT ,HERE>>"],["\t\t       <TELL"],[["Str","\"The boat must be on the ground to be inflated.\""]," CR>)"],["\t\t      (<EQUAL? ,PRSI ,PUMP>"],["\t\t       <TELL"],[["Str","\"The boat inflates and appears seaworthy.\""]," CR>"],["\t\t       <COND (<NOT <FSET? ,BOAT-LABEL ,TOUCHBIT>>"],["\t\t\t      <TELL"],[["Str","\"A tan label is lying inside the boat.\""]," CR>)>"],["\t\t       <SETG DEFLATE <>>"],["\t\t       <REMOVE-CAREFULLY ,INFLATABLE-BOAT>"],["\t\t       <MOVE ,INFLATED-BOAT ,HERE>"],["\t\t       <THIS-IS-IT ,INFLATED-BOAT>)"],["\t\t      (<EQUAL? ,PRSI ,LUNGS>"],["\t\t       <TELL"],[["Str","\"You don't have enough lung power to inflate it.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"With a \""]," D ,PRSI ",["Str","\"? Surely you jest!\""]," CR>)>)>>"],[],["<GLOBAL BUOY-FLAG T>"],[],["<ROUTINE RIVR4-ROOM (RARG)"],["\t <COND (<EQUAL? .RARG ,M-END>"],["\t\t<COND (<AND <IN? ,BUOY ,WINNER> ,BUOY-FLAG>"],["\t      \t       <TELL"],[["Str","\"You notice something funny about the feel of the buoy.\""]," CR>"],["\t\t       <SETG BUOY-FLAG <>>)>)>>"],[],["<GLOBAL BEACH-DIG -1>"],[],["<GDECL (BEACH-DIG) FIX>"],[],["<ROUTINE SAND-FUNCTION ()"],["\t <COND (<AND <VERB? DIG> <==? ,PRSI ,SHOVEL>>"],["\t\t<SETG BEACH-DIG <+ 1 ,BEACH-DIG>>"],["\t\t<COND (<G? ,BEACH-DIG 3>"],["\t\t       <SETG BEACH-DIG -1>"],["\t\t       <AND <IN? ,SCARAB ,HERE> <FSET ,SCARAB ,INVISIBLE>>"],["\t\t       <JIGS-UP ",["Str","\"The hole collapses, smothering you.\""],">)"],["\t\t      (<EQUAL? ,BEACH-DIG 3>"],["\t\t       <COND (<FSET? ,SCARAB ,INVISIBLE>"],["\t\t\t      <TELL"],[["Str","\"You can see a scarab here in the sand.\""]," CR>"],["\t\t\t      <THIS-IS-IT ,SCARAB>"],["\t\t\t      <FCLEAR ,SCARAB ,INVISIBLE>)>)"],["\t\t      (T"],["\t\t       <TELL <GET ,BDIGS ,BEACH-DIG> CR>)>)>>"],[],["<GLOBAL BDIGS"],["\t<TABLE ",["Str","\"You seem to be digging a hole here.\""]],["\t       ",["Str","\"The hole is getting deeper, but that's about it.\""]],["\t       ",["Str","\"You are surrounded by a wall of sand on all sides.\""],">>"],[],["\\"],[],[["Str","\"SUBTITLE TOITY POIPLE BOIDS A CHOIPIN' AN' A BOIPIN' ... \""]],[],["<ROUTINE TREE-ROOM (RARG ",["Str","\"AUX\""]," F)"],["\t <COND (<EQUAL? .RARG ,M-LOOK>"],["\t\t<TELL"],[["Str","\"You are about 10 feet above the ground nestled among some large"]],[["Str","branches. The nearest branch above you is above your reach.\""]," CR>"],["\t\t<COND (<AND <SET F <FIRST? ,PATH>>"],["\t\t\t    <NEXT? .F>>"],["\t\t       <TELL ",["Str","\"On the ground below you can see:  \""],">"],["\t\t       <PRINT-CONTENTS ,PATH>"],["\t\t       <TELL ",["Str","\".\""]," CR>)>)"],["\t       (<EQUAL? .RARG ,M-BEG>"],["\t\t<COND (<AND <VERB? CLIMB-DOWN> <EQUAL? ,PRSO ,TREE>>"],["\t\t       <DO-WALK ,P?DOWN>)"],["\t\t      (<AND <VERB? CLIMB-UP CLIMB-FOO>"],["\t\t\t    <EQUAL? ,PRSO ,TREE>>"],["\t\t       <DO-WALK ,P?UP>)"],["\t\t      (<VERB? DROP>"],["\t\t       <COND (<NOT <IDROP>> <RTRUE>)"],["\t\t\t     (<AND <EQUAL? ,PRSO ,NEST> <IN? ,EGG ,NEST>>"],["\t\t\t      <TELL"],[["Str","\"The nest falls to the ground, and the egg spills out of it, seriously"]],[["Str","damaged.\""]," CR>"],["\t\t\t      <REMOVE-CAREFULLY ,EGG>"],["\t\t\t      <MOVE ,BROKEN-EGG ,PATH>)"],["\t\t\t     (<EQUAL? ,PRSO ,EGG>"],["\t\t\t      <TELL"],[["Str","\"The egg falls to the ground and springs open, seriously damaged.\""],">"],["\t\t\t      <MOVE ,EGG ,PATH>"],["\t\t\t      <BAD-EGG>"],["\t\t\t      <CRLF>)"],["\t\t\t     (<NOT <EQUAL? ,PRSO ,WINNER ,TREE>>"],["\t\t\t      <MOVE ,PRSO ,PATH>"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" falls to the ground.\""]," CR>)"],["\t\t\t     (<VERB? LEAP>"],["\t\t\t      <JIGS-UP"],["\t\t\t        ",["Str","\"That was just a bit too far down.\""],">)>)>)"],["\t       (<EQUAL? .RARG ,M-ENTER> <ENABLE <QUEUE I-FOREST-ROOM -1>>)>>"],[],["<ROUTINE EGG-OBJECT ()"],["\t <COND (<AND <VERB? OPEN MUNG> <EQUAL? ,PRSO ,EGG>>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The egg is already open.\""]," CR>)"],["\t\t      (<NOT ,PRSI>"],["\t\t       <TELL ",["Str","\"You have neither the tools nor the expertise.\""]],["\t\t\t     CR>)"],["\t\t      (<EQUAL? ,PRSI ,HANDS>"],["\t\t       <TELL ",["Str","\"I doubt you could do that without damaging it.\""]],["\t\t\t     CR>)"],["\t\t      (<OR <FSET? ,PRSI ,WEAPONBIT>"],["\t\t\t   <FSET? ,PRSI ,TOOLBIT>"],["\t\t\t   <VERB? MUNG>>"],["\t\t       <TELL"],[["Str","\"The egg is now open, but the clumsiness of your attempt has seriously"]],[["Str","compromised its esthetic appeal.\""],">"],["\t\t       <BAD-EGG>"],["\t\t       <CRLF>)"],["\t\t      (<FSET? ,PRSO ,FIGHTBIT>"],["\t\t       <TELL ",["Str","\"Not to say that using the \""]],["\t\t\t     D ,PRSI"],["\t\t\t     ",["Str","\" isn't original too...\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The concept of using a \""]],["\t\t\t     D ,PRSI"],["\t\t\t     ",["Str","\" is certainly original.\""]," CR>"],["\t\t       <FSET ,PRSO ,FIGHTBIT>)>)"],["\t       (<VERB? CLIMB-ON HATCH>"],["\t\t<TELL"],[["Str","\"There is a noticeable crunch from beneath you, and inspection reveals"]],[["Str","that the egg is lying open, badly damaged.\""],">"],["\t\t<BAD-EGG>"],["\t\t<CRLF>)"],["\t       (<VERB? OPEN MUNG THROW>"],["\t\t<COND (<VERB? THROW> <MOVE ,PRSO ,HERE>)>"],["\t\t<TELL"],[["Str","\"Your rather indelicate handling of the egg has caused it some damage,"]],[["Str","although you have succeeded in opening it.\""],">"],["\t\t<BAD-EGG>"],["\t\t<CRLF>)>>"],[],["<ROUTINE BAD-EGG (",["Str","\"AUX\""]," L)"],["\t <COND (<IN? ,CANARY ,EGG>"],["\t\t<TELL ",["Str","\" \""]," <GETP ,BROKEN-CANARY ,P?FDESC>>)"],["\t       (T <REMOVE-CAREFULLY ,BROKEN-CANARY>)>"],["\t <MOVE ,BROKEN-EGG <LOC ,EGG>>"],["\t <REMOVE-CAREFULLY ,EGG>"],["\t <RTRUE>>"],[],["<GLOBAL SING-SONG <>>"],[],["<ROUTINE CANARY-OBJECT ()"],["\t <COND (<VERB? WIND>"],["\t\t<COND (<EQUAL? ,PRSO ,CANARY>"],["\t\t       <COND (<AND <NOT ,SING-SONG> <FOREST-ROOM?>>"],["\t\t\t      <TELL"],[["Str","\"The canary chirps, slightly off-key, an aria from a forgotten opera."]],[["Str","From out of the greenery flies a lovely songbird. It perches on a"]],[["Str","limb just over your head and opens its beak to sing. As it does so"]],[["Str","a beautiful brass bauble drops from its mouth, bounces off the top of"]],[["Str","your head, and lands glimmering in the grass. As the canary winds"]],[["Str","down, the songbird flies away.\""]," CR>"],["\t\t\t     <SETG SING-SONG T>"],["\t\t\t     <MOVE ,BAUBLE"],["\t\t\t\t   <COND (<EQUAL? ,HERE ,UP-A-TREE> ,PATH)"],["\t\t\t\t\t (T ,HERE)>>)"],["\t\t\t    (T"],["\t\t\t     <TELL"],[["Str","\"The canary chirps blithely, if somewhat tinnily, for a short time.\""]," CR>)>)"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"There is an unpleasant grinding noise from inside the canary.\""]," CR>)>)>>"],[],["<ROUTINE FOREST-ROOM? ()"],["\t <OR <EQUAL? ,HERE ,FOREST-1 ,FOREST-2 ,FOREST-3>"],["\t     <EQUAL? ,HERE ,PATH ,UP-A-TREE>>>"],[],["<ROUTINE I-FOREST-ROOM ()"],["\t <COND (<NOT <FOREST-ROOM?>>"],["\t\t<DISABLE <INT I-FOREST-ROOM>>"],["\t\t<RFALSE>)"],["\t       (<PROB 15>"],["\t\t<TELL"],[["Str","\"You hear in the distance the chirping of a song bird.\""]," CR>)>>"],[],["<ROUTINE FOREST-ROOM (RARG)"],["\t <COND (<EQUAL? .RARG ,M-ENTER> <ENABLE <QUEUE I-FOREST-ROOM -1>>)"],["\t       (<EQUAL? .RARG ,M-BEG>"],["\t\t<COND (<AND <VERB? CLIMB-FOO CLIMB-UP>"],["\t\t\t    <EQUAL? ,PRSO ,TREE>>"],["\t\t       <DO-WALK ,P?UP>)>)>>"],[],["<ROUTINE WCLIF-OBJECT ()"],["\t <COND (<VERB? CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t\t<TELL ",["Str","\"The cliff is too steep for climbing.\""]," CR>)>>"],[],["<ROUTINE CLIFF-OBJECT ()"],["\t <COND (<OR <VERB? LEAP>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,PRSO ,ME>>>"],["\t\t<TELL"],["\t\t ",["Str","\"That would be very unwise. Perhaps even fatal.\""]," CR>)"],["\t       (<EQUAL? ,PRSI ,CLIMBABLE-CLIFF>"],["\t\t<COND (<VERB? PUT THROW-OFF>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" tumbles into the river and is seen no more.\""]," CR>"],["\t\t       <REMOVE-CAREFULLY ,PRSO>)>)>>"],[],["\\"],[],[["Str","\"SUBTITLE CHUTES AND LADDERS\""]],[],["<ROUTINE ROPE-FUNCTION (",["Str","\"AUX\""]," RLOC)"],["\t <COND (<NOT <EQUAL? ,HERE ,DOME-ROOM>>"],["\t\t<SETG DOME-FLAG <>>"],["\t\t<COND (<VERB? TIE>"],["\t\t       <TELL ",["Str","\"You can't tie the rope to that.\""]," CR>)>)"],["\t       (<VERB? TIE>"],["\t\t<COND (<EQUAL? ,PRSI ,RAILING>"],["\t\t       <COND (,DOME-FLAG"],["\t\t\t      <TELL"],["\t\t\t       ",["Str","\"The rope is already tied to it.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The rope drops over the side and comes within ten feet of the floor.\""]," CR>"],["\t\t\t      <SETG DOME-FLAG T>"],["\t\t\t      <FSET ,ROPE ,NDESCBIT>"],["\t\t\t      <SET RLOC <LOC ,ROPE>>"],["\t\t\t      <COND (<OR <NOT .RLOC>"],["\t\t\t\t\t <NOT <IN? .RLOC ,ROOMS>>>"],["\t\t\t\t     <MOVE ,ROPE ,HERE>)>"],["\t\t\t      T)>)>)"],["\t       (<AND <VERB? CLIMB-DOWN> <EQUAL? ,PRSO ,ROPE> ,DOME-FLAG>"],["\t\t<DO-WALK ,P?DOWN>)"],["\t       (<AND <VERB? TIE-UP>"],["\t\t     <EQUAL? ,ROPE ,PRSI>>"],["\t\t<COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t       <COND (<L? <GETP ,PRSO ,P?STRENGTH> 0>"],["\t\t\t      <TELL"],[["Str","\"Your attempt to tie up the \""]," D ,PRSO ",["Str","\" awakens him.\""],">"],["\t\t\t      <AWAKEN ,PRSO>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" struggles and you cannot tie him up.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Why would you tie up a \""]," D ,PRSO ",["Str","\"?\""]," CR>)>)"],["\t       (<VERB? UNTIE>"],["\t\t<COND (,DOME-FLAG"],["\t\t       <SETG DOME-FLAG <>>"],["\t\t       <FCLEAR ,ROPE ,NDESCBIT>"],["\t\t       <TELL ",["Str","\"The rope is now untied.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"It is not tied to anything.\""]," CR>)>)"],["\t       (<AND <VERB? DROP>"],["\t\t     <EQUAL? ,HERE ,DOME-ROOM>"],["\t\t     <NOT ,DOME-FLAG>>"],["\t\t<MOVE ,ROPE ,TORCH-ROOM>"],["\t\t<TELL ",["Str","\"The rope drops gently to the floor below.\""]," CR>)"],["\t       (<VERB? TAKE>"],["\t\t<COND (,DOME-FLAG"],["\t\t       <TELL ",["Str","\"The rope is tied to the railing.\""]," CR>)>)>>"],[],["<ROUTINE UNTIE-FROM ()"],["    <COND (<AND <EQUAL? ,PRSO ,ROPE>"],["\t\t<AND ,DOME-FLAG <EQUAL? ,PRSI ,RAILING>>>"],["\t   <PERFORM ,V?UNTIE ,PRSO>)"],["\t  (T <TELL ",["Str","\"It's not attached to that!\""]," CR>)>>"],[],["<ROUTINE SLIDE-FUNCTION ()"],["\t <COND (<OR <VERB? THROUGH CLIMB-UP CLIMB-DOWN CLIMB-FOO>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,PRSO ,ME>>>"],["\t\t<COND (<EQUAL? ,HERE ,CELLAR>"],["\t\t       <DO-WALK ,P?WEST>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"You tumble down the slide....\""]," CR>"],["\t\t       <GOTO ,CELLAR>)>)"],["\t       (<VERB? PUT>"],["\t\t<SLIDER ,PRSO>)>>"],[],["<ROUTINE SLIDER (OBJ)"],["\t <COND (<FSET? .OBJ ,TAKEBIT>"],["\t\t<TELL ",["Str","\"The \""]," D .OBJ ",["Str","\" falls into the slide and is gone.\""]," CR>"],["\t\t<COND (<EQUAL? .OBJ ,WATER> <REMOVE-CAREFULLY .OBJ>)"],["\t\t      (T"],["\t\t       <MOVE .OBJ ,CELLAR>)>)"],["\t       (T <TELL <PICK-ONE ,YUKS> CR>)>>"],[],["<ROUTINE SANDWICH-BAG-FCN ()"],["\t <COND (<AND <VERB? SMELL>"],["\t\t     <IN? ,LUNCH ,PRSO>>"],["\t\t<TELL ",["Str","\"It smells of hot peppers.\""]," CR>)>>"],[],[["Str","\"MORE RANDOMNESS\""]],[],["<ROUTINE DEAD-FUNCTION (",["Str","\"OPTIONAL\""]," (FOO <>) ",["Str","\"AUX\""]," M)"],["\t <COND (<VERB? WALK>"],["\t\t<COND (<AND <EQUAL? ,HERE ,TIMBER-ROOM>"],["\t\t\t    <EQUAL? ,PRSO ,P?WEST>>"],["\t\t       <TELL ",["Str","\"You cannot enter in your condition.\""]," CR>)>)"],["\t       (<VERB? BRIEF VERBOSE SUPER-BRIEF"],["\t\t       VERSION AGAIN SAVE RESTORE QUIT RESTART>"],["\t\t<>)"],["\t       (<VERB? ATTACK MUNG ALARM SWING>"],["\t\t<TELL ",["Str","\"All such attacks are vain in your condition.\""]," CR>)"],["\t       (<VERB? OPEN CLOSE EAT DRINK"],["\t\t       INFLATE DEFLATE TURN BURN"],["\t\t       TIE UNTIE RUB>"],["\t\t<TELL"],[["Str","\"Even such an action is beyond your capabilities.\""]," CR>)"],["\t       (<VERB? WAIT>"],["\t\t<TELL ",["Str","\"Might as well. You've got an eternity.\""]," CR>)"],["\t       (<VERB? LAMP-ON>"],["\t\t<TELL ",["Str","\"You need no light to guide you.\""]," CR>)"],["\t       (<VERB? SCORE>"],["\t\t<TELL ",["Str","\"You're dead! How can you think of your score?\""]," CR>)"],["\t       (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"Your hand passes through its object.\""]," CR>)"],["\t       (<VERB? DROP THROW INVENTORY>"],["\t\t<TELL ",["Str","\"You have no possessions.\""]," CR>)"],["\t       (<VERB? DIAGNOSE>"],["\t\t<TELL ",["Str","\"You are dead.\""]," CR>)"],["\t       (<VERB? LOOK>"],["\t\t<TELL ",["Str","\"The room looks strange and unearthly\""],">"],["\t\t<COND (<NOT <FIRST? ,HERE>>"],["\t\t       <TELL ",["Str","\".\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\" and objects appear indistinct.\""],">)>"],["\t\t<CRLF>"],["\t\t<COND (<NOT <FSET? ,HERE ,ONBIT>>"],["\t\t       <TELL"],[["Str","\"Although there is no light, the room seems dimly illuminated.\""]," CR>)>"],["\t\t<CRLF>"],["\t\t<>)"],["\t       (<VERB? PRAY>"],["\t\t<COND (<EQUAL? ,HERE ,SOUTH-TEMPLE>"],["\t\t       <FCLEAR ,LAMP ,INVISIBLE>"],["\t\t       <PUTP ,WINNER ,P?ACTION 0>"],["\t\t       <SETG GWIM-DISABLE <>>"],["\t\t       <SETG ALWAYS-LIT <>>"],["\t\t       <SETG DEAD <>>"],["\t\t       <COND (<IN? ,TROLL ,TROLL-ROOM>"],["\t\t\t      <SETG TROLL-FLAG <>>)>"],["\t\t       <TELL"],[["Str","\"From the distance the sound of a lone trumpet is heard. The room"]],[["Str","becomes very bright and you feel disembodied. In a moment, the"]],[["Str","brightness fades and you find yourself rising as if from a long"]],[["Str","sleep, deep in the woods. In the distance you can faintly hear a"]],[["Str","songbird and the sounds of the forest.\""]," CR CR>"],["\t\t       <GOTO ,FOREST-1>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Your prayers are not heard.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't even do that.\""]," CR>"],["\t\t<SETG P-CONT <>>"],["\t\t<RFATAL>)>>"],[],[["Comment",";\"Pseudo-object routines\""]],[],["<ROUTINE LAKE-PSEUDO ()"],["\t <COND (,LOW-TIDE"],["\t\t<TELL ",["Str","\"There's not much lake left....\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"It's too wide to cross.\""]," CR>)"],["\t       (<VERB? THROUGH>"],["\t\t<TELL ",["Str","\"You can't swim in this lake.\""]," CR>)>>"],[],["<ROUTINE STREAM-PSEUDO ()"],["\t <COND (<VERB? SWIM THROUGH>"],["\t\t<TELL ",["Str","\"You can't swim in the stream.\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"The other side is a sheer rock cliff.\""]," CR>)>>"],[],["<ROUTINE CHASM-PSEUDO ()"],["\t <COND (<OR <VERB? LEAP>"],["\t\t    <AND <VERB? PUT> <EQUAL? ,PRSO ,ME>>>"],["\t\t<TELL"],[["Str","\"You look before leaping, and realize that you would never survive.\""]," CR>)"],["\t       (<VERB? CROSS>"],["\t\t<TELL ",["Str","\"It's too far to jump, and there's no bridge.\""]," CR>)"],["\t       (<AND <VERB? PUT THROW-OFF> <EQUAL? ,PRSI ,PSEUDO-OBJECT>>"],["\t\t<TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" drops out of sight into the chasm.\""]," CR>"],["\t\t<REMOVE-CAREFULLY ,PRSO>)>>"],[],["<ROUTINE DOME-PSEUDO ()"],["\t <COND (<VERB? KISS>"],["\t\t<TELL ",["Str","\"No.\""]," CR>)>>"],[],["<ROUTINE GATE-PSEUDO ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<DO-WALK ,P?IN>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"The gate is protected by an invisible force. It makes your"]],[["Str","teeth ache to touch it.\""]," CR>)>>"],[],["<ROUTINE DOOR-PSEUDO () ",["Comment",";\"in Studio\""]],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL ",["Str","\"The door won't budge.\""]," CR>)"],["\t       (<VERB? THROUGH>"],["\t\t<DO-WALK ,P?SOUTH>)>>"],[],["<ROUTINE PAINT-PSEUDO ()"],["\t <COND (<VERB? MUNG>"],["\t\t<TELL ",["Str","\"Some paint chips away, revealing more paint.\""]," CR>)>>"],[],["<ROUTINE GAS-PSEUDO ()"],["\t <COND (<VERB? BREATHE>\t",["Comment",";\"REALLY BLOW\""]],["\t\t<TELL ",["Str","\"There is too much gas to blow away.\""]," CR>)"],["\t       (<VERB? SMELL>"],["\t\t<TELL ",["Str","\"It smells like coal gas in here.\""]," CR>)>>"],[],[["Str","\"SUBTITLE MELEE\""]],[],[["Str","\"melee actions (object functions for villains called with these\""]],[],["<CONSTANT F-BUSY? 1>\t\t",["Comment",";\"busy recovering weapon?\""]],["<CONSTANT F-DEAD 2>\t\t",["Comment",";\"mistah kurtz, he dead.\""]],["<CONSTANT F-UNCONSCIOUS 3>\t",["Comment",";\"into dreamland\""]],["<CONSTANT F-CONSCIOUS 4>\t",["Comment",";\"rise and shine\""]],["<CONSTANT F-FIRST? 5>\t\t",["Comment",";\"strike first?\""]],[],["\\"],[],[["Str","\"blow results\""]],[],["<CONSTANT MISSED 1>\t\t",["Comment",";\"attacker misses\""]],["<CONSTANT UNCONSCIOUS 2>\t",["Comment",";\"defender unconscious\""]],["<CONSTANT KILLED 3>\t\t",["Comment",";\"defender dead\""]],["<CONSTANT LIGHT-WOUND 4>\t",["Comment",";\"defender lightly wounded\""]],["<CONSTANT SERIOUS-WOUND 5>\t",["Comment",";\"defender seriously wounded\""]],["<CONSTANT STAGGER 6>\t\t",["Comment",";\"defender staggered (miss turn)\""]],["<CONSTANT LOSE-WEAPON 7>\t",["Comment",";\"defender loses weapon\""]],["<CONSTANT HESITATE 8>\t\t",["Comment",";\"hesitates (miss on free swing)\""]],["<CONSTANT SITTING-DUCK 9>\t",["Comment",";\"sitting duck (crunch!)\""]],[],[["Str","\"tables of melee results\""]],[],["<GLOBAL DEF1"],["\t<TABLE"],["\t MISSED MISSED MISSED MISSED"],["\t STAGGER STAGGER"],["\t UNCONSCIOUS UNCONSCIOUS"],["\t KILLED KILLED KILLED KILLED KILLED>>"],[],["<GLOBAL DEF2A"],["\t<TABLE"],["\t MISSED MISSED MISSED MISSED MISSED"],["\t STAGGER STAGGER"],["\t LIGHT-WOUND LIGHT-WOUND"],["\t UNCONSCIOUS>>"],[],["<GLOBAL DEF2B"],["\t<TABLE"],["\t MISSED MISSED MISSED"],["\t STAGGER STAGGER"],["\t LIGHT-WOUND LIGHT-WOUND LIGHT-WOUND"],["\t UNCONSCIOUS"],["\t KILLED KILLED KILLED>>"],[],["<GLOBAL DEF3A"],["\t<TABLE"],["\t MISSED MISSED MISSED MISSED MISSED"],["\t STAGGER STAGGER"],["\t LIGHT-WOUND LIGHT-WOUND"],["\t SERIOUS-WOUND SERIOUS-WOUND>>"],[],["<GLOBAL DEF3B"],["\t<TABLE"],["\t MISSED MISSED MISSED"],["\t STAGGER STAGGER"],["\t LIGHT-WOUND LIGHT-WOUND LIGHT-WOUND"],["\t SERIOUS-WOUND SERIOUS-WOUND SERIOUS-WOUND>>"],[],["<GLOBAL DEF3C"],["\t<TABLE"],["\t MISSED"],["\t STAGGER STAGGER"],["\t LIGHT-WOUND LIGHT-WOUND LIGHT-WOUND LIGHT-WOUND"],["\t SERIOUS-WOUND SERIOUS-WOUND SERIOUS-WOUND>>"],[],["<GLOBAL DEF1-RES"],["\t<TABLE DEF1"],["\t       0 ",["Comment",";<REST ,DEF1 2>"]],["\t       0 ",["Comment",";<REST ,DEF1 4>"],">>"],[],["<GLOBAL DEF2-RES"],["\t<TABLE DEF2A"],["\t       DEF2B"],["\t       0",["Comment","; <REST ,DEF2B 2>"]],["\t       0",["Comment","; <REST ,DEF2B 4>"],">>"],[],["<GLOBAL DEF3-RES"],["\t<TABLE DEF3A"],["\t       0 ",["Comment",";<REST ,DEF3A 2>"]],["\t       DEF3B"],["\t       0 ",["Comment",";<REST ,DEF3B 2>"]],["\t       DEF3C>>"],[],["\\"],[],[["Str","\"useful constants\""]],[],["<CONSTANT STRENGTH-MAX 7>"],["<CONSTANT STRENGTH-MIN 2>"],["<CONSTANT CURE-WAIT 30>"],[],["\\"],[],[["Str","\"I-FIGHT moved to DEMONS\""]],[],["<ROUTINE DO-FIGHT (LEN ",["Str","\"AUX\""]," CNT RES O OO (OUT <>))"],["\t<REPEAT ()"],["\t      <SET CNT 0>"],["\t      <REPEAT ()"],["\t\t      <SET CNT <+ .CNT 1>>"],["\t\t      <COND (<EQUAL? .CNT .LEN>"],["\t\t\t     <SET RES T>"],["\t\t\t     <RETURN T>)>"],["\t\t      <SET OO <GET ,VILLAINS .CNT>>"],["\t\t      <SET O <GET .OO ,V-VILLAIN>>"],["\t\t      <COND (<NOT <FSET? .O ,FIGHTBIT>>)"],["\t\t\t    (<APPLY <GETP .O ,P?ACTION>"],["\t\t\t\t    ,F-BUSY?>)"],["\t\t\t    (<NOT <SET RES"],["\t\t\t\t       <VILLAIN-BLOW"],["\t\t\t\t\t.OO"],["\t\t\t\t\t.OUT>>>"],["\t\t\t     <SET RES <>>"],["\t\t\t     <RETURN>)"],["\t\t\t    (<EQUAL? .RES ,UNCONSCIOUS>"],["\t\t\t     <SET OUT <+ 1 <RANDOM 3>>>)>>"],["\t      <COND (.RES"],["\t\t     <COND (<NOT .OUT> <RETURN>)"],["\t\t\t   (T"],["\t\t\t    <SET OUT <- .OUT 1>>"],["\t\t\t    <COND (<0? .OUT> <RETURN>)>)>)"],["\t\t    (T <RETURN>)>>>"],[],["\\"],[],[["Str","\"takes a remark, defender, and good-guy's weapon\""]],[],["<ROUTINE REMARK (REMARK D W ",["Str","\"AUX\""]," (LEN <GET .REMARK 0>) (CNT 0) STR)"],["\t <REPEAT ()"],["\t         <COND (<G? <SET CNT <+ .CNT 1>> .LEN> <RETURN>)>"],["\t\t <SET STR <GET .REMARK .CNT>>"],["\t\t <COND (<EQUAL? .STR ,F-WEP> <PRINTD .W>)"],["\t\t       (<EQUAL? .STR ,F-DEF> <PRINTD .D>)"],["\t\t       (T <PRINT .STR>)>>"],["\t <CRLF>>"],[],[["Str","\"Strength of the player is a basic value (S) adjusted by his P?STRENGTH"]],[["Str","property, which is normally 0\""]],[],["<ROUTINE FIGHT-STRENGTH (",["Str","\"OPTIONAL\""]," (ADJUST? T) ",["Str","\"AUX\""]," S)"],["\t <SET S"],["\t      <+ ,STRENGTH-MIN"],["\t\t </ ,SCORE"],["\t\t    </ ,SCORE-MAX"],["\t\t       <- ,STRENGTH-MAX ,STRENGTH-MIN>>>>>"],["\t <COND (.ADJUST? <+ .S <GETP ,WINNER ,P?STRENGTH>>)(T .S)>>"],[],["<ROUTINE VILLAIN-STRENGTH (OO"],["\t\t\t   ",["Str","\"AUX\""]," (VILLAIN <GET .OO ,V-VILLAIN>)"],["\t\t\t   OD TMP)"],["\t <SET OD <GETP .VILLAIN ,P?STRENGTH>>"],["\t <COND (<NOT <L? .OD 0>>"],["\t\t<COND (<AND <EQUAL? .VILLAIN ,THIEF> ,THIEF-ENGROSSED>"],["\t\t       <COND (<G? .OD 2> <SET OD 2>)>"],["\t\t       <SETG THIEF-ENGROSSED <>>)>"],["\t\t<COND (<AND ,PRSI"],["\t\t\t    <FSET? ,PRSI ,WEAPONBIT>"],["\t\t\t    <EQUAL? <GET .OO ,V-BEST> ,PRSI>>"],["\t\t       <SET TMP <- .OD <GET .OO ,V-BEST-ADV>>>"],["\t\t       <COND (<L? .TMP 1> <SET TMP 1>)>"],["\t\t       <SET OD .TMP>)>)>"],["\t .OD>"],[],[["Str","\"find a weapon (if any) in possession of argument\""]],[],["<ROUTINE FIND-WEAPON (O ",["Str","\"AUX\""]," W)"],["\t <SET W <FIRST? .O>>"],["\t <COND (<NOT .W>"],["\t\t<RFALSE>)>"],["\t <REPEAT ()"],["\t\t <COND (<OR <EQUAL? .W ,STILETTO ,AXE ,SWORD>"],["\t\t\t    <EQUAL? .W ,KNIFE ,RUSTY-KNIFE>>"],["\t\t\t<RETURN .W>)"],["\t\t       (<NOT <SET W <NEXT? .W>>> <RFALSE>)>>>"],[],["\\"],[],["<ROUTINE VILLAIN-BLOW (OO OUT?"],["\t\t       ",["Str","\"AUX\""]," (VILLAIN <GET .OO ,V-VILLAIN>)"],["\t\t       (REMARKS <GET .OO ,V-MSGS>)"],["\t\t       DWEAPON ATT DEF OA OD TBL RES NWEAPON)"],["\t <FCLEAR ,WINNER ,STAGGERED>"],["\t <COND (<FSET? .VILLAIN ,STAGGERED>"],["\t\t<TELL ",["Str","\"The \""]," D .VILLAIN"],["\t\t      ",["Str","\" slowly regains his feet.\""]," CR>"],["\t\t<FCLEAR .VILLAIN ,STAGGERED>"],["\t\t<RTRUE>)>"],["\t <SET OA <SET ATT <VILLAIN-STRENGTH .OO>>>"],["\t <COND (<NOT <G? <SET DEF <FIGHT-STRENGTH>> 0>> <RTRUE>)>"],["\t <SET OD <FIGHT-STRENGTH <>>>"],["\t <SET DWEAPON <FIND-WEAPON ,WINNER>>"],["\t <COND (<L? .DEF 0> <SET RES ,KILLED>)"],["\t       (T"],["\t\t<COND (<1? .DEF>"],["\t\t       <COND (<G? .ATT 2> <SET ATT 3>)>"],["\t\t       <SET TBL <GET ,DEF1-RES <- .ATT 1>>>)"],["\t\t      (<EQUAL? .DEF 2>"],["\t\t       <COND (<G? .ATT 3> <SET ATT 4>)>"],["\t\t       <SET TBL <GET ,DEF2-RES <- .ATT 1>>>)"],["\t\t      (<G? .DEF 2>"],["\t\t       <SET ATT <- .ATT .DEF>>"],["\t\t       <COND (<L? .ATT -1> <SET ATT -2>)"],["\t\t\t     (<G? .ATT 1> <SET ATT 2>)>"],["\t\t       <SET TBL <GET ,DEF3-RES <+ .ATT 2>>>)>"],["\t\t<SET RES <GET .TBL <- <RANDOM 9> 1>>>"],["\t\t<COND (.OUT?"],["\t\t       <COND (<EQUAL? .RES ,STAGGER> <SET RES ,HESITATE>)"],["\t\t\t     (T <SET RES ,SITTING-DUCK>)>)>"],["\t\t<COND (<AND <EQUAL? .RES ,STAGGER>"],["\t\t\t    .DWEAPON"],["\t\t\t    <PROB 25 <COND (.HERO? 10)(T 50)>>>"],["\t\t       <SET RES ,LOSE-WEAPON>)>"],["\t\t<REMARK"],["\t\t  <RANDOM-ELEMENT <GET .REMARKS <- .RES 1>>>"],["\t\t  ,WINNER"],["\t\t  .DWEAPON>)>"],["\t <COND (<OR <EQUAL? .RES ,MISSED> <EQUAL? .RES ,HESITATE>>)"],["\t       (<EQUAL? .RES ,UNCONSCIOUS>)"],["\t       (<OR <EQUAL? .RES ,KILLED>"],["\t\t    <EQUAL? .RES ,SITTING-DUCK>>"],["\t\t<SET DEF 0>)"],["\t       (<EQUAL? .RES ,LIGHT-WOUND>"],["\t\t<SET DEF <- .DEF 1>>"],["\t\t<COND (<L? .DEF 0> <SET DEF 0>)>"],["\t\t<COND (<G? ,LOAD-ALLOWED 50>"],["\t\t       <SETG LOAD-ALLOWED <- ,LOAD-ALLOWED 10>>)>)"],["\t       (<EQUAL? .RES ,SERIOUS-WOUND>"],["\t\t<SET DEF <- .DEF 2>>"],["\t\t<COND (<L? .DEF 0> <SET DEF 0>)>"],["\t\t<COND (<G? ,LOAD-ALLOWED 50>"],["\t\t       <SETG LOAD-ALLOWED <- ,LOAD-ALLOWED 20>>)>)"],["\t       (<EQUAL? .RES ,STAGGER> <FSET ,WINNER ,STAGGERED>)"],["\t       (T"],["\t\t<AND <EQUAL? .RES ,LOSE-WEAPON> .DWEAPON>"],["\t\t<MOVE .DWEAPON ,HERE>"],["\t\t<COND (<SET NWEAPON <FIND-WEAPON ,WINNER>>"],["\t\t       <TELL"],[["Str","\"Fortunately, you still have a \""]," D .NWEAPON ",["Str","\".\""]," CR>)>)>"],["\t <WINNER-RESULT .DEF .RES .OD>>"],[],["<ROUTINE HERO-BLOW (",["Str","\"AUX\""]," OO VILLAIN (OUT? <>) DWEAPON ATT DEF (CNT 0)"],["\t\t    OA OD TBL RES NWEAPON (LEN <GET ,VILLAINS 0>))"],["\t <REPEAT ()"],["\t\t <SET CNT <+ .CNT 1>>"],["\t\t <COND (<EQUAL? .CNT .LEN> <RETURN>)>"],["\t\t <SET OO <GET ,VILLAINS .CNT>>"],["\t\t <COND (<EQUAL? <GET .OO ,V-VILLAIN> ,PRSO>"],["\t\t\t<RETURN>)>>"],["\t <FSET ,PRSO ,FIGHTBIT>"],["\t <COND (<FSET? ,WINNER ,STAGGERED>"],["\t\t<TELL"],[["Str","\"You are still recovering from that last blow, so your attack is"]],[["Str","ineffective.\""]," CR>"],["\t\t<FCLEAR ,WINNER ,STAGGERED>"],["\t\t<RTRUE>)>"],["\t <SET ATT <FIGHT-STRENGTH>>"],["\t <COND (<L? .ATT 1> <SET ATT 1>)>"],["\t <SET OA .ATT>"],["\t <SET VILLAIN <GET .OO ,V-VILLAIN>>"],["\t <COND (<0? <SET OD <SET DEF <VILLAIN-STRENGTH .OO>>>>"],["\t\t<COND (<EQUAL? ,PRSO ,WINNER>"],["\t\t       <RETURN <JIGS-UP"],[["Str","\"Well, you really did it that time. Is suicide painless?\""],">>)>"],["\t\t<TELL ",["Str","\"Attacking the \""]," D .VILLAIN ",["Str","\" is pointless.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <SET DWEAPON <FIND-WEAPON .VILLAIN>>"],["\t <COND (<OR <NOT .DWEAPON> <L? .DEF 0>>"],["\t\t<TELL ",["Str","\"The \""],">"],["\t\t<COND (<NOT .DWEAPON> <TELL ",["Str","\"unarmed\""],">)"],["\t\t      (T <TELL ",["Str","\"unconscious\""],">)>"],["\t\t<TELL ",["Str","\" \""]," D .VILLAIN"],["\t\t      ",["Str","\" cannot defend himself: He dies.\""]," CR>"],["\t\t<SET RES ,KILLED>)"],["\t       (T"],["\t\t<COND (<1? .DEF>"],["\t\t       <COND (<G? .ATT 2> <SET ATT 3>)>"],["\t\t       <SET TBL <GET ,DEF1-RES <- .ATT 1>>>)"],["\t\t      (<EQUAL? .DEF 2>"],["\t\t       <COND (<G? .ATT 3> <SET ATT 4>)>"],["\t\t       <SET TBL <GET ,DEF2-RES <- .ATT 1>>>)"],["\t\t      (<G? .DEF 2>"],["\t\t       <SET ATT <- .ATT .DEF>>"],["\t\t       <COND (<L? .ATT -1> <SET ATT -2>)"],["\t\t\t     (<G? .ATT 1> <SET ATT 2>)>"],["\t\t       <SET TBL <GET ,DEF3-RES <+ .ATT 2>>>)>"],["\t\t<SET RES <GET .TBL <- <RANDOM 9> 1>>>"],["\t\t<COND (.OUT?"],["\t\t       <COND (<EQUAL? .RES ,STAGGER> <SET RES ,HESITATE>)"],["\t\t\t     (T <SET RES ,SITTING-DUCK>)>)>"],["\t\t<COND (<AND <EQUAL? .RES ,STAGGER> .DWEAPON <PROB 25>>"],["\t\t       <SET RES ,LOSE-WEAPON>)>"],["\t\t<REMARK"],["\t\t  <RANDOM-ELEMENT <GET ,HERO-MELEE <- .RES 1>>>"],["\t\t  ,PRSO"],["\t\t  ,PRSI>)>"],["\t <COND (<OR <EQUAL? .RES ,MISSED> <EQUAL? .RES ,HESITATE>>)"],["\t       (<EQUAL? .RES ,UNCONSCIOUS> <SET DEF <- .DEF>>)"],["\t       (<OR <EQUAL? .RES ,KILLED> <EQUAL? .RES ,SITTING-DUCK>>"],["\t\t<SET DEF 0>)"],["\t       (<EQUAL? .RES ,LIGHT-WOUND>"],["\t\t<SET DEF <- .DEF 1>>"],["\t\t<COND (<L? .DEF 0> <SET DEF 0>)>)"],["\t       (<EQUAL? .RES ,SERIOUS-WOUND>"],["\t\t<SET DEF <- .DEF 2>>"],["\t\t<COND (<L? .DEF 0> <SET DEF 0>)>)"],["\t       (<EQUAL? .RES ,STAGGER> <FSET ,PRSO ,STAGGERED>)"],["\t       (T"],["\t\t<AND <EQUAL? .RES ,LOSE-WEAPON> .DWEAPON>"],["\t\t<FCLEAR .DWEAPON ,NDESCBIT>"],["\t\t<FSET .DWEAPON ,WEAPONBIT>"],["\t\t<MOVE .DWEAPON ,HERE>"],["\t\t<THIS-IS-IT .DWEAPON>)>"],["\t <VILLAIN-RESULT ,PRSO .DEF .RES>>"],[],["\\"],[],["<ROUTINE WINNER-RESULT (DEF RES OD)"],["\t <PUTP ,WINNER"],["\t       ,P?STRENGTH"],["\t       <COND (<0? .DEF> -10000)(T <- .DEF .OD>)>>"],["\t <COND (<L? <- .DEF .OD> 0>"],["\t\t<ENABLE <QUEUE I-CURE ,CURE-WAIT>>)>"],["\t <COND (<NOT <G? <FIGHT-STRENGTH> 0>>"],["\t\t<PUTP ,WINNER ,P?STRENGTH <+ 1 <- <FIGHT-STRENGTH <>>>>>"],["\t\t<JIGS-UP"],[["Str","\"It appears that that last blow was too much for you. I'm afraid you"]],[["Str","are dead.\""],">"],["\t\t<>)"],["\t       (T .RES)>>"],[],["<ROUTINE VILLAIN-RESULT (VILLAIN DEF RES)"],["\t <PUTP .VILLAIN ,P?STRENGTH .DEF>"],["\t <COND (<0? .DEF>"],["\t\t<FCLEAR .VILLAIN ,FIGHTBIT>"],["\t\t<TELL"],[["Str","\"Almost as soon as the \""]," D .VILLAIN ",["Str","\" breathes his last breath, a cloud"]],[["Str","of sinister black fog envelops him, and when the fog lifts, the"]],[["Str","carcass has disappeared.\""]," CR>"],["\t\t<REMOVE-CAREFULLY .VILLAIN>"],["\t\t<APPLY <GETP .VILLAIN ,P?ACTION> ,F-DEAD>"],["\t\t.RES)"],["\t       (<EQUAL? .RES ,UNCONSCIOUS>"],["\t\t<APPLY <GETP .VILLAIN ,P?ACTION> ,F-UNCONSCIOUS>"],["\t\t.RES)"],["\t       (T .RES)>>"],[],["\\"],[],["<ROUTINE WINNING? (V ",["Str","\"AUX\""]," VS PS)"],["\t <SET VS <GETP .V ,P?STRENGTH>>"],["\t <SET PS <- .VS <FIGHT-STRENGTH>>>"],["\t <COND (<G? .PS 3> <PROB 90>)"],["\t       (<G? .PS 0> <PROB 75>)"],["\t       (<0? .PS> <PROB 50>)"],["\t       (<G? .VS 1> <PROB 25>)"],["\t       (T <PROB 10>)>>"],[],["<ROUTINE I-CURE (",["Str","\"AUX\""]," (S <GETP ,WINNER ,P?STRENGTH>))"],["\t <COND (<G? .S 0> <SET S 0> <PUTP ,WINNER ,P?STRENGTH .S>)"],["\t       (<L? .S 0> <SET S <+ .S 1>> <PUTP ,WINNER ,P?STRENGTH .S>)>"],["\t <COND (<L? .S 0>"],["\t\t<COND (<L? ,LOAD-ALLOWED ,LOAD-MAX>"],["\t\t       <SETG LOAD-ALLOWED <+ ,LOAD-ALLOWED 10>>)>"],["\t\t<ENABLE <QUEUE I-CURE ,CURE-WAIT>>)"],["\t       (T"],["\t\t<SETG LOAD-ALLOWED ,LOAD-MAX>"],["\t\t<DISABLE <INT I-CURE>>)>>"],[],[["Str","\"FIGHTS\""]],[],[["Str","\"messages for winner\""]],[],["<CONSTANT F-WEP 0>\t",["Comment",";\"means print weapon name\""]],["<CONSTANT F-DEF 1>\t",["Comment",";\"means print defender name (villain, e.g.)\""]],[],["<GLOBAL HERO-MELEE"],[" <TABLE"],["  <LTABLE"],["   <LTABLE ",["Str","\"Your \""]," F-WEP ",["Str","\" misses the \""]," F-DEF ",["Str","\" by an inch.\""],">"],["   <LTABLE ",["Str","\"A good slash, but it misses the \""]," F-DEF ",["Str","\" by a mile.\""],">"],["   <LTABLE ",["Str","\"You charge, but the \""]," F-DEF ",["Str","\" jumps nimbly aside.\""],">"],["   <LTABLE ",["Str","\"Clang! Crash! The \""]," F-DEF ",["Str","\" parries.\""],">"],["   <LTABLE ",["Str","\"A quick stroke, but the \""]," F-DEF ",["Str","\" is on guard.\""],">"],["   <LTABLE ",["Str","\"A good stroke, but it's too slow; the \""]," F-DEF ",["Str","\" dodges.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"Your \""]," F-WEP ",["Str","\" crashes down, knocking the \""]," F-DEF ",["Str","\" into dreamland.\""],">"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is battered into unconsciousness.\""],">"],["   <LTABLE ",["Str","\"A furious exchange, and the \""]," F-DEF ",["Str","\" is knocked out!\""],">"],["   <LTABLE ",["Str","\"The haft of your \""]," F-WEP ",["Str","\" knocks out the \""]," F-DEF ",["Str","\".\""],">"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is knocked out!\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"It's curtains for the \""]," F-DEF ",["Str","\" as your \""]," F-WEP ",["Str","\" removes his head.\""],">"],["   <LTABLE ",["Str","\"The fatal blow strikes the \""]," F-DEF ",["Str","\" square in the heart:  He dies.\""],">"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" takes a fatal blow and slumps to the floor dead.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is struck on the arm; blood begins to trickle down.\""],">"],["   <LTABLE ",["Str","\"Your \""]," F-WEP ",["Str","\" pinks the \""]," F-DEF ",["Str","\" on the wrist, but it's not serious.\""],">"],["   <LTABLE ",["Str","\"Your stroke lands, but it was only the flat of the blade.\""],">"],["   <LTABLE ",["Str","\"The blow lands, making a shallow gash in the \""]," F-DEF ",["Str","\"'s arm!\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" receives a deep gash in his side.\""],">"],["   <LTABLE ",["Str","\"A savage blow on the thigh! The \""]," F-DEF ",["Str","\" is stunned but can still fight!\""],">"],["   <LTABLE ",["Str","\"Slash! Your blow lands! That one hit an artery, it could be serious!\""],">"],["   <LTABLE ",["Str","\"Slash! Your stroke connects! This could be serious!\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is staggered, and drops to his knees.\""],">"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is momentarily disoriented and can't fight back.\""],">"],["   <LTABLE ",["Str","\"The force of your blow knocks the \""]," F-DEF ",["Str","\" back, stunned.\""],">"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is confused and can't fight back.\""],">"],["   <LTABLE ",["Str","\"The quickness of your thrust knocks the \""]," F-DEF ",["Str","\" back, stunned.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\"'s weapon is knocked to the floor, leaving him unarmed.\""],">"],["   <LTABLE ",["Str","\"The \""]," F-DEF ",["Str","\" is disarmed by a subtle feint past his guard.\""],">>>>"],[],["\\"],[],[["Str","\"messages for cyclops (note that he has no weapon\""]],[],["<GLOBAL CYCLOPS-MELEE"],[" <TABLE"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops misses, but the backwash almost knocks you over.\""],">"],["   <LTABLE ",["Str","\"The Cyclops rushes you, but runs into the wall.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops sends you crashing to the floor, unconscious.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops breaks your neck with a massive smash.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"A quick punch, but it was only a glancing blow.\""],">"],["   <LTABLE ",["Str","\"A glancing blow from the Cyclops' fist.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The monster smashes his huge fist into your chest, breaking several"]],[["Str","ribs.\""],">"],["   <LTABLE ",["Str","\"The Cyclops almost knocks the wind out of you with a quick punch.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops lands a punch that knocks the wind out of you.\""],">"],["   <LTABLE ",["Str","\"Heedless of your weapons, the Cyclops tosses you against the rock"]],[["Str","wall of the room.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops grabs your \""]," F-WEP ",["Str","\", tastes it, and throws it to the"]],[["Str","ground in disgust.\""],">"],["   <LTABLE ",["Str","\"The monster grabs you on the wrist, squeezes, and you drop your"]],[["Str","\""]," F-WEP ",["Str","\" in pain.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops seems unable to decide whether to broil or stew his"]],[["Str","dinner.\""],">>"],["  <LTABLE"],["   <LTABLE ",["Str","\"The Cyclops, no sportsman, dispatches his unconscious victim.\""],">>>>"],[],["\\"],[],[["Str","\"messages for troll\""]],[],["<GLOBAL TROLL-MELEE"],["<TABLE"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll swings his axe, but it misses.\""],">"],["  <LTABLE ",["Str","\"The troll's axe barely misses your ear.\""],">"],["  <LTABLE ",["Str","\"The axe sweeps past as you jump aside.\""],">"],["  <LTABLE ",["Str","\"The axe crashes against the rock, throwing sparks!\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The flat of the troll's axe hits you delicately on the head, knocking"]],[["Str","you out.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll neatly removes your head.\""],">"],["  <LTABLE ",["Str","\"The troll's axe stroke cleaves you from the nave to the chops.\""],">"],["  <LTABLE ",["Str","\"The troll's axe removes your head.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The axe gets you right in the side. Ouch!\""],">"],["  <LTABLE ",["Str","\"The flat of the troll's axe skins across your forearm.\""],">"],["  <LTABLE ",["Str","\"The troll's swing almost knocks you over as you barely parry"]],[["Str","in time.\""],">"],["  <LTABLE ",["Str","\"The troll swings his axe, and it nicks your arm as you dodge.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll charges, and his axe slashes you on your \""]," F-WEP ",["Str","\" arm.\""],">"],["  <LTABLE ",["Str","\"An axe stroke makes a deep wound in your leg.\""],">"],["  <LTABLE ",["Str","\"The troll's axe swings down, gashing your shoulder.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll hits you with a glancing blow, and you are momentarily"]],[["Str","stunned.\""],">"],["  <LTABLE ",["Str","\"The troll swings; the blade turns on your armor but crashes"]],[["Str","broadside into your head.\""],">"],["  <LTABLE ",["Str","\"You stagger back under a hail of axe strokes.\""],">"],["  <LTABLE ",["Str","\"The troll's mighty blow drops you to your knees.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The axe hits your \""]," F-WEP ",["Str","\" and knocks it spinning.\""],">"],["  <LTABLE ",["Str","\"The troll swings, you parry, but the force of his blow knocks your \""]," F-WEP ",["Str","\" away.\""],">"],["  <LTABLE ",["Str","\"The axe knocks your \""]," F-WEP ",["Str","\" out of your hand. It falls to the floor.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The troll hesitates, fingering his axe.\""],">"],["  <LTABLE ",["Str","\"The troll scratches his head ruminatively:  Might you be magically"]],[["Str","protected, he wonders?\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"Conquering his fears, the troll puts you to death.\""],">>>>"],[],["\\"],[],[["Str","\"messages for thief\""]],[],["<GLOBAL THIEF-MELEE"],["<TABLE"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief stabs nonchalantly with his stiletto and misses.\""],">"],["  <LTABLE ",["Str","\"You dodge as the thief comes in low.\""],">"],["  <LTABLE ",["Str","\"You parry a lightning thrust, and the thief salutes you with"]],[["Str","a grim nod.\""],">"],["  <LTABLE ",["Str","\"The thief tries to sneak past your guard, but you twist away.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"Shifting in the midst of a thrust, the thief knocks you unconscious"]],[["Str","with the haft of his stiletto.\""],">"],["  <LTABLE ",["Str","\"The thief knocks you out.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"Finishing you off, the thief inserts his blade into your heart.\""],">"],["  <LTABLE ",["Str","\"The thief comes in from the side, feints, and inserts the blade"]],[["Str","into your ribs.\""],">"],["  <LTABLE ",["Str","\"The thief bows formally, raises his stiletto, and with a wry grin,"]],[["Str","ends the battle and your life.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"A quick thrust pinks your left arm, and blood starts to"]],[["Str","trickle down.\""],">"],["  <LTABLE ",["Str","\"The thief draws blood, raking his stiletto across your arm.\""],">"],["  <LTABLE ",["Str","\"The stiletto flashes faster than you can follow, and blood wells"]],[["Str","from your leg.\""],">"],["  <LTABLE ",["Str","\"The thief slowly approaches, strikes like a snake, and leaves"]],[["Str","you wounded.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief strikes like a snake! The resulting wound is serious.\""],">"],["  <LTABLE ",["Str","\"The thief stabs a deep cut in your upper arm.\""],">"],["  <LTABLE ",["Str","\"The stiletto touches your forehead, and the blood obscures your"]],[["Str","vision.\""],">"],["  <LTABLE ",["Str","\"The thief strikes at your wrist, and suddenly your grip is slippery"]],[["Str","with blood.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The butt of his stiletto cracks you on the skull, and you stagger"]],[["Str","back.\""],">"],["  <LTABLE ",["Str","\"The thief rams the haft of his blade into your stomach, leaving"]],[["Str","you out of breath.\""],">"],["  <LTABLE ",["Str","\"The thief attacks, and you fall back desperately.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"A long, theatrical slash. You catch it on your \""]," F-WEP ",["Str","\", but the"]],[["Str","thief twists his knife, and the \""]," F-WEP ",["Str","\" goes flying.\""],">"],["  <LTABLE ",["Str","\"The thief neatly flips your \""]," F-WEP ",["Str","\" out of your hands, and it drops"]],[["Str","to the floor.\""],">"],["  <LTABLE ",["Str","\"You parry a low thrust, and your \""]," F-WEP ",["Str","\" slips out of your hand.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief, a man of superior breeding, pauses for a moment to consider the propriety of finishing you off.\""],">"],["  <LTABLE ",["Str","\"The thief amuses himself by searching your pockets.\""],">"],["  <LTABLE ",["Str","\"The thief entertains himself by rifling your pack.\""],">>"],[" <LTABLE"],["  <LTABLE ",["Str","\"The thief, forgetting his essentially genteel upbringing, cuts your"]],[["Str","throat.\""],">"],["  <LTABLE ",["Str","\"The thief, a pragmatist, dispatches you as a threat to his"]],[["Str","livelihood.\""],">>>>"],[],[],[["Str","\"each table entry is:\""]],[],["<CONSTANT V-VILLAIN 0>\t",["Comment",";\"villain\""]],["<CONSTANT V-BEST 1>\t",["Comment",";\"best weapon\""]],["<CONSTANT V-BEST-ADV 2>\t",["Comment",";\"advantage it confers\""]],["<CONSTANT V-PROB 3>\t",["Comment",";\"prob of waking if unconscious\""]],["<CONSTANT V-MSGS 4>\t",["Comment",";\"messages for that villain\""]],[],[["Str","\"This table must be after TROLL-MELEE, THIEF-MELEE, CYCLOPS-MELEE defined!\""]],[],["<GLOBAL VILLAINS"],["\t<LTABLE <TABLE TROLL SWORD 1 0 TROLL-MELEE>"],["\t\t<TABLE THIEF KNIFE 1 0 THIEF-MELEE>"],["\t\t<TABLE CYCLOPS <> 0 0 CYCLOPS-MELEE>>>"],[],[["Str","\"DEMONS\""]],[],[["Str","\"Fighting demon\""]],[],["<ROUTINE I-FIGHT (",["Str","\"AUX\""]," (FIGHT? <>) (LEN <GET ,VILLAINS 0>)"],["\t\t  CNT OO O P)"],["      <COND (,DEAD <RFALSE>)>"],["      <SET CNT 0>"],["      <REPEAT ()"],["\t      <SET CNT <+ .CNT 1>>"],["\t      <COND (<EQUAL? .CNT .LEN> <RETURN>)>"],["\t      <SET OO <GET ,VILLAINS .CNT>>"],["\t      <COND (<AND <IN? <SET O <GET .OO ,V-VILLAIN>> ,HERE>"],["\t\t\t  <NOT <FSET? .O ,INVISIBLE>>>"],["\t\t     <COND (<AND <EQUAL? .O ,THIEF> ,THIEF-ENGROSSED>"],["\t\t\t    <SETG THIEF-ENGROSSED <>>)"],["\t\t\t   (<L? <GETP .O ,P?STRENGTH> 0>"],["\t\t\t    <SET P <GET .OO ,V-PROB>>"],["\t\t\t    <COND (<AND <NOT <0? .P>> <PROB .P>>"],["\t\t\t\t   <PUT .OO ,V-PROB 0>"],["\t\t\t\t   <AWAKEN .O>)"],["\t\t\t\t  (T"],["\t\t\t\t   <PUT .OO ,V-PROB <+ .P 25>>)>)"],["\t\t\t   (<OR <FSET? .O ,FIGHTBIT>"],["\t\t\t\t<APPLY <GETP .O ,P?ACTION> ,F-FIRST?>>"],["\t\t\t    <SET FIGHT? T>)>)"],["\t\t    (T"],["\t\t     <COND (<FSET? .O ,FIGHTBIT>"],["\t\t\t    <APPLY <GETP .O ,P?ACTION> ,F-BUSY?>)>"],["\t\t     <COND (<EQUAL? .O ,THIEF> <SETG THIEF-ENGROSSED <>>)>"],["\t\t     <FCLEAR ,WINNER ,STAGGERED>"],["\t\t     <FCLEAR .O ,STAGGERED>"],["\t\t     <FCLEAR .O ,FIGHTBIT>"],["\t\t     <AWAKEN .O>)>>"],["      <COND (<NOT .FIGHT?> <RFALSE>)>"],["      <DO-FIGHT .LEN>>"],[],["<ROUTINE AWAKEN (O ",["Str","\"AUX\""]," (S <GETP .O ,P?STRENGTH>))"],["\t <COND (<L? .S 0>"],["\t\t<PUTP .O ,P?STRENGTH <- 0 .S>>"],["\t\t<APPLY <GETP .O ,P?ACTION> ,F-CONSCIOUS>)>"],["\t T>"],[],[["Str","\"SWORD demon\""]],[],["<ROUTINE I-SWORD (",["Str","\"AUX\""]," (DEM <INT I-SWORD>) (G <GETP ,SWORD ,P?TVALUE>)"],["\t\t        (NG 0) P T L)"],["\t <COND (<IN? ,SWORD ,ADVENTURER>"],["\t\t<COND (<INFESTED? ,HERE> <SET NG 2>)"],["\t\t      (T"],["\t\t       <SET P 0>"],["\t\t       <REPEAT ()"],["\t\t\t       <COND (<0? <SET P <NEXTP ,HERE .P>>>"],["\t\t\t\t      <RETURN>)"],["\t\t\t\t     (<NOT <L? .P ,LOW-DIRECTION>>"],["\t\t\t\t      <SET T <GETPT ,HERE .P>>"],["\t\t\t\t      <SET L <PTSIZE .T>>"],["\t\t\t\t      <COND (<EQUAL? .L ,UEXIT ,CEXIT ,DEXIT>"],["\t\t\t\t\t     <COND (<INFESTED? <GETB .T 0>>"],["\t\t\t\t\t\t    <SET NG 1>"],["\t\t\t\t\t\t    <RETURN>)>)>)>>)>"],["\t\t<COND (<EQUAL? .NG .G> <RFALSE>)"],["\t\t      (<EQUAL? .NG 2>"],["\t\t       <TELL ",["Str","\"Your sword has begun to glow very brightly.\""]," CR>)"],["\t\t      (<1? .NG>"],["\t\t       <TELL ",["Str","\"Your sword is glowing with a faint blue glow.\""]],["\t\t\t     CR>)"],["\t\t      (<0? .NG>"],["\t\t       <TELL ",["Str","\"Your sword is no longer glowing.\""]," CR>)>"],["\t\t<PUTP ,SWORD ,P?TVALUE .NG>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<PUT .DEM ,C-ENABLED? 0>"],["\t\t<RFALSE>)>>"],[],["<ROUTINE INFESTED? (R ",["Str","\"AUX\""]," (F <FIRST? .R>))"],["\t <REPEAT ()"],["\t\t <COND (<NOT .F> <RFALSE>)"],["\t\t       (<AND <FSET? .F ,ACTORBIT> <NOT <FSET? .F ,INVISIBLE>>>"],["\t\t\t<RTRUE>)"],["\t\t       (<NOT <SET F <NEXT? .F>>> <RFALSE>)>>>"],[],[["Str","\"THIEF demon\""]],[],["<ROUTINE I-THIEF (",["Str","\"AUX\""]," (RM <LOC ,THIEF>) ROBJ HERE? (ONCE <>) (FLG <>))"],["   <PROG ()"],["     <COND (<SET HERE? <NOT <FSET? ,THIEF ,INVISIBLE>>>"],["\t    <SET RM <LOC ,THIEF>>)>"],["     <COND"],["      (<AND <EQUAL? .RM ,TREASURE-ROOM> <NOT <EQUAL? .RM ,HERE>>>"],["       <COND (.HERE? <HACK-TREASURES> <SET HERE? <>>)>"],["       <DEPOSIT-BOOTY ,TREASURE-ROOM> ",["Comment",";\"silent\""],")"],["      (<AND <EQUAL? .RM ,HERE>"],["\t    <NOT <FSET? .RM ,ONBIT>>"],["\t    <NOT <IN? ,TROLL ,HERE>>>"],["       <COND (<THIEF-VS-ADVENTURER .HERE?> <RTRUE>)>"],["       <COND (<FSET? ,THIEF ,INVISIBLE> <SET HERE? <>>)>)"],["      (T"],["       <COND (<AND <IN? ,THIEF .RM>"],["\t\t   <NOT <FSET? ,THIEF ,INVISIBLE>>> ",["Comment",";\"Leave if victim left\""]],["\t      <FSET ,THIEF ,INVISIBLE>"],["\t      <SET HERE? <>>)>"],["       <COND (<FSET? .RM ,TOUCHBIT>     ",["Comment",";\"Hack the adventurer's belongings\""]],["\t      <ROB .RM ,THIEF 75>"],["\t      <SET FLG"],["\t\t   <COND (<AND <FSET? .RM ,MAZEBIT>"],["\t\t\t       <FSET? ,HERE ,MAZEBIT>>"],["\t\t\t  <ROB-MAZE .RM>)"],["\t\t\t (T <STEAL-JUNK .RM>)>>)>)>"],["     <COND (<AND <SET ONCE <NOT .ONCE>> <NOT .HERE?>>"],["\t\t\t\t\t   ",["Comment",";\"Move to next room, and hack.\""]],["\t    <RECOVER-STILETTO>"],["\t    <REPEAT ()"],["\t\t    <COND (<AND .RM <SET RM <NEXT? .RM>>>)"],["\t\t\t  (T <SET RM <FIRST? ,ROOMS>>)>"],["\t\t    <COND (<AND <NOT <FSET? .RM ,SACREDBIT>>"],["\t\t\t\t<FSET? .RM ,RLANDBIT>>"],["\t\t\t   <MOVE ,THIEF .RM>"],["\t\t\t   <FCLEAR ,THIEF ,FIGHTBIT>"],["\t\t\t   <FSET ,THIEF ,INVISIBLE>"],["\t\t\t   <SETG THIEF-HERE <>>"],["\t\t\t   <RETURN>)>>"],["\t    <AGAIN>)>>"],["   <COND (<NOT <EQUAL? .RM ,TREASURE-ROOM>>"],["\t  <DROP-JUNK .RM>)>"],["   .FLG>"],[],["<ROUTINE DROP-JUNK (RM ",["Str","\"AUX\""]," X N (FLG <>))"],["\t <SET X <FIRST? ,THIEF>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .X> <RETURN .FLG>)>"],["\t\t <SET N <NEXT? .X>>"],["\t\t <COND (<EQUAL? .X ,STILETTO ,LARGE-BAG>)"],["\t\t       (<AND <0? <GETP .X ,P?TVALUE>> <PROB 30 T>>"],["\t\t\t<FCLEAR .X ,INVISIBLE>"],["\t\t\t<MOVE .X .RM>"],["\t\t\t<COND (<AND <NOT .FLG> <EQUAL? .RM ,HERE>>"],["\t\t\t       <TELL"],[["Str","\"The robber, rummaging through his bag, dropped a few items he found"]],[["Str","valueless.\""]," CR>"],["\t\t\t       <SET FLG T>)>)>"],["\t\t <SET X .N>>>"],[],["<ROUTINE RECOVER-STILETTO ()"],["\t <COND (<IN? ,STILETTO <LOC ,THIEF>>"],["\t\t<FSET ,STILETTO ,NDESCBIT>"],["\t\t<MOVE ,STILETTO ,THIEF>)>>"],[],["<ROUTINE STEAL-JUNK (RM ",["Str","\"AUX\""]," X N)"],["\t <SET X <FIRST? .RM>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .X> <RFALSE>)>"],["\t\t <SET N <NEXT? .X>>"],["\t\t <COND (<AND <0? <GETP .X ,P?TVALUE>>"],["\t\t\t     <FSET? .X ,TAKEBIT>"],["\t\t\t     <NOT <FSET? .X ,SACREDBIT>>"],["\t\t\t     <NOT <FSET? .X ,INVISIBLE>>"],["\t\t\t     <OR <EQUAL? .X ,STILETTO>"],["\t\t\t\t <PROB 10 T>>>"],["\t\t\t<MOVE .X ,THIEF>"],["\t\t\t<FSET .X ,TOUCHBIT>"],["\t\t\t<FSET .X ,INVISIBLE>"],["\t\t\t<COND (<EQUAL? .X ,ROPE> <SETG DOME-FLAG <>>)>"],["\t\t\t<COND (<EQUAL? .RM ,HERE>"],["\t\t\t       <TELL ",["Str","\"You suddenly notice that the \""]],["\t\t\t\t     D .X ",["Str","\" vanished.\""]," CR>"],["\t\t\t       <RTRUE>)"],["\t\t\t      (ELSE <RFALSE>)>)>"],["\t\t <SET X .N>>>"],[],["<ROUTINE ROB (WHAT THIEF ",["Str","\"OPTIONAL\""]," (PROB <>) ",["Str","\"AUX\""]," N X (ROBBED? <>))"],["\t <SET X <FIRST? .WHAT>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .X> <RETURN .ROBBED?>)>"],["\t\t <SET N <NEXT? .X>>"],["\t\t <COND (<AND <NOT <FSET? .X ,INVISIBLE>>"],["\t\t\t     <NOT <FSET? .X ,SACREDBIT>>"],["\t\t\t     <G? <GETP .X ,P?TVALUE> 0>"],["\t\t\t     <OR <NOT .PROB> <PROB .PROB>>>"],["\t\t\t<MOVE .X .THIEF>"],["\t\t\t<FSET .X ,TOUCHBIT>"],["\t\t\t<COND (<EQUAL? .THIEF ,THIEF> <FSET .X ,INVISIBLE>)>"],["\t\t\t<SET ROBBED? T>)>"],["\t\t <SET X .N>>>"],[],["^/L"],[],[["Comment",";\"special-cased routines\""]],[],["<ROUTINE V-DIAGNOSE (",["Str","\"AUX\""]," (MS <FIGHT-STRENGTH <>>)"],["\t\t     (WD <GETP ,WINNER ,P?STRENGTH>) (RS <+ .MS .WD>))"],["\t #DECL ((MS WD RS) FIX)"],["\t <COND (<0? <GET <INT I-CURE> ,C-ENABLED?>> <SET WD 0>)"],["\t       (ELSE <SET WD <- .WD>>)>"],["\t <COND (<0? .WD> <TELL ",["Str","\"You are in perfect health.\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"You have \""],">"],["\t\t<COND (<1? .WD> <TELL ",["Str","\"a light wound,\""],">)"],["\t\t      (<EQUAL? .WD 2> <TELL ",["Str","\"a serious wound,\""],">)"],["\t\t      (<EQUAL? .WD 3> <TELL ",["Str","\"several wounds,\""],">)"],["\t\t      (<G? .WD 3> <TELL ",["Str","\"serious wounds,\""],">)>)>"],["\t <COND (<NOT <0? .WD>>"],["\t\t<TELL ",["Str","\" which will be cured after \""],">"],["\t\t<PRINTN"],["\t\t <+ <* ,CURE-WAIT <- .WD 1>>"],["\t\t    <GET <INT I-CURE> ,C-TICK>>>"],["\t\t<TELL ",["Str","\" moves.\""],">)>"],["\t <CRLF>"],["\t <TELL ",["Str","\"You can \""],">"],["\t <COND (<0? .RS> <TELL ",["Str","\"expect death soon\""],">)"],["\t       (<1? .RS> <TELL ",["Str","\"be killed by one more light wound\""],">)"],["\t       (<EQUAL? .RS 2> <TELL ",["Str","\"be killed by a serious wound\""],">)"],["\t       (<EQUAL? .RS 3> <TELL ",["Str","\"survive one serious wound\""],">)"],["\t       (<G? .RS 3>"],["\t\t<TELL ",["Str","\"strong enough to take several wounds.\""],">)>"],["\t <TELL ",["Str","\".\""]," CR>"],["\t <COND (<NOT <0? ,DEATHS>>"],["\t\t<TELL ",["Str","\"You have been killed \""],">"],["\t\t<COND (<1? ,DEATHS> <TELL ",["Str","\"once\""],">)"],["\t\t      (T <TELL ",["Str","\"twice\""],">)>"],["\t\t<TELL ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-SCORE (",["Str","\"OPTIONAL\""]," (ASK? T))"],["\t #DECL ((ASK?) <OR ATOM FALSE>)"],["\t <TELL ",["Str","\"Your score is \""],">"],["\t <TELL N ,SCORE>"],["\t <TELL ",["Str","\" (total of 350 points), in \""],">"],["\t <TELL N ,MOVES>"],["\t <COND (<1? ,MOVES> <TELL ",["Str","\" move.\""],">) (ELSE <TELL ",["Str","\" moves.\""],">)>"],["\t <CRLF>"],["\t <TELL ",["Str","\"This gives you the rank of \""],">"],["\t <COND (<EQUAL? ,SCORE 350> <TELL ",["Str","\"Master Adventurer\""],">)"],["\t       (<G? ,SCORE 330> <TELL ",["Str","\"Wizard\""],">)"],["\t       (<G? ,SCORE 300> <TELL ",["Str","\"Master\""],">)"],["\t       (<G? ,SCORE 200> <TELL ",["Str","\"Adventurer\""],">)"],["\t       (<G? ,SCORE 100> <TELL ",["Str","\"Junior Adventurer\""],">)"],["\t       (<G? ,SCORE 50> <TELL ",["Str","\"Novice Adventurer\""],">)"],["\t       (<G? ,SCORE 25> <TELL ",["Str","\"Amateur Adventurer\""],">)"],["\t       (T <TELL ",["Str","\"Beginner\""],">)>"],["\t <TELL ",["Str","\".\""]," CR>"],["\t ,SCORE>"],[],["<ROUTINE JIGS-UP (DESC ",["Str","\"OPTIONAL\""]," (PLAYER? <>))"],[" \t <COND (,DEAD"],["\t\t<TELL ",["Str","\"|"]],[["Str","It takes a talented person to be killed while already dead. YOU are such"]],[["Str","a talent. Unfortunately, it takes a talented person to deal with it."]],[["Str","I am not such a talent. Sorry.\""]," CR>"],["\t\t<FINISH>)>"],["\t <TELL .DESC CR>"],["\t <COND (<NOT ,LUCKY>"],["\t\t<TELL ",["Str","\"Bad luck, huh?\""]," CR>)>"],["\t <PROG ()"],["\t       <SCORE-UPD -10>"],["\t       <TELL ",["Str","\""]],[["Str","|    ****  You have died  ****"]],[["Str","|"]],[["Str","|\""],">"],["\t       <COND (<FSET? <LOC ,WINNER> ,VEHBIT>"],["\t\t      <MOVE ,WINNER ,HERE>)>"],["\t       <COND"],["\t\t(<NOT <L? ,DEATHS 2>>"],["\t\t <TELL"],[["Str","\"You clearly are a suicidal maniac.  We don't allow psychotics in the"]],[["Str","cave, since they may harm other adventurers.  Your remains will be"]],[["Str","installed in the Land of the Living Dead, where your fellow"]],[["Str","adventurers may gloat over them.\""]," CR>"],["\t\t <FINISH>)"],["\t\t(T"],["\t\t <SETG DEATHS <+ ,DEATHS 1>>"],["\t\t <MOVE ,WINNER ,HERE>"],["\t\t <COND (<FSET? ,SOUTH-TEMPLE ,TOUCHBIT>"],["\t\t\t<TELL"],[["Str","\"As you take your last breath, you feel relieved of your burdens. The"]],[["Str","feeling passes as you find yourself before the gates of Hell, where"]],[["Str","the spirits jeer at you and deny you entry.  Your senses are"]],[["Str","disturbed.  The objects in the dungeon appear indistinct, bleached of"]],[["Str","color, even unreal.\""]," CR CR>"],["\t\t\t<SETG DEAD T>"],["\t\t\t<SETG TROLL-FLAG T>"],["\t\t\t<SETG GWIM-DISABLE T>"],["\t\t\t<SETG ALWAYS-LIT T>"],["\t\t\t<PUTP ,WINNER ,P?ACTION DEAD-FUNCTION>"],["\t\t\t<GOTO ,ENTRANCE-TO-HADES>)"],["\t\t       (T"],["\t\t\t<TELL"],[["Str","\"Now, let's take a look here..."]],[["Str","Well, you probably deserve another chance.  I can't quite fix you"]],[["Str","up completely, but you can't have everything.\""]," CR CR>"],["\t\t\t<GOTO ,FOREST-1>)>"],["\t\t <FCLEAR ,TRAP-DOOR ,TOUCHBIT>"],["\t\t <SETG P-CONT <>>"],["\t\t <RANDOMIZE-OBJECTS>"],["\t\t <KILL-INTERRUPTS>)>>>"],[],["<ROUTINE RANDOMIZE-OBJECTS (",["Str","\"AUX\""]," (R <>) F N L)"],["\t <COND (<IN? ,LAMP ,WINNER>"],["\t\t<MOVE ,LAMP ,LIVING-ROOM>)>"],["\t <COND (<IN? ,COFFIN ,WINNER>"],["\t\t<MOVE ,COFFIN ,EGYPT-ROOM>)>"],["\t <PUTP ,SWORD ,P?TVALUE 0>"],["\t <SET N <FIRST? ,WINNER>>"],["\t <SET L <GET ,ABOVE-GROUND 0>>"],["\t <REPEAT ()"],["\t\t <SET F .N>"],["\t\t <COND (<NOT .F> <RETURN>)>"],["\t\t <SET N <NEXT? .F>>"],["\t\t <COND (<G? <GETP .F ,P?TVALUE> 0>"],["\t\t\t<REPEAT ()"],["\t\t\t\t<COND (<NOT .R> <SET R <FIRST? ,ROOMS>>)>"],["\t\t\t\t<COND (<AND <FSET? .R ,RLANDBIT>"],["\t\t\t\t\t    <NOT <FSET? .R ,ONBIT>>"],["\t\t\t\t\t    <PROB 50>>"],["\t\t\t\t       <MOVE .F .R>"],["\t\t\t\t       <RETURN>)"],["\t\t\t\t      (ELSE <SET R <NEXT? .R>>)>>)"],["\t\t       (ELSE"],["\t\t\t<MOVE .F <GET ,ABOVE-GROUND <RANDOM .L>>>)>>>"],[],["<ROUTINE KILL-INTERRUPTS ()"],["\t <DISABLE <INT I-XB>>"],["\t <DISABLE <INT I-XC>>"],["\t <DISABLE <INT I-CYCLOPS>>"],["\t <DISABLE <INT I-LANTERN>>"],["\t <DISABLE <INT I-CANDLES>>"],["\t <DISABLE <INT I-SWORD>>"],["\t <DISABLE <INT I-FOREST-ROOM>>"],["\t <DISABLE <INT I-MATCH>>"],["\t <FCLEAR ,MATCH ,ONBIT>"],["\t <RTRUE>>"],[],["<ROUTINE BAG-OF-COINS-F ()"],["\t <STUPID-CONTAINER ,BAG-OF-COINS ",["Str","\"coins\""],">>"],[],["<ROUTINE TRUNK-F ()"],["\t <STUPID-CONTAINER ,TRUNK ",["Str","\"jewels\""],">>"],[],["<ROUTINE STUPID-CONTAINER (OBJ STR)"],["\t <COND (<VERB? OPEN CLOSE>"],["\t\t<TELL"],[["Str","\"The \""]," .STR ",["Str","\" are safely inside; there's no need to do that.\""]," CR>)"],["\t       (<VERB? LOOK-INSIDE EXAMINE>"],["\t\t<TELL"],[["Str","\"There are lots of \""]," .STR ",["Str","\" in there.\""]," CR>)"],["\t       (<AND <VERB? PUT> <EQUAL? ,PRSI .OBJ>>"],["\t\t<TELL"],[["Str","\"Don't be silly. It wouldn't be a \""]," D .OBJ ",["Str","\" anymore.\""]," CR>)>>"],[],["<ROUTINE DUMB-CONTAINER ()"],["\t <COND (<VERB? OPEN CLOSE LOOK-INSIDE>"],["\t\t<TELL ",["Str","\"You can't do that.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"It looks pretty much like a \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE GARLIC-F ()"],["\t <COND (<VERB? EAT>"],["\t\t<REMOVE-CAREFULLY ,PRSO>"],["\t\t<TELL"],[["Str","\"What the heck! You won't make friends this way, but nobody around"]],[["Str","here is too friendly anyhow. Gulp!\""]," CR>)>>"],[],["<ROUTINE CHAIN-PSEUDO ()"],["\t <COND (<VERB? TAKE MOVE>"],["\t\t<TELL ",["Str","\"The chain is secure.\""]," CR>)"],["\t       (<VERB? RAISE LOWER>"],["\t\t<TELL ",["Str","\"Perhaps you should do that to the basket.\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<TELL ",["Str","\"The chain secures a basket within the shaft.\""]," CR>)>>"],[],["<ROUTINE TROLL-ROOM-F (RARG)"],["\t <COND (<AND <EQUAL? .RARG ,M-ENTER>"],["\t\t     <IN? ,TROLL ,HERE>>"],["\t\t<THIS-IS-IT ,TROLL>)>>"]],"1dungeon.zil":[[["Str","\"1DUNGEON for"]],[["Str","\t        Zork I: The Great Underground Empire"]],[["Str","\t(c) Copyright 1983 Infocom, Inc. All Rights Reserved.\""]],[],["<DIRECTIONS NORTH EAST WEST SOUTH NE NW SE SW UP DOWN IN OUT LAND>"],[],["<GLOBAL SCORE-MAX 350>"],[],["<GLOBAL FALSE-FLAG <>>"],[],[["Str","\"SUBTITLE OBJECTS\""]],[],["<OBJECT ",["Id","BOARD"]],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BOARDS"]," ",["Dict","BOARD"],")"],["\t(DESC ",["Str","\"board\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION ",["Id","BOARD-F"],")>"],[],["<OBJECT TEETH"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","OVERBOARD"]," ",["Dict","TEETH"],")"],["\t(DESC ",["Str","\"set of teeth\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION TEETH-F)>"],[],["<OBJECT WALL"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","WALL"]," ",["Dict","WALLS"],")"],["\t(ADJECTIVE SURROUNDING)"],["\t(DESC ",["Str","\"surrounding wall\""],")>"],[],["<OBJECT GRANITE-WALL"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","WALL"],")"],["\t(ADJECTIVE GRANITE)"],["\t(DESC ",["Str","\"granite wall\""],")"],["\t(ACTION GRANITE-WALL-F)>"],[],["<OBJECT SONGBIRD"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BIRD"]," ",["Dict","SONGBIRD"],")"],["\t(ADJECTIVE SONG)"],["\t(DESC ",["Str","\"songbird\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION SONGBIRD-F)>"],[],["<OBJECT WHITE-HOUSE"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","HOUSE"],")"],["\t(ADJECTIVE WHITE BEAUTI COLONI)"],["\t(DESC ",["Str","\"white house\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION WHITE-HOUSE-F)>"],[],["<OBJECT FOREST"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","FOREST"]," ",["Dict","TREES"]," ",["Dict","PINES"]," ",["Dict","HEMLOCKS"],")"],["\t(DESC ",["Str","\"forest\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION FOREST-F)>"],[],["<OBJECT TREE"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","TREE"]," ",["Dict","BRANCH"],")"],["\t(ADJECTIVE LARGE STORM ",["Comment",";\"-TOSSED\""],")"],["\t(DESC ",["Str","\"tree\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)>"],[],["<OBJECT MOUNTAIN-RANGE"],["\t(IN MOUNTAINS)"],["\t(DESC ",["Str","\"mountain range\""],")"],["\t(SYNONYM ",["Dict","MOUNTAIN"]," ",["Dict","RANGE"],")"],["\t(ADJECTIVE IMPASSABLE FLATHEAD)"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION MOUNTAIN-RANGE-F)>"],[],["<OBJECT GLOBAL-WATER"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"],")"],["\t(DESC ",["Str","\"water\""],")"],["\t(FLAGS DRINKBIT)"],["\t(ACTION WATER-F)>"],[],["<OBJECT WATER"],["\t(IN BOTTLE)"],["\t(SYNONYM ",["Dict","WATER"]," ",["Dict","QUANTITY"]," ",["Dict","LIQUID"]," ",["Dict","H2O"],")"],["\t(DESC ",["Str","\"quantity of water\""],")"],["\t(FLAGS TRYTAKEBIT TAKEBIT DRINKBIT)"],["\t(ACTION WATER-F)"],["\t(SIZE 4)>"],[],["<OBJECT\tKITCHEN-WINDOW"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WINDOW"],")"],["\t(ADJECTIVE KITCHEN SMALL)"],["\t(DESC ",["Str","\"kitchen window\""],")"],["\t(FLAGS DOORBIT NDESCBIT)"],["\t(ACTION KITCHEN-WINDOW-F)>"],[],["<OBJECT CHIMNEY"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CHIMNEY"],")"],["\t(ADJECTIVE DARK NARROW)"],["\t(DESC ",["Str","\"chimney\""],")"],["\t(ACTION CHIMNEY-F)"],["\t(FLAGS CLIMBBIT NDESCBIT)>"],[],["<OBJECT GHOSTS"],["\t(IN ENTRANCE-TO-HADES)"],["\t(SYNONYM ",["Dict","GHOSTS"]," ",["Dict","SPIRITS"]," ",["Dict","FIENDS"]," ",["Dict","FORCE"],")"],["\t(ADJECTIVE INVISIBLE EVIL)"],["\t(DESC ",["Str","\"number of ghosts\""],")"],["\t(FLAGS ACTORBIT NDESCBIT)"],["\t(ACTION GHOSTS-F)>"],[],["<OBJECT SKULL"],["\t(IN LAND-OF-LIVING-DEAD)"],["\t(SYNONYM ",["Dict","SKULL"]," ",["Dict","HEAD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE CRYSTAL)"],["\t(DESC ",["Str","\"crystal skull\""],")"],["\t(FDESC"],[["Str","\"Lying in one corner of the room is a beautifully carved crystal skull."]],[["Str","It appears to be grinning at you rather nastily.\""],")"],["\t(FLAGS TAKEBIT)"],["\t(VALUE 10)"],["\t(TVALUE 10)>"],[],["<OBJECT LOWERED-BASKET"],["\t(IN LOWER-SHAFT)"],["\t(SYNONYM ",["Dict","CAGE"]," ",["Dict","DUMBWAITER"]," ",["Dict","BASKET"],")"],["\t(ADJECTIVE LOWERED)"],["\t(LDESC ",["Str","\"From the chain is suspended a basket.\""],")"],["\t(DESC ",["Str","\"basket\""],")"],["\t(FLAGS TRYTAKEBIT)"],["\t(ACTION BASKET-F)>"],[],["<OBJECT RAISED-BASKET"],["\t(IN SHAFT-ROOM)"],["\t(SYNONYM ",["Dict","CAGE"]," ",["Dict","DUMBWAITER"]," ",["Dict","BASKET"],")"],["\t(DESC ",["Str","\"basket\""],")"],["\t(FLAGS TRANSBIT TRYTAKEBIT CONTBIT OPENBIT)"],["\t(ACTION BASKET-F)"],["\t(LDESC ",["Str","\"At the end of the chain is a basket.\""],")"],["\t(CAPACITY 50)>"],[],["<OBJECT LUNCH"],["\t(IN SANDWICH-BAG)"],["\t(SYNONYM ",["Dict","FOOD"]," ",["Dict","SANDWICH"]," ",["Dict","LUNCH"]," ",["Dict","DINNER"],")"],["\t(ADJECTIVE HOT PEPPER)"],["\t(DESC ",["Str","\"lunch\""],")"],["\t(FLAGS TAKEBIT FOODBIT)"],["\t(LDESC ",["Str","\"A hot pepper sandwich is here.\""],")>"],[],["<OBJECT BAT"],["\t(IN BAT-ROOM)"],["\t(SYNONYM ",["Dict","BAT"]," ",["Dict","VAMPIRE"],")"],["\t(ADJECTIVE VAMPIRE DERANGED)"],["\t(DESC ",["Str","\"bat\""],")"],["\t(FLAGS ACTORBIT TRYTAKEBIT)"],["\t(DESCFCN BAT-D)"],["\t(ACTION BAT-F)>"],[],["<OBJECT BELL"],["\t(IN NORTH-TEMPLE)"],["\t(SYNONYM ",["Dict","BELL"],")"],["\t(ADJECTIVE SMALL BRASS)"],["\t(DESC ",["Str","\"brass bell\""],")"],["\t(FLAGS TAKEBIT)"],["\t(ACTION BELL-F)>"],[],["<OBJECT HOT-BELL"],["\t(SYNONYM ",["Dict","BELL"],")"],["\t(ADJECTIVE BRASS HOT RED SMALL)"],["\t(DESC ",["Str","\"red hot brass bell\""],")"],["\t(FLAGS TRYTAKEBIT)"],["\t(ACTION HOT-BELL-F)"],["\t(LDESC ",["Str","\"On the ground is a red hot bell.\""],")>"],[],["<OBJECT AXE"],["\t(IN TROLL)"],["\t(SYNONYM ",["Dict","AXE"]," ",["Dict","AX"],")"],["\t(ADJECTIVE BLOODY)"],["\t(DESC ",["Str","\"bloody axe\""],")"],["\t(FLAGS WEAPONBIT TRYTAKEBIT TAKEBIT NDESCBIT)"],["\t(ACTION AXE-F)"],["\t(SIZE 25)>"],[],["<OBJECT BOLT"],["\t(IN DAM-ROOM)"],["\t(SYNONYM ",["Dict","BOLT"]," ",["Dict","NUT"],")"],["\t(ADJECTIVE METAL LARGE)"],["\t(DESC ",["Str","\"bolt\""],")"],["\t(FLAGS NDESCBIT TURNBIT TRYTAKEBIT)"],["\t(ACTION BOLT-F)>"],[],["<OBJECT BUBBLE"],["\t(IN DAM-ROOM)"],["\t(SYNONYM ",["Dict","BUBBLE"],")"],["\t(ADJECTIVE SMALL GREEN PLASTIC)"],["\t(DESC ",["Str","\"green bubble\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION BUBBLE-F)>"],[],["<OBJECT ALTAR"],["\t(IN SOUTH-TEMPLE)"],["\t(SYNONYM ",["Dict","ALTAR"],")"],["\t(DESC ",["Str","\"altar\""],")"],["\t(FLAGS NDESCBIT SURFACEBIT CONTBIT OPENBIT)"],["\t(CAPACITY 50)>"],[],["<OBJECT BOOK"],["\t(IN ALTAR)"],["\t(SYNONYM ",["Dict","BOOK"]," ",["Dict","PRAYER"]," ",["Dict","PAGE"]," ",["Dict","BOOKS"],")"],["\t(ADJECTIVE LARGE BLACK)"],["\t(DESC ",["Str","\"black book\""],")"],["\t(FLAGS READBIT TAKEBIT CONTBIT BURNBIT TURNBIT)"],["\t(ACTION BLACK-BOOK)"],["\t(FDESC ",["Str","\"On the altar is a large black book, open to page 569.\""],")"],["\t(SIZE 10)"],["\t(TEXT"],[["Str","\"Commandment #12592|"]],[["Str","|"]],[["Str","Oh ye who go about saying unto each:  \\\"Hello sailor\\\":|"]],[["Str","Dost thou know the magnitude of thy sin before the gods?|"]],[["Str","Yea, verily, thou shalt be ground between two stones.|"]],[["Str","Shall the angry gods cast thy body into the whirlpool?|"]],[["Str","Surely, thy eye shall be put out with a sharp stick!|"]],[["Str","Even unto the ends of the earth shalt thou wander and|"]],[["Str","Unto the land of the dead shalt thou be sent at last.|"]],[["Str","Surely thou shalt repent of thy cunning.\""]," )>"],[],["<OBJECT BROKEN-LAMP"],["\t(SYNONYM ",["Dict","LAMP"]," ",["Dict","LANTERN"],")"],["\t(ADJECTIVE BROKEN)"],["\t(DESC ",["Str","\"broken lantern\""],")"],["\t(FLAGS TAKEBIT)>"],[],["<OBJECT SCEPTRE"],["\t(IN COFFIN)"],["\t(SYNONYM ",["Dict","SCEPTRE"]," ",["Dict","SCEPTER"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE SHARP EGYPTIAN ANCIENT ENAMELED)"],["\t(DESC ",["Str","\"sceptre\""],")"],["\t(FLAGS TAKEBIT WEAPONBIT)"],["\t(ACTION SCEPTRE-FUNCTION)"],["\t(LDESC"],[["Str","\"An ornamented sceptre, tapering to a sharp point, is here.\""],")"],["\t(FDESC"],[["Str","\"A sceptre, possibly that of ancient Egypt itself, is in the coffin. The"]],[["Str","sceptre is ornamented with colored enamel, and tapers to a sharp point.\""],")"],["\t(SIZE 3)"],["\t(VALUE 4)"],["\t(TVALUE 6)>"],[],["<OBJECT TIMBERS"],["\t(IN TIMBER-ROOM)"],["\t(SYNONYM ",["Dict","TIMBERS"]," ",["Dict","PILE"],")"],["\t(ADJECTIVE WOODEN BROKEN)"],["\t(DESC ",["Str","\"broken timber\""],")"],["\t(FLAGS TAKEBIT)"],["\t(SIZE 50)>"],[],["<OBJECT\tSLIDE"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CHUTE"]," ",["Dict","RAMP"]," ",["Dict","SLIDE"],")"],["\t(ADJECTIVE STEEP METAL TWISTING)"],["\t(DESC ",["Str","\"chute\""],")"],["\t(FLAGS CLIMBBIT)"],["\t(ACTION SLIDE-FUNCTION)>"],[],["<OBJECT KITCHEN-TABLE"],["\t(IN KITCHEN)"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(ADJECTIVE KITCHEN)"],["\t(DESC ",["Str","\"kitchen table\""],")"],["\t(FLAGS NDESCBIT CONTBIT OPENBIT SURFACEBIT)"],["\t(CAPACITY 50)>"],[],["<OBJECT ATTIC-TABLE"],["\t(IN ATTIC)"],["\t(SYNONYM ",["Dict","TABLE"],")"],["\t(DESC ",["Str","\"table\""],")"],["\t(FLAGS NDESCBIT CONTBIT OPENBIT SURFACEBIT)"],["\t(CAPACITY 40)>"],[],["<OBJECT SANDWICH-BAG"],["\t(IN KITCHEN-TABLE)"],["\t(SYNONYM ",["Dict","BAG"]," ",["Dict","SACK"],")"],["\t(ADJECTIVE BROWN ELONGATED SMELLY)"],["\t(DESC ",["Str","\"brown sack\""],")"],["\t(FLAGS TAKEBIT CONTBIT BURNBIT)"],["\t(FDESC"],[["Str","\"On the table is an elongated brown sack, smelling of hot peppers.\""],")"],["\t(CAPACITY 15)"],["\t(SIZE 3)"],["\t(ACTION SANDWICH-BAG-FCN)>"],[],["<OBJECT TOOL-CHEST"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","CHEST"]," ",["Dict","CHESTS"]," ",["Dict","GROUP"]," ",["Dict","TOOLCHESTS"],")"],["\t(ADJECTIVE TOOL)"],["\t(DESC ",["Str","\"group of tool chests\""],")"],["\t(FLAGS CONTBIT OPENBIT TRYTAKEBIT SACREDBIT)"],["\t(ACTION TOOL-CHEST-FCN)>"],[],["<OBJECT YELLOW-BUTTON"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE YELLOW)"],["\t(DESC ",["Str","\"yellow button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION BUTTON-F)>"],[],["<OBJECT BROWN-BUTTON"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE BROWN)"],["\t(DESC ",["Str","\"brown button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION BUTTON-F)>"],[],["<OBJECT RED-BUTTON"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE RED)"],["\t(DESC ",["Str","\"red button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION BUTTON-F)>"],[],["<OBJECT BLUE-BUTTON"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","BUTTON"]," ",["Dict","SWITCH"],")"],["\t(ADJECTIVE BLUE)"],["\t(DESC ",["Str","\"blue button\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION BUTTON-F)>"],[],["<OBJECT TROPHY-CASE\t",["Comment",";\"first obj so L.R. desc looks right.\""]],["\t(IN LIVING-ROOM)"],["\t(SYNONYM ",["Dict","CASE"],")"],["\t(ADJECTIVE TROPHY)"],["\t(DESC ",["Str","\"trophy case\""],")"],["\t(FLAGS TRANSBIT CONTBIT NDESCBIT TRYTAKEBIT SEARCHBIT)"],["\t(ACTION TROPHY-CASE-FCN)"],["\t(CAPACITY 10000)>"],[],["<OBJECT RUG"],["\t(IN LIVING-ROOM)"],["\t(SYNONYM ",["Dict","RUG"]," ",["Dict","CARPET"],")"],["\t(ADJECTIVE LARGE ORIENTAL)"],["\t(DESC ",["Str","\"carpet\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION RUG-FCN)>"],[],["<OBJECT CHALICE"],["\t(IN TREASURE-ROOM)"],["\t(SYNONYM ",["Dict","CHALICE"]," ",["Dict","CUP"]," ",["Dict","SILVER"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE SILVER ENGRAVINGS) ",["Comment",";\"engravings exists...\""]],["\t(DESC ",["Str","\"chalice\""],")"],["\t(FLAGS TAKEBIT TRYTAKEBIT CONTBIT)"],["\t(ACTION CHALICE-FCN)"],["\t(LDESC ",["Str","\"There is a silver chalice, intricately engraved, here.\""],")"],["\t(CAPACITY 5)"],["\t(SIZE 10)"],["\t(VALUE 10)"],["\t(TVALUE 5)>"],[],["<OBJECT GARLIC"],["\t(IN SANDWICH-BAG)"],["\t(SYNONYM ",["Dict","GARLIC"]," ",["Dict","CLOVE"],")"],["\t(DESC ",["Str","\"clove of garlic\""],")"],["\t(FLAGS TAKEBIT FOODBIT)"],["\t(ACTION GARLIC-F)>"],[],["<OBJECT TRIDENT"],["\t(IN ATLANTIS-ROOM)"],["\t(SYNONYM ",["Dict","TRIDENT"]," ",["Dict","FORK"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE POSEIDON OWN CRYSTAL)"],["\t(DESC ",["Str","\"crystal trident\""],")"],["\t(FLAGS TAKEBIT)"],["\t(FDESC ",["Str","\"On the shore lies Poseidon's own crystal trident.\""],")"],["\t(SIZE 20)"],["\t(VALUE 4)"],["\t(TVALUE 11)>"],[],["<OBJECT CYCLOPS"],["\t(IN CYCLOPS-ROOM)"],["\t(SYNONYM ",["Dict","CYCLOPS"]," ",["Dict","MONSTER"]," ",["Dict","EYE"],")"],["\t(ADJECTIVE HUNGRY GIANT)"],["\t(DESC ",["Str","\"cyclops\""],")"],["\t(FLAGS ACTORBIT NDESCBIT TRYTAKEBIT)"],["\t(ACTION CYCLOPS-FCN)"],["\t(STRENGTH 10000)>"],[],["<OBJECT DAM"],["\t(IN DAM-ROOM)"],["\t(SYNONYM ",["Dict","DAM"]," ",["Dict","GATE"]," ",["Dict","GATES"]," ",["Dict","FCD\\#3"],")"],["\t(DESC ",["Str","\"dam\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION DAM-FUNCTION)>"],[],["<OBJECT TRAP-DOOR"],["\t(IN LIVING-ROOM)"],["\t(SYNONYM ",["Dict","DOOR"]," ",["Dict","TRAPDOOR"]," ",["Dict","TRAP-DOOR"]," ",["Dict","COVER"],")"],["\t(ADJECTIVE TRAP DUSTY)"],["\t(DESC ",["Str","\"trap door\""],")"],["\t(FLAGS DOORBIT NDESCBIT INVISIBLE)"],["\t(ACTION TRAP-DOOR-FCN)>"],[],["<OBJECT BOARDED-WINDOW"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["        (SYNONYM ",["Dict","WINDOW"],")"],["\t(ADJECTIVE BOARDED)"],["\t(DESC ",["Str","\"boarded window\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION BOARDED-WINDOW-FCN)>"],[],["<OBJECT FRONT-DOOR"],["\t(IN WEST-OF-HOUSE)"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE FRONT BOARDED)"],["\t(DESC ",["Str","\"door\""],")"],["\t(FLAGS DOORBIT NDESCBIT)"],["\t(ACTION FRONT-DOOR-FCN)>"],[],["<OBJECT BARROW-DOOR"],["\t(IN STONE-BARROW)"],["\t(SYNONYM ",["Dict","DOOR"],")"],["\t(ADJECTIVE HUGE STONE)"],["\t(DESC ",["Str","\"stone door\""],")"],["\t(FLAGS DOORBIT NDESCBIT)"],["\t(ACTION BARROW-DOOR-FCN)>"],[],["<OBJECT BARROW"],["\t(IN STONE-BARROW)"],["\t(SYNONYM ",["Dict","BARROW"]," ",["Dict","TOMB"],")"],["\t(ADJECTIVE MASSIVE STONE)"],["\t(DESC ",["Str","\"stone barrow\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION BARROW-FCN)>"],[],["<OBJECT BOTTLE"],["\t(IN KITCHEN-TABLE)"],["\t(SYNONYM ",["Dict","BOTTLE"]," ",["Dict","CONTAINER"],")"],["\t(ADJECTIVE CLEAR GLASS)"],["\t(DESC ",["Str","\"glass bottle\""],")"],["\t(FLAGS TAKEBIT TRANSBIT CONTBIT)"],["\t(ACTION BOTTLE-FUNCTION)"],["\t(FDESC ",["Str","\"A bottle is sitting on the table.\""],")"],["\t(CAPACITY 4)>"],[],["<OBJECT CRACK"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CRACK"],")"],["\t(ADJECTIVE NARROW)"],["\t(DESC ",["Str","\"crack\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION CRACK-FCN)>"],[],["<OBJECT COFFIN"],["\t(IN EGYPT-ROOM)"],["\t(SYNONYM ",["Dict","COFFIN"]," ",["Dict","CASKET"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE SOLID GOLD)"],["\t(DESC ",["Str","\"gold coffin\""],")"],["\t(FLAGS TAKEBIT CONTBIT SACREDBIT SEARCHBIT)"],["\t(LDESC"],[["Str","\"The solid-gold coffin used for the burial of Ramses II is here.\""],")"],["\t(CAPACITY 35)"],["\t(SIZE 55)"],["\t(VALUE 10)"],["\t(TVALUE 15)>"],[],["<OBJECT GRATE"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","GRATE"]," ",["Dict","GRATING"],")"],["\t(DESC ",["Str","\"grating\""],")"],["\t(FLAGS DOORBIT NDESCBIT INVISIBLE)"],["\t(ACTION GRATE-FUNCTION)>"],[],["<OBJECT PUMP"],["\t(IN RESERVOIR-NORTH)"],["\t(SYNONYM ",["Dict","PUMP"]," ",["Dict","AIR-PUMP"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"],")"],["\t(ADJECTIVE SMALL HAND-HELD)"],["\t(DESC ",["Str","\"hand-held air pump\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)>"],[],["<OBJECT DIAMOND"],["\t(SYNONYM ",["Dict","DIAMOND"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE HUGE ENORMOUS)"],["\t(DESC ",["Str","\"huge diamond\""],")"],["\t(FLAGS TAKEBIT)"],["\t(LDESC ",["Str","\"There is an enormous diamond (perfectly cut) here.\""],")"],["\t(VALUE 10)"],["\t(TVALUE 10)>"],[],["<OBJECT JADE"],["\t(IN BAT-ROOM)"],["\t(SYNONYM ",["Dict","FIGURINE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE EXQUISITE JADE)"],["\t(DESC ",["Str","\"jade figurine\""],")"],["\t(FLAGS TAKEBIT)"],["\t(LDESC ",["Str","\"There is an exquisite jade figurine here.\""],")"],["\t(SIZE 10)"],["\t(VALUE 5)"],["\t(TVALUE 5)>"],[],["<OBJECT KNIFE"],["\t(IN ATTIC-TABLE)"],["\t(SYNONYM ",["Dict","KNIVES"]," ",["Dict","KNIFE"]," ",["Dict","BLADE"],")"],["\t(ADJECTIVE NASTY UNRUSTY)"],["\t(DESC ",["Str","\"nasty knife\""],")"],["\t(FLAGS TAKEBIT WEAPONBIT TRYTAKEBIT)"],["\t(FDESC ",["Str","\"On a table is a nasty-looking knife.\""],")"],["\t(ACTION KNIFE-F)>"],[],["<OBJECT BONES"],["\t(IN MAZE-5)"],["\t(SYNONYM ",["Dict","BONES"]," ",["Dict","SKELETON"]," ",["Dict","BODY"],")"],["\t(DESC ",["Str","\"skeleton\""],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)"],["\t(ACTION SKELETON)>"],[],["<OBJECT BURNED-OUT-LANTERN"],["\t(IN MAZE-5)"],["\t(SYNONYM ",["Dict","LANTERN"]," ",["Dict","LAMP"],")"],["\t(ADJECTIVE RUSTY BURNED DEAD USELESS)"],["\t(DESC ",["Str","\"burned-out lantern\""],")"],["\t(FLAGS TAKEBIT)"],["\t(FDESC ",["Str","\"The deceased adventurer's useless lantern is here.\""],")"],["\t(SIZE 20)>"],[],["<OBJECT BAG-OF-COINS"],["\t(IN MAZE-5)"],["\t(SYNONYM ",["Dict","BAG"]," ",["Dict","COINS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE OLD LEATHER)"],["\t(DESC ",["Str","\"leather bag of coins\""],")"],["\t(FLAGS TAKEBIT)"],["\t(LDESC ",["Str","\"An old leather bag, bulging with coins, is here.\""],")"],["\t(ACTION BAG-OF-COINS-F)"],["\t(SIZE 15)"],["\t(VALUE 10)"],["\t(TVALUE 5)>"],[],["<OBJECT LAMP"],["\t(IN LIVING-ROOM)"],["\t(SYNONYM ",["Dict","LAMP"]," ",["Dict","LANTERN"]," ",["Dict","LIGHT"],")"],["\t(ADJECTIVE BRASS)"],["\t(DESC ",["Str","\"brass lantern\""],")"],["\t(FLAGS TAKEBIT LIGHTBIT)"],["\t(ACTION LANTERN)"],["\t(FDESC ",["Str","\"A battery-powered brass lantern is on the trophy case.\""],")"],["\t(LDESC ",["Str","\"There is a brass lantern (battery-powered) here.\""],")"],["\t(SIZE 15)>"],[],["<OBJECT EMERALD"],["\t(IN BUOY)"],["\t(SYNONYM ",["Dict","EMERALD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE LARGE)"],["\t(DESC ",["Str","\"large emerald\""],")"],["\t(FLAGS TAKEBIT)"],["\t(VALUE 5)"],["\t(TVALUE 10)>"],[],["<OBJECT ADVERTISEMENT"],["\t(IN MAILBOX)"],["\t(SYNONYM ",["Dict","ADVERTISEMENT"]," ",["Dict","LEAFLET"]," ",["Dict","BOOKLET"]," ",["Dict","MAIL"],")"],["\t(ADJECTIVE SMALL)"],["\t(DESC ",["Str","\"leaflet\""],")"],["\t(FLAGS READBIT TAKEBIT BURNBIT)"],["\t(LDESC ",["Str","\"A small leaflet is on the ground.\""],")"],["\t(TEXT"],[["Str","\"\\\"WELCOME TO ZORK!|"]],[["Str","|"]],[["Str","ZORK is a game of adventure, danger, and low cunning. In it you"]],[["Str","will explore some of the most amazing territory ever seen by mortals."]],[["Str","No computer should be without one!\\\"|"]],[["Str","\""],")"],["\t(SIZE 2)>"],[],["<OBJECT LEAK"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","LEAK"]," ",["Dict","DRIP"]," ",["Dict","PIPE"],")"],["\t(DESC ",["Str","\"leak\""],")"],["\t(FLAGS NDESCBIT INVISIBLE)"],["\t(ACTION LEAK-FUNCTION)>"],[],["<OBJECT MACHINE"],["\t(IN MACHINE-ROOM)"],["\t(SYNONYM ",["Dict","MACHINE"]," ",["Dict","PDP10"]," ",["Dict","DRYER"]," ",["Dict","LID"],")"],["\t(DESC ",["Str","\"machine\""],")"],["\t(FLAGS CONTBIT NDESCBIT TRYTAKEBIT)"],["\t(ACTION MACHINE-F)"],["\t(CAPACITY 50)>"],[],["<OBJECT INFLATED-BOAT"],["\t(SYNONYM ",["Dict","BOAT"]," ",["Dict","RAFT"],")"],["\t(ADJECTIVE INFLAT MAGIC PLASTIC SEAWORTHY)"],["\t(DESC ",["Str","\"magic boat\""],")"],["\t(FLAGS TAKEBIT BURNBIT VEHBIT OPENBIT SEARCHBIT)"],["\t(ACTION RBOAT-FUNCTION)"],["\t(CAPACITY 100)"],["\t(SIZE 20)"],["\t(VTYPE NONLANDBIT)>"],[],["<OBJECT MAILBOX"],["\t(IN WEST-OF-HOUSE)"],["\t(SYNONYM ",["Dict","MAILBOX"]," ",["Dict","BOX"],")"],["\t(ADJECTIVE SMALL)"],["\t(DESC ",["Str","\"small mailbox\""],")"],["\t(FLAGS CONTBIT TRYTAKEBIT)"],["\t(CAPACITY 10)"],["\t(ACTION MAILBOX-F)>"],[],["<OBJECT MATCH"],["\t(IN DAM-LOBBY)"],["\t(SYNONYM ",["Dict","MATCH"]," ",["Dict","MATCHES"]," ",["Dict","MATCHBOOK"],")"],["\t(ADJECTIVE MATCH)"],["\t(DESC ",["Str","\"matchbook\""],")"],["\t(FLAGS READBIT TAKEBIT)"],["\t(ACTION MATCH-FUNCTION)"],["\t(LDESC"],[["Str","\"There is a matchbook whose cover says \\\"Visit Beautiful FCD#3\\\" here.\""],")"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"|"]],[["Str","(Close cover before striking)|"]],[["Str","|"]],[["Str","YOU too can make BIG MONEY in the exciting field of PAPER SHUFFLING!|"]],[["Str","|"]],[["Str","Mr. Anderson of Muddle, Mass. says: \\\"Before I took this course I"]],[["Str","was a lowly bit twiddler. Now with what I learned at GUE Tech"]],[["Str","I feel really important and can obfuscate and confuse with the best.\\\"|"]],[["Str","|"]],[["Str","Dr. Blank had this to say: \\\"Ten short days ago all I could look"]],[["Str","forward to was a dead-end job as a doctor. Now I have a promising"]],[["Str","future and make really big Zorkmids.\\\"|"]],[["Str","|"]],[["Str","GUE Tech can't promise these fantastic results to everyone. But when"]],[["Str","you earn your degree from GUE Tech, your future will be brighter.|\""]," )>"],[],["<OBJECT MIRROR-2"],["\t(IN MIRROR-ROOM-2)"],["\t(SYNONYM ",["Dict","REFLECTION"]," ",["Dict","MIRROR"]," ",["Dict","ENORMOUS"],")"],["\t(DESC ",["Str","\"mirror\""],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)"],["\t(ACTION MIRROR-MIRROR)>"],[],["<OBJECT MIRROR-1"],["\t(IN MIRROR-ROOM-1)"],["\t(SYNONYM ",["Dict","REFLECTION"]," ",["Dict","MIRROR"]," ",["Dict","ENORMOUS"],")"],["\t(DESC ",["Str","\"mirror\""],")"],["\t(FLAGS TRYTAKEBIT NDESCBIT)"],["\t(ACTION MIRROR-MIRROR)>"],[],["<OBJECT PAINTING"],["\t(IN GALLERY)"],["\t(SYNONYM ",["Dict","PAINTING"]," ",["Dict","ART"]," ",["Dict","CANVAS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE BEAUTI)"],["\t(DESC ",["Str","\"painting\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(ACTION PAINTING-FCN)"],["\t(FDESC"],[["Str","\"Fortunately, there is still one chance for you to be a vandal, for on"]],[["Str","the far wall is a painting of unparalleled beauty.\""],")"],["\t(LDESC ",["Str","\"A painting by a neglected genius is here.\""],")"],["\t(SIZE 15)"],["\t(VALUE 4)"],["\t(TVALUE 6)>"],[],["<OBJECT CANDLES"],["\t(IN SOUTH-TEMPLE)"],["\t(SYNONYM ",["Dict","CANDLES"]," ",["Dict","PAIR"],")"],["\t(ADJECTIVE BURNING)"],["\t(DESC ",["Str","\"pair of candles\""],")"],["\t(FLAGS TAKEBIT FLAMEBIT ONBIT LIGHTBIT)"],["\t(ACTION CANDLES-FCN)"],["\t(FDESC ",["Str","\"On the two ends of the altar are burning candles.\""],")"],["\t(SIZE 10)>"],[],["<OBJECT GUNK"],["\t(SYNONYM ",["Dict","GUNK"]," ",["Dict","PIECE"]," ",["Dict","SLAG"],")"],["\t(ADJECTIVE SMALL VITREOUS)"],["\t(DESC ",["Str","\"small piece of vitreous slag\""],")"],["\t(FLAGS TAKEBIT TRYTAKEBIT)"],["\t(ACTION GUNK-FUNCTION)"],["\t(SIZE 10)>"],[],["<OBJECT BODIES"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","BODIES"]," ",["Dict","BODY"]," ",["Dict","REMAINS"]," ",["Dict","PILE"],")"],["\t(ADJECTIVE MANGLED)"],["\t(DESC ",["Str","\"pile of bodies\""],")"],["\t(FLAGS NDESCBIT TRYTAKEBIT)"],["\t(ACTION BODY-FUNCTION)>"],[],["<OBJECT LEAVES"],["\t(IN GRATING-CLEARING)"],["\t(SYNONYM ",["Dict","LEAVES"]," ",["Dict","LEAF"]," ",["Dict","PILE"],")"],["\t(DESC ",["Str","\"pile of leaves\""],")"],["\t(FLAGS TAKEBIT BURNBIT TRYTAKEBIT)"],["\t(ACTION LEAF-PILE)"],["\t(LDESC ",["Str","\"On the ground is a pile of leaves.\""],")"],["\t(SIZE 25)>"],[],["<OBJECT PUNCTURED-BOAT"],["\t(SYNONYM ",["Dict","BOAT"]," ",["Dict","PILE"]," ",["Dict","PLASTIC"],")"],["\t(ADJECTIVE PLASTIC PUNCTURE LARGE)"],["\t(DESC ",["Str","\"punctured boat\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(ACTION DBOAT-FUNCTION)"],["\t(SIZE 20)>"],[],["<OBJECT INFLATABLE-BOAT"],["\t(IN DAM-BASE)"],["\t(SYNONYM ",["Dict","BOAT"]," ",["Dict","PILE"]," ",["Dict","PLASTIC"]," ",["Dict","VALVE"],")"],["\t(ADJECTIVE PLASTIC INFLAT)"],["\t(DESC ",["Str","\"pile of plastic\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(ACTION IBOAT-FUNCTION)"],["\t(LDESC"],[["Str","\"There is a folded pile of plastic here which has a small valve"]],[["Str","attached.\""],")"],["\t(SIZE 20)>"],[],["<OBJECT BAR"],["\t(IN LOUD-ROOM)"],["\t(SYNONYM ",["Dict","BAR"]," ",["Dict","PLATINUM"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE PLATINUM LARGE)"],["\t(DESC ",["Str","\"platinum bar\""],")"],["\t(FLAGS TAKEBIT SACREDBIT)"],["\t(LDESC ",["Str","\"On the ground is a large platinum bar.\""],")"],["\t(SIZE 20)"],["\t(VALUE 10)"],["\t(TVALUE 5)>"],[],["<OBJECT POT-OF-GOLD"],["\t(IN END-OF-RAINBOW)"],["\t(SYNONYM ",["Dict","POT"]," ",["Dict","GOLD"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE GOLD)"],["\t(DESC ",["Str","\"pot of gold\""],")"],["\t(FLAGS TAKEBIT INVISIBLE)"],["\t(FDESC ",["Str","\"At the end of the rainbow is a pot of gold.\""],")"],["\t(SIZE 15)"],["\t(VALUE 10)"],["\t(TVALUE 10)>"],[],["<OBJECT PRAYER"],["\t(IN NORTH-TEMPLE)"],["\t(SYNONYM ",["Dict","PRAYER"]," ",["Dict","INSCRIPTION"],")"],["\t(ADJECTIVE ANCIENT OLD)"],["\t(DESC ",["Str","\"prayer\""],")"],["\t(FLAGS READBIT SACREDBIT NDESCBIT)"],["\t(TEXT"],[["Str","\"The prayer is inscribed in an ancient script, rarely used today. It seems"]],[["Str","to be a philippic against small insects, absent-mindedness, and the picking"]],[["Str","up and dropping of small objects. The final verse consigns trespassers to"]],[["Str","the land of the dead. All evidence indicates that the beliefs of the ancient"]],[["Str","Zorkers were obscure.\""]," )>"],[],["<OBJECT RAILING"],["\t(IN DOME-ROOM)"],["\t(SYNONYM ",["Dict","RAILING"]," ",["Dict","RAIL"],")"],["\t(ADJECTIVE WOODEN)"],["\t(DESC ",["Str","\"wooden railing\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT RAINBOW"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","RAINBOW"],")"],["\t(DESC ",["Str","\"rainbow\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION RAINBOW-FCN)>"],[],["<OBJECT RIVER"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(DESC ",["Str","\"river\""],")"],["\t(SYNONYM ",["Dict","RIVER"],")"],["\t(ADJECTIVE FRIGID)"],["\t(ACTION RIVER-FUNCTION)"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT BUOY"],["\t(IN RIVER-4)"],["\t(SYNONYM ",["Dict","BUOY"],")"],["\t(ADJECTIVE RED)"],["\t(DESC ",["Str","\"red buoy\""],")"],["\t(FLAGS TAKEBIT CONTBIT)"],["\t(FDESC ",["Str","\"There is a red buoy here (probably a warning).\""],")"],["\t(CAPACITY 20)"],["\t(SIZE 10)"],["\t(ACTION TREASURE-INSIDE)>"],[],["<ROUTINE TREASURE-INSIDE ()"],["\t <COND (<VERB? OPEN>"],["\t\t<SCORE-OBJ ,EMERALD>"],["\t\t<RFALSE>)>>"],["<OBJECT ROPE"],["\t(IN ATTIC)"],["\t(SYNONYM ",["Dict","ROPE"]," ",["Dict","HEMP"]," ",["Dict","COIL"],")"],["\t(ADJECTIVE LARGE)"],["\t(DESC ",["Str","\"rope\""],")"],["\t(FLAGS TAKEBIT SACREDBIT TRYTAKEBIT)"],["\t(ACTION ROPE-FUNCTION)"],["\t(FDESC ",["Str","\"A large coil of rope is lying in the corner.\""],")"],["\t(SIZE 10)>"],[],["<OBJECT RUSTY-KNIFE"],["\t(IN MAZE-5)"],["\t(SYNONYM ",["Dict","KNIVES"]," ",["Dict","KNIFE"],")"],["\t(ADJECTIVE RUSTY)"],["\t(DESC ",["Str","\"rusty knife\""],")"],["\t(FLAGS TAKEBIT TRYTAKEBIT WEAPONBIT TOOLBIT)"],["\t(ACTION RUSTY-KNIFE-FCN)"],["\t(FDESC ",["Str","\"Beside the skeleton is a rusty knife.\""],")"],["\t(SIZE 20)>"],[],["<OBJECT SAND"],["\t(IN SANDY-CAVE)"],["\t(SYNONYM ",["Dict","SAND"],")"],["\t(DESC ",["Str","\"sand\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION SAND-FUNCTION)>"],[],["<OBJECT BRACELET"],["\t(IN GAS-ROOM)"],["\t(SYNONYM ",["Dict","BRACELET"]," ",["Dict","JEWEL"]," ",["Dict","SAPPHIRE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE SAPPHIRE)"],["\t(DESC ",["Str","\"sapphire-encrusted bracelet\""],")"],["\t(FLAGS TAKEBIT)"],["\t(SIZE 10)"],["\t(VALUE 5)"],["\t(TVALUE 5)>"],[],["<OBJECT SCREWDRIVER"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","SCREWDRIVER"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"]," ",["Dict","DRIVER"],")"],["\t(ADJECTIVE SCREW)"],["\t(DESC ",["Str","\"screwdriver\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)>"],[],["<OBJECT KEYS"],["\t(IN MAZE-5)"],["\t(SYNONYM ",["Dict","KEY"],")"],["\t(ADJECTIVE SKELETON)"],["\t(DESC ",["Str","\"skeleton key\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 10)>"],[],["<OBJECT SHOVEL"],["\t(IN SANDY-BEACH)"],["\t(SYNONYM ",["Dict","SHOVEL"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"],")"],["\t(DESC ",["Str","\"shovel\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 15)>"],[],["<OBJECT COAL"],["\t(IN DEAD-END-5)"],["\t(SYNONYM ",["Dict","COAL"]," ",["Dict","PILE"]," ",["Dict","HEAP"],")"],["\t(ADJECTIVE SMALL)"],["\t(DESC ",["Str","\"small pile of coal\""],")"],["\t(FLAGS TAKEBIT BURNBIT)"],["\t(SIZE 20)>"],[],["<OBJECT LADDER"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","LADDER"],")"],["\t(ADJECTIVE WOODEN RICKETY NARROW)"],["\t(DESC ",["Str","\"wooden ladder\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)>"],[],["<OBJECT SCARAB"],["\t(IN SANDY-CAVE)"],["\t(SYNONYM ",["Dict","SCARAB"]," ",["Dict","BUG"]," ",["Dict","BEETLE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE BEAUTI CARVED JEWELED)"],["\t(DESC ",["Str","\"beautiful jeweled scarab\""],")"],["\t(FLAGS TAKEBIT INVISIBLE)"],["\t(SIZE 8)"],["\t(VALUE 5)"],["\t(TVALUE 5)>"],[],["<OBJECT LARGE-BAG"],["\t(IN THIEF)"],["\t(SYNONYM ",["Dict","BAG"],")"],["\t(ADJECTIVE LARGE THIEFS)"],["\t(DESC ",["Str","\"large bag\""],")"],["\t(ACTION LARGE-BAG-F)"],["\t(FLAGS TRYTAKEBIT NDESCBIT)>"],[],["<OBJECT STILETTO"],["\t(IN THIEF)"],["\t(SYNONYM ",["Dict","STILETTO"],")"],["\t(ADJECTIVE VICIOUS)"],["\t(DESC ",["Str","\"stiletto\""],")"],["\t(ACTION STILETTO-FUNCTION)"],["\t(FLAGS WEAPONBIT TRYTAKEBIT TAKEBIT NDESCBIT)"],["\t(SIZE 10)>"],[],["<OBJECT MACHINE-SWITCH"],["\t(IN MACHINE-ROOM)"],["\t(SYNONYM ",["Dict","SWITCH"],")"],["\t(DESC ",["Str","\"switch\""],")"],["\t(FLAGS NDESCBIT TURNBIT)"],["\t(ACTION MSWITCH-FUNCTION)>"],[],["<OBJECT WOODEN-DOOR"],["\t(IN LIVING-ROOM)"],["\t(SYNONYM ",["Dict","DOOR"]," ",["Dict","LETTERING"]," ",["Dict","WRITING"],")"],["\t(ADJECTIVE WOODEN GOTHIC STRANGE WEST)"],["\t(DESC ",["Str","\"wooden door\""],")"],["\t(FLAGS READBIT DOORBIT NDESCBIT TRANSBIT)"],["\t(ACTION FRONT-DOOR-FCN)"],["\t(TEXT"],[["Str","\"The engravings translate to \\\"This space intentionally left blank.\\\"\""],")>"],[],["<OBJECT SWORD"],["\t(IN LIVING-ROOM)"],["\t(SYNONYM ",["Dict","SWORD"]," ",["Dict","ORCRIST"]," ",["Dict","GLAMDRING"]," ",["Dict","BLADE"],")"],["\t(ADJECTIVE ELVISH OLD ANTIQUE)"],["\t(DESC ",["Str","\"sword\""],")"],["\t(FLAGS TAKEBIT WEAPONBIT TRYTAKEBIT)"],["\t(ACTION SWORD-FCN)"],["\t(FDESC"],[["Str","\"Above the trophy case hangs an elvish sword of great antiquity.\""],")"],["\t(SIZE 30)"],["\t(TVALUE 0)>"],[],["<OBJECT MAP"],["\t(IN TROPHY-CASE)"],["\t(SYNONYM ",["Dict","PARCHMENT"]," ",["Dict","MAP"],")"],["\t(ADJECTIVE ANTIQUE OLD ANCIENT)"],["\t(DESC ",["Str","\"ancient map\""],")"],["\t(FLAGS INVISIBLE READBIT TAKEBIT)"],["\t(FDESC"],[["Str","\"In the trophy case is an ancient parchment which appears to be a map.\""],")"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"The map shows a forest with three clearings. The largest clearing contains"]],[["Str","a house. Three paths leave the large clearing. One of these paths, leading"]],[["Str","southwest, is marked \\\"To Stone Barrow\\\".\""],")>"],[],["<OBJECT BOAT-LABEL"],["\t(IN INFLATED-BOAT)"],["\t(SYNONYM ",["Dict","LABEL"]," ",["Dict","FINEPRINT"]," ",["Dict","PRINT"],")"],["\t(ADJECTIVE TAN FINE)"],["\t(DESC ",["Str","\"tan label\""],")"],["\t(FLAGS READBIT TAKEBIT BURNBIT)"],["\t(SIZE 2)"],["\t(TEXT"],[["Str","\"\t  !!!! \tFROBOZZ MAGIC BOAT COMPANY  !!!!|"]],[["Str","|"]],[["Str","Hello, Sailor!|"]],[["Str","|"]],[["Str","Instructions for use:|"]],[["Str","|"]],[["Str","   To get into a body of water, say \\\"Launch\\\".|"]],[["Str","   To get to shore, say \\\"Land\\\" or the direction in which you want"]],[["Str","to maneuver the boat.|"]],[["Str","|"]],[["Str","Warranty:|"]],[["Str","|"]],[["Str","  This boat is guaranteed against all defects for a period of 76"]],[["Str","milliseconds from date of purchase or until first used, whichever comes first.|"]],[["Str","|"]],[["Str","Warning:|"]],[["Str","   This boat is made of thin plastic.|"]],[["Str","   Good Luck!|"]],[["Str","\""]," )>"],[],["<OBJECT THIEF"],["\t(IN ROUND-ROOM)"],["\t(SYNONYM ",["Dict","THIEF"]," ",["Dict","ROBBER"]," ",["Dict","MAN"]," ",["Dict","PERSON"],")"],["\t(ADJECTIVE SHADY SUSPICIOUS SEEDY)"],["\t(DESC ",["Str","\"thief\""],")"],["\t(FLAGS ACTORBIT INVISIBLE CONTBIT OPENBIT TRYTAKEBIT)"],["\t(ACTION ROBBER-FUNCTION)"],["\t(LDESC"],[["Str","\"There is a suspicious-looking individual, holding a large bag, leaning"]],[["Str","against one wall. He is armed with a deadly stiletto.\""],")"],["\t(STRENGTH 5)>"],[],["<OBJECT PEDESTAL"],["\t(IN TORCH-ROOM)"],["\t(SYNONYM ",["Dict","PEDESTAL"],")"],["\t(ADJECTIVE WHITE MARBLE)"],["\t(DESC ",["Str","\"pedestal\""],")"],["\t(FLAGS NDESCBIT CONTBIT OPENBIT SURFACEBIT)"],["\t(ACTION DUMB-CONTAINER)"],["\t(CAPACITY 30)>"],[],["<OBJECT TORCH"],["\t(IN PEDESTAL)"],["\t(SYNONYM ",["Dict","TORCH"]," ",["Dict","IVORY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE FLAMING IVORY)"],["\t(DESC ",["Str","\"torch\""],")"],["\t(FLAGS TAKEBIT FLAMEBIT ONBIT LIGHTBIT)"],["\t(ACTION TORCH-OBJECT)"],["\t(FDESC ",["Str","\"Sitting on the pedestal is a flaming torch, made of ivory.\""],")"],["\t(SIZE 20)"],["\t(VALUE 14)"],["\t(TVALUE 6)>"],[],["<OBJECT GUIDE"],["\t(IN DAM-LOBBY)"],["\t(SYNONYM ",["Dict","GUIDE"]," ",["Dict","BOOK"]," ",["Dict","BOOKS"]," ",["Dict","GUIDEBOOKS"],")"],["\t(ADJECTIVE TOUR GUIDE)"],["\t(DESC ",["Str","\"tour guidebook\""],")"],["\t(FLAGS READBIT TAKEBIT BURNBIT)"],["\t(FDESC"],[["Str","\"Some guidebooks entitled \\\"Flood Control Dam #3\\\" are on the reception"]],[["Str","desk.\""],")"],["\t(TEXT"],[["Str","\"\\\"\tFlood Control Dam #3|"]],[["Str","|"]],[["Str","FCD#3 was constructed in year 783 of the Great Underground Empire to"]],[["Str","harness the mighty Frigid River. This work was supported by a grant of"]],[["Str","37 million zorkmids from your omnipotent local tyrant Lord Dimwit"]],[["Str","Flathead the Excessive. This impressive structure is composed of"]],[["Str","370,000 cubic feet of concrete, is 256 feet tall at the center, and 193"]],[["Str","feet wide at the top. The lake created behind the dam has a volume"]],[["Str","of 1.7 billion cubic feet, an area of 12 million square feet, and a"]],[["Str","shore line of 36 thousand feet.|"]],[["Str","|"]],[["Str","We will now point out some of the more interesting features"]],[["Str","of FCD#3 as we conduct you on a guided tour of the facilities:|"]],[["Str","        1) You start your tour here in the Dam Lobby. You will notice"]],[["Str","on your right that....\""]," )>"],[],[["Comment",";\"  The construction of FCD#3 took 112 days from ground breaking to"]],[["Comment","the dedication. It required a work force of 384 slaves, 34 slave"]],[["Comment","drivers, 12 engineers, 2 turtle doves, and a partridge in a pear"]],[["Comment","tree. The work was managed by a command team composed of 2345"]],[["Comment","bureaucrats, 2347 secretaries (at least two of whom can type),"]],[["Comment","12,256 paper shufflers, 52,469 rubber stampers, 245,193 red tape"]],[["Comment","processors, and nearly one million dead trees.|\""]],[],["<OBJECT TROLL"],["\t(IN TROLL-ROOM)"],["\t(SYNONYM ",["Dict","TROLL"],")"],["\t(ADJECTIVE NASTY)"],["\t(DESC ",["Str","\"troll\""],")"],["\t(FLAGS ACTORBIT OPENBIT TRYTAKEBIT)"],["\t(ACTION TROLL-FCN)"],["\t(LDESC"],[["Str","\"A nasty-looking troll, brandishing a bloody axe, blocks all passages"]],[["Str","out of the room.\""],")"],["\t(STRENGTH 2)>"],[],["<OBJECT TRUNK"],["\t(IN RESERVOIR)"],["\t(SYNONYM ",["Dict","TRUNK"]," ",["Dict","CHEST"]," ",["Dict","JEWELS"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE OLD)"],["\t(DESC ",["Str","\"trunk of jewels\""],")"],["\t(FLAGS TAKEBIT INVISIBLE)"],["\t(FDESC"],[["Str","\"Lying half buried in the mud is an old trunk, bulging with jewels.\""],")"],["\t(LDESC ",["Str","\"There is an old trunk here, bulging with assorted jewels.\""],")"],["\t(ACTION TRUNK-F)"],["\t(SIZE 35)"],["\t(VALUE 15)"],["\t(TVALUE 5)>"],[],["<OBJECT TUBE"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","TUBE"]," ",["Dict","TOOTH"]," ",["Dict","PASTE"],")"],["\t(DESC ",["Str","\"tube\""],")"],["\t(FLAGS TAKEBIT CONTBIT READBIT)"],["\t(ACTION TUBE-FUNCTION)"],["\t(LDESC"],["\t ",["Str","\"There is an object which looks like a tube of toothpaste here.\""],")"],["\t(CAPACITY 7)"],["\t(SIZE 5)"],["\t(TEXT"],[["Str","\"---> Frobozz Magic Gunk Company <---|"]],[["Str","\t  All-Purpose Gunk\""],")>"],[],["<OBJECT PUTTY"],["\t(IN TUBE)"],["\t(SYNONYM ",["Dict","MATERIAL"]," ",["Dict","GUNK"],")"],["\t(ADJECTIVE VISCOUS)"],["\t(DESC ",["Str","\"viscous material\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 6)"],["\t(ACTION PUTTY-FCN)>"],[],["<OBJECT ENGRAVINGS"],["\t(IN ENGRAVINGS-CAVE)"],["\t(SYNONYM ",["Dict","WALL"]," ",["Dict","ENGRAVINGS"]," ",["Dict","INSCRIPTION"],")"],["\t(ADJECTIVE OLD ANCIENT)"],["\t(DESC ",["Str","\"wall with engravings\""],")"],["\t(FLAGS READBIT SACREDBIT)"],["\t(LDESC ",["Str","\"There are old engravings on the walls here.\""],")"],["\t(TEXT"],[["Str","\"The engravings were incised in the living rock of the cave wall by"]],[["Str","an unknown hand. They depict, in symbolic form, the beliefs of the"]],[["Str","ancient Zorkers. Skillfully interwoven with the bas reliefs are excerpts"]],[["Str","illustrating the major religious tenets of that time. Unfortunately, a"]],[["Str","later age seems to have considered them blasphemous and just as skillfully"]],[["Str","excised them.\""],")>"],[],["<OBJECT OWNERS-MANUAL"],["\t(IN STUDIO)"],["\t(SYNONYM ",["Dict","MANUAL"]," ",["Dict","PIECE"]," ",["Dict","PAPER"],")"],["\t(ADJECTIVE ZORK OWNERS SMALL)"],["\t(DESC ",["Str","\"ZORK owner's manual\""],")"],["\t(FLAGS READBIT TAKEBIT)"],["\t(FDESC ",["Str","\"Loosely attached to a wall is a small piece of paper.\""],")"],["\t(TEXT"],[["Str","\"|"]],[["Str","Congratulations!|"]],[["Str","|"]],[["Str","You are the privileged owner of ZORK I: The Great Underground Empire,"]],[["Str","a self-contained and self-maintaining universe. If used and maintained"]],[["Str","in accordance with normal operating practices for small universes, ZORK"]],[["Str","will provide many months of trouble-free operation.|"]],[["Str","|\""],")>"],[],["<OBJECT CLIMBABLE-CLIFF"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","WALL"]," ",["Dict","CLIFF"]," ",["Dict","WALLS"]," ",["Dict","LEDGE"],")"],["\t(ADJECTIVE ROCKY SHEER)"],["\t(DESC ",["Str","\"cliff\""],")"],["\t(ACTION CLIFF-OBJECT)"],["\t(FLAGS NDESCBIT CLIMBBIT)>"],[],["<OBJECT WHITE-CLIFF"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","CLIFF"]," ",["Dict","CLIFFS"],")"],["\t(ADJECTIVE WHITE)"],["\t(DESC ",["Str","\"white cliffs\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION WCLIF-OBJECT)>"],[],["<OBJECT WRENCH"],["\t(IN MAINTENANCE-ROOM)"],["\t(SYNONYM ",["Dict","WRENCH"]," ",["Dict","TOOL"]," ",["Dict","TOOLS"],")"],["\t(DESC ",["Str","\"wrench\""],")"],["\t(FLAGS TAKEBIT TOOLBIT)"],["\t(SIZE 10)>"],[],["<OBJECT CONTROL-PANEL"],["\t(IN DAM-ROOM)"],["\t(SYNONYM ",["Dict","PANEL"],")"],["\t(ADJECTIVE CONTROL)"],["\t(DESC ",["Str","\"control panel\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT NEST"],["\t(IN UP-A-TREE)"],["\t(SYNONYM ",["Dict","NEST"],")"],["\t(ADJECTIVE BIRDS)"],["\t(DESC ",["Str","\"bird's nest\""],")"],["\t(FLAGS TAKEBIT BURNBIT CONTBIT OPENBIT SEARCHBIT)"],["\t(FDESC ",["Str","\"Beside you on the branch is a small bird's nest.\""],")"],["\t(CAPACITY 20)>"],[],["<OBJECT EGG"],["\t(IN NEST)"],["\t(SYNONYM ",["Dict","EGG"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE BIRDS ENCRUSTED JEWELED)"],["\t(DESC ",["Str","\"jewel-encrusted egg\""],")"],["\t(FLAGS TAKEBIT CONTBIT SEARCHBIT)"],["\t(ACTION EGG-OBJECT)"],["\t(VALUE 5)"],["\t(TVALUE 5)"],["\t(CAPACITY 6)"],["\t(FDESC"],[["Str","\"In the bird's nest is a large egg encrusted with precious jewels,"]],[["Str","apparently scavenged by a childless songbird. The egg is covered with"]],[["Str","fine gold inlay, and ornamented in lapis lazuli and mother-of-pearl."]],[["Str","Unlike most eggs, this one is hinged and closed with a delicate looking"]],[["Str","clasp. The egg appears extremely fragile.\""],")>"],[],["<OBJECT BROKEN-EGG"],["\t(SYNONYM ",["Dict","EGG"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE BROKEN BIRDS ENCRUSTED JEWEL)"],["\t(DESC ",["Str","\"broken jewel-encrusted egg\""],")"],["\t(FLAGS TAKEBIT CONTBIT OPENBIT)"],["\t(CAPACITY 6)"],["\t(TVALUE 2)"],["\t(LDESC ",["Str","\"There is a somewhat ruined egg here.\""],")>"],[],["<OBJECT BAUBLE"],["\t(SYNONYM ",["Dict","BAUBLE"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE BRASS BEAUTI)"],["\t(DESC ",["Str","\"beautiful brass bauble\""],")"],["\t(FLAGS TAKEBIT)"],["\t(VALUE 1)"],["\t(TVALUE 1)>"],[],["<OBJECT CANARY"],["\t(IN EGG)"],["\t(SYNONYM ",["Dict","CANARY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE CLOCKWORK GOLD GOLDEN)"],["\t(DESC ",["Str","\"golden clockwork canary\""],")"],["\t(FLAGS TAKEBIT SEARCHBIT)"],["\t(ACTION CANARY-OBJECT)"],["\t(VALUE 6)"],["\t(TVALUE 4)"],["\t(FDESC"],[["Str","\"There is a golden clockwork canary nestled in the egg. It has ruby"]],[["Str","eyes and a silver beak. Through a crystal window below its left"]],[["Str","wing you can see intricate machinery inside. It appears to have"]],[["Str","wound down.\""],")>"],[],["<OBJECT BROKEN-CANARY"],["\t(IN BROKEN-EGG)"],["\t(SYNONYM ",["Dict","CANARY"]," ",["Dict","TREASURE"],")"],["\t(ADJECTIVE BROKEN CLOCKWORK GOLD GOLDEN)"],["\t(DESC ",["Str","\"broken clockwork canary\""],")"],["\t(FLAGS TAKEBIT)"],["\t(ACTION CANARY-OBJECT)"],["\t(TVALUE 1)"],["\t(FDESC"],[["Str","\"There is a golden clockwork canary nestled in the egg. It seems to"]],[["Str","have recently had a bad experience. The mountings for its jewel-like"]],[["Str","eyes are empty, and its silver beak is crumpled. Through a cracked"]],[["Str","crystal window below its left wing you can see the remains of"]],[["Str","intricate machinery. It is not clear what result winding it would"]],[["Str","have, as the mainspring seems sprung.\""],")>"],[],["\\"],[],[["Str","\"SUBTITLE ROOMS\""]],[],[["Str","\"SUBTITLE CONDITIONAL EXIT FLAGS\""]],[],["<GLOBAL CYCLOPS-FLAG <>>"],["<GLOBAL DEFLATE <>>"],["<GLOBAL DOME-FLAG <>>"],["<GLOBAL EMPTY-HANDED <>>"],["<GLOBAL LLD-FLAG <>>"],["<GLOBAL LOW-TIDE <>>"],["<GLOBAL MAGIC-FLAG <>>"],["<GLOBAL RAINBOW-FLAG <>>"],["<GLOBAL TROLL-FLAG <>>"],["<GLOBAL WON-FLAG <>>"],["<GLOBAL COFFIN-CURE <>>"],[],[["Str","\"SUBTITLE FOREST AND OUTSIDE OF HOUSE\""]],[],["<ROOM WEST-OF-HOUSE"],["      (IN ROOMS)"],["      (DESC ",["Str","\"West of House\""],")"],["      (NORTH TO NORTH-OF-HOUSE)"],["      (SOUTH TO SOUTH-OF-HOUSE)"],["      (NE TO NORTH-OF-HOUSE)"],["      (SE TO SOUTH-OF-HOUSE)"],["      (WEST TO FOREST-1)"],["      (EAST ",["Str","\"The door is boarded and you can't remove the boards.\""],")"],["      (SW TO STONE-BARROW IF WON-FLAG)"],["      (IN TO STONE-BARROW IF WON-FLAG)"],["      (ACTION WEST-HOUSE)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL WHITE-HOUSE ",["Id","BOARD"],")>"],[],["<ROOM STONE-BARROW"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are standing in front of a massive barrow of stone. In the east face"]],[["Str","is a huge stone door which is open. You cannot see into the dark of the"]],[["Str","tomb.\""],")"],["      (DESC ",["Str","\"Stone Barrow\""],")"],["      (NE TO WEST-OF-HOUSE)"],["      (ACTION STONE-BARROW-FCN)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)>"],[],["<ROOM NORTH-OF-HOUSE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are facing the north side of a white house. There is no door here,"]],[["Str","and all the windows are boarded up. To the north a narrow path winds through"]],[["Str","the trees.\""],")"],["      (DESC ",["Str","\"North of House\""],")"],["      (SW TO WEST-OF-HOUSE)"],["      (SE TO EAST-OF-HOUSE)"],["      (WEST TO WEST-OF-HOUSE)"],["      (EAST TO EAST-OF-HOUSE)"],["      (NORTH TO PATH)"],["      (SOUTH ",["Str","\"The windows are all boarded.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL BOARDED-WINDOW ",["Id","BOARD"]," WHITE-HOUSE)>"],[],["<ROOM SOUTH-OF-HOUSE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are facing the south side of a white house. There is no door here,"]],[["Str","and all the windows are boarded.\""],")"],["      (DESC ",["Str","\"South of House\""],")"],["      (WEST TO WEST-OF-HOUSE)"],["      (EAST TO EAST-OF-HOUSE)"],["      (NE TO EAST-OF-HOUSE)"],["      (NW TO WEST-OF-HOUSE)"],["      (SOUTH TO FOREST-3)"],["      (NORTH ",["Str","\"The windows are all boarded.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL BOARDED-WINDOW ",["Id","BOARD"]," WHITE-HOUSE)>"],[],["<ROOM EAST-OF-HOUSE"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Behind House\""],")"],["      (NORTH TO NORTH-OF-HOUSE)"],["      (SOUTH TO SOUTH-OF-HOUSE)"],["      (SW TO SOUTH-OF-HOUSE)"],["      (NW TO NORTH-OF-HOUSE)"],["      (EAST TO CLEARING)"],["      (WEST TO KITCHEN IF KITCHEN-WINDOW IS OPEN)"],["      (IN TO KITCHEN IF KITCHEN-WINDOW IS OPEN)"],["      (ACTION EAST-HOUSE)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL WHITE-HOUSE KITCHEN-WINDOW)>"],[],["<ROOM FOREST-1"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a forest, with trees in all directions. To the east,"]],[["Str","there appears to be sunlight.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (NORTH TO GRATING-CLEARING)"],["      (EAST TO PATH)"],["      (SOUTH TO FOREST-3)"],["      (WEST ",["Str","\"You would need a machete to go further west.\""],")"],["      (ACTION FOREST-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE SONGBIRD WHITE-HOUSE FOREST)>"],[],["<ROOM FOREST-2"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is a dimly lit forest, with large trees all around.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (NORTH ",["Str","\"The forest becomes impenetrable to the north.\""],")"],["      (EAST TO MOUNTAINS)"],["      (SOUTH TO CLEARING)"],["      (WEST TO PATH)"],["      (ACTION FOREST-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE SONGBIRD WHITE-HOUSE FOREST)>"],[],["<ROOM MOUNTAINS"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"The forest thins out, revealing impassable mountains.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"The mountains are impassable.\""],")"],["      (NORTH TO FOREST-2)"],["      (EAST ",["Str","\"The mountains are impassable.\""],")"],["      (SOUTH TO FOREST-2)"],["      (WEST TO FOREST-2)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE WHITE-HOUSE)>"],[],["<ROOM FOREST-3"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is a dimly lit forest, with large trees all around.\""],")"],["      (DESC ",["Str","\"Forest\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (NORTH TO CLEARING)"],["      (EAST ",["Str","\"The rank undergrowth prevents eastward movement.\""],")"],["      (SOUTH ",["Str","\"Storm-tossed trees block your way.\""],")"],["      (WEST TO FOREST-1)"],["      (NW TO SOUTH-OF-HOUSE)"],["      (ACTION FOREST-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE SONGBIRD WHITE-HOUSE FOREST)>"],[],["<ROOM PATH"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a path winding through a dimly lit forest. The path heads"]],[["Str","north-south here. One particularly large tree with some low branches"]],[["Str","stands at the edge of the path.\""],")"],["      (DESC ",["Str","\"Forest Path\""],")"],["      (UP TO UP-A-TREE)"],["      (NORTH TO GRATING-CLEARING)"],["      (EAST TO FOREST-2)"],["      (SOUTH TO NORTH-OF-HOUSE)"],["      (WEST TO FOREST-1)"],["      (ACTION FOREST-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE SONGBIRD WHITE-HOUSE FOREST)>"],[],["<ROOM UP-A-TREE"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Up a Tree\""],")"],["      (DOWN TO PATH)"],["      (UP ",["Str","\"You cannot climb any higher.\""],")"],["      (ACTION TREE-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE FOREST SONGBIRD WHITE-HOUSE)>"],[],["<ROOM GRATING-CLEARING"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Clearing\""],")"],["      (NORTH ",["Str","\"The forest becomes impenetrable to the north.\""],")"],["      (EAST TO FOREST-2)"],["      (WEST TO FOREST-1)"],["      (SOUTH TO PATH)"],["      (DOWN PER GRATING-EXIT)"],["      (ACTION CLEARING-FCN)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL WHITE-HOUSE GRATE)>"],[],["<ROUTINE GRATING-EXIT ()"],["\t <COND (,GRATE-REVEALED"],["\t\t<COND (<FSET? ,GRATE ,OPENBIT>"],["\t\t       ,GRATING-ROOM)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The grating is closed!\""]," CR>"],["\t\t       <THIS-IS-IT ,GRATE>"],["\t\t       <RFALSE>)>)"],["\t       (T <TELL ",["Str","\"You can't go that way.\""]," CR> <RFALSE>)>>"],[],["<ROOM CLEARING"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are in a small clearing in a well marked forest path that"]],[["Str","extends to the east and west.\""],")"],["      (DESC ",["Str","\"Clearing\""],")"],["      (UP ",["Str","\"There is no tree here suitable for climbing.\""],")"],["      (EAST TO CANYON-VIEW)"],["      (NORTH TO FOREST-2)"],["      (SOUTH TO FOREST-3)"],["      (WEST TO EAST-OF-HOUSE)"],["      (ACTION FOREST-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL TREE SONGBIRD WHITE-HOUSE FOREST)>"],[],["\\"],[],[["Str","\"SUBTITLE HOUSE\""]],[],["<ROOM KITCHEN"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Kitchen\""],")"],["      (EAST TO EAST-OF-HOUSE IF KITCHEN-WINDOW IS OPEN)"],["      (WEST TO LIVING-ROOM)"],["      (OUT TO EAST-OF-HOUSE IF KITCHEN-WINDOW IS OPEN)"],["      (UP TO ATTIC)"],["      (DOWN TO STUDIO IF FALSE-FLAG ELSE"],["\t ",["Str","\"Only Santa Claus climbs down chimneys.\""],")"],["      (ACTION KITCHEN-FCN)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (VALUE 10)"],["      (GLOBAL KITCHEN-WINDOW CHIMNEY STAIRS)>"],[],["<ROOM ATTIC"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is the attic. The only exit is a stairway leading down.\""],")"],["      (DESC ",["Str","\"Attic\""],")"],["      (DOWN TO KITCHEN)"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM LIVING-ROOM"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Living Room\""],")"],["      (EAST TO KITCHEN)"],["      (WEST TO STRANGE-PASSAGE IF MAGIC-FLAG ELSE ",["Str","\"The door is nailed shut.\""],")"],["      (DOWN PER TRAP-DOOR-EXIT)"],["      (ACTION LIVING-ROOM-FCN)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL STAIRS)"],["      (PSEUDO ",["Dict","\"NAILS\""]," NAILS-PSEUDO ",["Dict","\"NAIL\""]," NAILS-PSEUDO)>"],[],["\\"],[],[["Str","\"SUBTITLE CELLAR AND VICINITY\""]],[],["<ROOM CELLAR"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Cellar\""],")"],["      (NORTH TO TROLL-ROOM)"],["      (SOUTH TO EAST-OF-CHASM)"],["      (UP TO LIVING-ROOM IF TRAP-DOOR IS OPEN)"],["      (WEST"],[["Str","\"You try to ascend the ramp, but it is impossible, and you slide back down.\""],")"],["      (ACTION CELLAR-FCN)"],["      (FLAGS RLANDBIT)"],["      (VALUE 25)"],["      (GLOBAL TRAP-DOOR SLIDE STAIRS)>"],[],["<ROOM TROLL-ROOM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a small room with passages to the east and south and a"]],[["Str","forbidding hole leading west. Bloodstains and deep scratches"]],[["Str","(perhaps made by an axe) mar the walls.\""],")"],["      (DESC ",["Str","\"The Troll Room\""],")"],["      (SOUTH TO CELLAR)"],["      (EAST TO EW-PASSAGE"],["       IF TROLL-FLAG ELSE ",["Str","\"The troll fends you off with a menacing gesture.\""],")"],["      (WEST TO MAZE-1"],["       IF TROLL-FLAG ELSE ",["Str","\"The troll fends you off with a menacing gesture.\""],")"],["      (FLAGS RLANDBIT)"],["      (ACTION TROLL-ROOM-F)>"],[],["<ROOM EAST-OF-CHASM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on the east edge of a chasm, the bottom of which cannot be"]],[["Str","seen. A narrow passage goes north, and the path you are on continues"]],[["Str","to the east.\""],")"],["      (DESC ",["Str","\"East of Chasm\""],")"],["      (NORTH TO CELLAR)"],["      (EAST TO GALLERY)"],["      (DOWN ",["Str","\"The chasm probably leads straight to the infernal regions.\""],")"],["      (FLAGS RLANDBIT)"],["      (PSEUDO ",["Dict","\"CHASM\""]," CHASM-PSEUDO)>"],[],["<ROOM GALLERY"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is an art gallery. Most of the paintings have been stolen by"]],[["Str","vandals with exceptional taste. The vandals left through either the"]],[["Str","north or west exits.\""],")"],["      (DESC ",["Str","\"Gallery\""],")"],["      (WEST TO EAST-OF-CHASM)"],["      (NORTH TO STUDIO)"],["      (FLAGS RLANDBIT ONBIT)>"],[],["<ROOM STUDIO"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This appears to have been an artist's studio. The walls and floors are"]],[["Str","splattered with paints of 69 different colors. Strangely enough, nothing"]],[["Str","of value is hanging here. At the south end of the room is an open door"]],[["Str","(also covered with paint). A dark and narrow chimney leads up from a"]],[["Str","fireplace; although you might be able to get up it, it seems unlikely"]],[["Str","you could get back down.\""],")"],["      (DESC ",["Str","\"Studio\""],")"],["      (SOUTH TO GALLERY)"],["      (UP PER UP-CHIMNEY-FUNCTION)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL CHIMNEY)"],["      (PSEUDO ",["Dict","\"DOOR\""]," DOOR-PSEUDO ",["Dict","\"PAINT\""]," PAINT-PSEUDO)>"],[],["\\"],[],[["Str","\"SUBTITLE MAZE\""]],[],["<ROOM MAZE-1"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO TROLL-ROOM)"],["      (NORTH TO MAZE-1)"],["      (SOUTH TO MAZE-2)"],["      (WEST TO MAZE-4)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-2"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (SOUTH TO MAZE-1)"],["      (DOWN PER MAZE-DIODES) ",["Comment",";\"to MAZE-4\""]],["      (EAST TO MAZE-3)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-3"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (WEST TO MAZE-2)"],["      (NORTH TO MAZE-4)"],["      (UP TO MAZE-5)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-4"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (WEST TO MAZE-3)"],["      (NORTH TO MAZE-1)"],["      (EAST TO DEAD-END-1)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM DEAD-END-1"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (SOUTH TO MAZE-4)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-5"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike."]],[["Str","A skeleton, probably the remains of a luckless adventurer, lies here.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO DEAD-END-2)"],["      (NORTH TO MAZE-3)"],["      (SW TO MAZE-6)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM DEAD-END-2"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (WEST TO MAZE-5)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-6"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (DOWN TO MAZE-5)"],["      (EAST TO MAZE-7)"],["      (WEST TO MAZE-6)"],["      (UP TO MAZE-9)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-7"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (UP TO MAZE-14)"],["      (WEST TO MAZE-6)"],["      (DOWN PER MAZE-DIODES) ",["Comment",";\"to DEAD-END-1\""]],["      (EAST TO MAZE-8)"],["      (SOUTH TO MAZE-15)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-8"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (NE TO MAZE-7)"],["      (WEST TO MAZE-8)"],["      (SE TO DEAD-END-3)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM DEAD-END-3"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (NORTH TO MAZE-8)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-9"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (NORTH TO MAZE-6)"],["      (DOWN PER MAZE-DIODES) ",["Comment",";\"to MAZE-11\""]],["      (EAST TO MAZE-10)"],["      (SOUTH TO MAZE-13)"],["      (WEST TO MAZE-12)"],["      (NW TO MAZE-9)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-10"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO MAZE-9)"],["      (WEST TO MAZE-13)"],["      (UP TO MAZE-11)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-11"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["       (NE TO GRATING-ROOM)"],["      (DOWN TO MAZE-10)"],["      (NW TO MAZE-13)"],["      (SW TO MAZE-12)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM GRATING-ROOM"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Grating Room\""],")"],["      (SW TO MAZE-11)"],["      (UP TO GRATING-CLEARING"],["       IF GRATE IS OPEN ELSE ",["Str","\"The grating is closed.\""],")"],["      (ACTION MAZE-11-FCN)"],["      (GLOBAL GRATE)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM MAZE-12"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (DOWN PER MAZE-DIODES) ",["Comment",";\"to MAZE-5\""]],["      (SW TO MAZE-11)"],["      (EAST TO MAZE-13)"],["      (UP TO MAZE-9)"],["      (NORTH TO DEAD-END-4)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM DEAD-END-4"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the maze.\""],")"],["      (SOUTH TO MAZE-12)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-13"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (EAST TO MAZE-9)"],["      (DOWN TO MAZE-12)"],["      (SOUTH TO MAZE-10)"],["      (WEST TO MAZE-11)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-14"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["       (WEST TO MAZE-15)"],["      (NW TO MAZE-14)"],["      (NE TO MAZE-7)"],["      (SOUTH TO MAZE-7)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["<ROOM MAZE-15"],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is part of a maze of twisty little passages, all alike.\""],")"],["      (DESC ",["Str","\"Maze\""],")"],["      (WEST TO MAZE-14)"],["      (SOUTH TO MAZE-7)"],["      (SE TO CYCLOPS-ROOM)"],["      (FLAGS RLANDBIT MAZEBIT)>"],[],["\\"],[],[["Str","\"SUBTITLE CYCLOPS AND HIDEAWAY\""]],[],["<ROOM CYCLOPS-ROOM"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Cyclops Room\""],")"],["      (NW TO MAZE-15)"],["      (EAST TO STRANGE-PASSAGE"],["       IF MAGIC-FLAG ELSE ",["Str","\"The east wall is solid rock.\""],")"],["      (UP TO TREASURE-ROOM IF CYCLOPS-FLAG"],["        ELSE ",["Str","\"The cyclops doesn't look like he'll let you past.\""],")"],["      (ACTION CYCLOPS-ROOM-FCN)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM STRANGE-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a long passage. To the west is one entrance. On the"]],[["Str","east there is an old wooden door, with a large opening in it (about"]],[["Str","cyclops sized).\""],")"],["      (DESC ",["Str","\"Strange Passage\""],")"],["      (WEST TO CYCLOPS-ROOM)"],["      (IN TO CYCLOPS-ROOM)"],["      (EAST TO LIVING-ROOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM TREASURE-ROOM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a large room, whose east wall is solid granite. A number"]],[["Str","of discarded bags, which crumble at your touch, are scattered about"]],[["Str","on the floor. There is an exit down a staircase.\""],")"],["      (DESC ",["Str","\"Treasure Room\""],")"],["      (DOWN TO CYCLOPS-ROOM)"],["      (ACTION TREASURE-ROOM-FCN)"],["      (FLAGS RLANDBIT ",["Comment",";\"CANT-HAVE-ONBIT\""],")"],["      (VALUE 25)"],["      (GLOBAL STAIRS)>"],[],["\\"],[],[["Str","\"SUBTITLE RESERVOIR AREA\""]],[],["<ROOM RESERVOIR-SOUTH"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Reservoir South\""],")"],["      (SE TO DEEP-CANYON)"],["      (SW TO CHASM-ROOM)"],["      (EAST TO DAM-ROOM)"],["      (WEST TO STREAM-VIEW)"],["      (NORTH TO RESERVOIR"],["       IF LOW-TIDE ELSE ",["Str","\"You would drown.\""],")"],["      (ACTION RESERVOIR-SOUTH-FCN)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL GLOBAL-WATER)"],["      (PSEUDO ",["Dict","\"LAKE\""]," LAKE-PSEUDO ",["Dict","\"CHASM\""]," CHASM-PSEUDO)>"],[],["<ROOM RESERVOIR"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Reservoir\""],")"],["      (NORTH TO RESERVOIR-NORTH)"],["      (SOUTH TO RESERVOIR-SOUTH)"],["      (UP TO IN-STREAM)"],["      (WEST TO IN-STREAM)"],["      (DOWN ",["Str","\"The dam blocks your way.\""],")"],["      (ACTION RESERVOIR-FCN)"],["      (FLAGS NONLANDBIT )"],["      (PSEUDO ",["Dict","\"STREAM\""]," STREAM-PSEUDO)"],["      (GLOBAL GLOBAL-WATER)>"],[],["<ROOM RESERVOIR-NORTH"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Reservoir North\""],")"],["      (NORTH TO ATLANTIS-ROOM)"],["      (SOUTH TO RESERVOIR"],["       IF LOW-TIDE ELSE ",["Str","\"You would drown.\""],")"],["      (ACTION RESERVOIR-NORTH-FCN)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL GLOBAL-WATER STAIRS)"],["      (PSEUDO ",["Dict","\"LAKE\""]," LAKE-PSEUDO)>"],[],["<ROOM STREAM-VIEW"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are standing on a path beside a gently flowing stream. The path"]],[["Str","follows the stream, which flows from west to east.\""],")"],["      (DESC ",["Str","\"Stream View\""],")"],["      (EAST TO RESERVOIR-SOUTH)"],["      (WEST ",["Str","\"The stream emerges from a spot too small for you to enter.\""],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL GLOBAL-WATER)"],["      (PSEUDO ",["Dict","\"STREAM\""]," STREAM-PSEUDO)>"],[],["<ROOM IN-STREAM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on the gently flowing stream. The upstream route is too narrow"]],[["Str","to navigate, and the downstream route is invisible due to twisting"]],[["Str","walls. There is a narrow beach to land on.\""],")"],["      (DESC ",["Str","\"Stream\""],")"],["      (UP ",["Str","\"The channel is too narrow.\""],")"],["      (WEST ",["Str","\"The channel is too narrow.\""],")"],["      (LAND TO STREAM-VIEW)"],["      (DOWN TO RESERVOIR)"],["      (EAST TO RESERVOIR)"],["      (FLAGS NONLANDBIT )"],["      (GLOBAL GLOBAL-WATER)"],["      (PSEUDO ",["Dict","\"STREAM\""]," STREAM-PSEUDO)>"],[],["\\"],[],[["Str","\"SUBTITLE MIRROR ROOMS AND VICINITY\""]],[],["<ROOM MIRROR-ROOM-1"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Mirror Room\""],")"],["      (NORTH TO COLD-PASSAGE)"],["      (WEST TO TWISTING-PASSAGE)"],["      (EAST TO SMALL-CAVE)"],["      (ACTION MIRROR-ROOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM MIRROR-ROOM-2"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Mirror Room\""],")"],["      (WEST TO WINDING-PASSAGE)"],["      (NORTH TO NARROW-PASSAGE)"],["      (EAST TO TINY-CAVE)"],["      (ACTION MIRROR-ROOM)"],["      (FLAGS RLANDBIT ONBIT)>"],[],["<ROOM SMALL-CAVE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a tiny cave with entrances west and north, and a staircase"]],[["Str","leading down.\""],")"],["      (DESC ",["Str","\"Cave\""],")"],["      (NORTH TO MIRROR-ROOM-1)"],["      (DOWN TO ATLANTIS-ROOM)"],["      (SOUTH TO ATLANTIS-ROOM)"],["      (WEST TO TWISTING-PASSAGE)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM TINY-CAVE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a tiny cave with entrances west and north, and a dark,"]],[["Str","forbidding staircase leading down.\""],")"],["      (DESC ",["Str","\"Cave\""],")"],["      (NORTH TO MIRROR-ROOM-2)"],["      (WEST TO WINDING-PASSAGE)"],["      (DOWN TO ENTRANCE-TO-HADES)"],["      (ACTION CAVE2-ROOM)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM COLD-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a cold and damp corridor where a long east-west passageway"]],[["Str","turns into a southward path.\""],")"],["      (DESC ",["Str","\"Cold Passage\""],")"],["      (SOUTH TO MIRROR-ROOM-1)"],["      (WEST TO SLIDE-ROOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM NARROW-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a long and narrow corridor where a long north-south passageway"]],[["Str","briefly narrows even further.\""],")"],["      (DESC ",["Str","\"Narrow Passage\""],")"],["      (NORTH TO ROUND-ROOM)"],["      (SOUTH TO MIRROR-ROOM-2)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM WINDING-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a winding passage. It seems that there are only exits"]],[["Str","on the east and north.\""],")"],["      (DESC ",["Str","\"Winding Passage\""],")"],["      (NORTH TO MIRROR-ROOM-2)"],["      (EAST TO TINY-CAVE)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM TWISTING-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a winding passage. It seems that there are only exits"]],[["Str","on the east and north.\""],")"],["      (DESC ",["Str","\"Twisting Passage\""],")"],["      (NORTH TO MIRROR-ROOM-1)"],["      (EAST TO SMALL-CAVE)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ATLANTIS-ROOM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is an ancient room, long under water. There is an exit to"]],[["Str","the south and a staircase leading up.\""],")"],["      (DESC ",["Str","\"Atlantis Room\""],")"],["      (UP TO SMALL-CAVE)"],["      (SOUTH TO RESERVOIR-NORTH)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)>"],[],["\\"],[],[["Str","\"SUBTITLE ROUND ROOM AND VICINITY\""]],[],["<ROOM EW-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a narrow east-west passageway. There is a narrow stairway"]],[["Str","leading down at the north end of the room.\""],")"],["      (DESC ",["Str","\"East-West Passage\""],")"],["      (EAST TO ROUND-ROOM)"],["      (WEST TO TROLL-ROOM)"],["      (DOWN TO CHASM-ROOM)"],["      (NORTH TO CHASM-ROOM)"],["      (FLAGS RLANDBIT)"],["      (VALUE 5)"],["      (GLOBAL STAIRS)>"],[],["<ROOM ROUND-ROOM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a circular stone room with passages in all directions. Several"]],[["Str","of them have unfortunately been blocked by cave-ins.\""],")"],["      (DESC ",["Str","\"Round Room\""],")"],["      (EAST TO LOUD-ROOM)"],["      (WEST TO EW-PASSAGE)"],["      (NORTH TO NS-PASSAGE)"],["      (SOUTH TO NARROW-PASSAGE)"],["      (SE TO ENGRAVINGS-CAVE)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM DEEP-CANYON"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Deep Canyon\""],")"],["      (NW TO RESERVOIR-SOUTH) ",["Comment",";COFFIN-CURE"]],["      (EAST TO DAM-ROOM)"],["      (SW TO NS-PASSAGE)"],["      (DOWN TO LOUD-ROOM)"],["      (FLAGS RLANDBIT)"],["      (ACTION DEEP-CANYON-F)"],["      (GLOBAL STAIRS)>"],[],["<ROOM DAMP-CAVE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This cave has exits to the west and east, and narrows to a crack toward"]],[["Str","the south. The earth is particularly damp here.\""],")"],["      (DESC ",["Str","\"Damp Cave\""],")"],["      (WEST TO LOUD-ROOM)"],["      (EAST TO WHITE-CLIFFS-NORTH)"],["      (SOUTH ",["Str","\"It is too narrow for most insects.\""],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL CRACK)>"],[],["<ROOM LOUD-ROOM"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Loud Room\""],")"],["      (EAST TO DAMP-CAVE)"],["      (WEST TO ROUND-ROOM)"],["      (UP TO DEEP-CANYON)"],["      (ACTION LOUD-ROOM-FCN)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM NS-PASSAGE"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a high north-south passage, which forks to the northeast.\""],")"],["      (DESC ",["Str","\"North-South Passage\""],")"],["      (NORTH TO CHASM-ROOM)"],["      (NE TO DEEP-CANYON)"],["      (SOUTH TO ROUND-ROOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM CHASM-ROOM"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"A chasm runs southwest to northeast and the path follows it. You are"]],[["Str","on the south side of the chasm, where a crack opens into a passage.\""],")"],["      (DESC ",["Str","\"Chasm\""],")"],["      (NE TO RESERVOIR-SOUTH)"],["      (SW TO EW-PASSAGE)"],["      (UP TO EW-PASSAGE)"],["      (SOUTH TO NS-PASSAGE)"],["      (DOWN ",["Str","\"Are you out of your mind?\""],")"],["      (FLAGS RLANDBIT)"],["      (GLOBAL CRACK STAIRS)"],["      (PSEUDO ",["Dict","\"CHASM\""]," CHASM-PSEUDO)>"],[],["\\"],[],[["Str","\"SUBTITLE HADES ET AL\""]],[],["<ROOM ENTRANCE-TO-HADES"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Entrance to Hades\""],")"],["      (UP TO TINY-CAVE)"],["      (IN TO LAND-OF-LIVING-DEAD IF LLD-FLAG"],["       ELSE ",["Str","\"Some invisible force prevents you from passing through the gate.\""],")"],["      (SOUTH TO LAND-OF-LIVING-DEAD IF LLD-FLAG"],["       ELSE ",["Str","\"Some invisible force prevents you from passing through the gate.\""],")"],["      (ACTION LLD-ROOM)"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL BODIES)"],["      (PSEUDO ",["Dict","\"GATE\""]," GATE-PSEUDO ",["Dict","\"GATES\""]," GATE-PSEUDO)>"],[],["<ROOM LAND-OF-LIVING-DEAD"],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You have entered the Land of the Living Dead. Thousands of lost souls"]],[["Str","can be heard weeping and moaning. In the corner are stacked the remains"]],[["Str","of dozens of previous adventurers less fortunate than yourself."]],[["Str","A passage exits to the north.\""],")"],["      (DESC ",["Str","\"Land of the Dead\""],")"],["      (OUT TO ENTRANCE-TO-HADES)"],["      (NORTH TO ENTRANCE-TO-HADES)"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL BODIES)>"],[],["\\"],[],[["Str","\"SUBTITLE DOME, TEMPLE, EGYPT\""]],[],["<ROOM ENGRAVINGS-CAVE\t",["Comment",";\"was CAVE4\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You have entered a low cave with passages leading northwest and east.\""],")"],["      (DESC ",["Str","\"Engravings Cave\""],")"],["      (NW TO ROUND-ROOM)"],["      (EAST TO DOME-ROOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM EGYPT-ROOM\t",["Comment",";\"was EGYPT\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a room which looks like an Egyptian tomb. There is an"]],[["Str","ascending staircase to the west.\""],")"],["      (DESC ",["Str","\"Egyptian Room\""],")"],["      (WEST TO NORTH-TEMPLE)"],["      (UP TO NORTH-TEMPLE)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM DOME-ROOM\t",["Comment",";\"was DOME\""]],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dome Room\""],")"],["      (WEST TO ENGRAVINGS-CAVE)"],["      (DOWN TO TORCH-ROOM"],["       IF DOME-FLAG ELSE ",["Str","\"You cannot go down without fracturing many bones.\""],")"],["      (ACTION DOME-ROOM-FCN)"],["      (FLAGS RLANDBIT)"],["      (PSEUDO ",["Dict","\"DOME\""]," DOME-PSEUDO)>"],[],["<ROOM TORCH-ROOM"],["      (IN ROOMS)"],["      (DESC ",["Str","\"Torch Room\""],")"],["      (UP ",["Str","\"You cannot reach the rope.\""],")"],["      (SOUTH TO NORTH-TEMPLE)"],["      (DOWN TO NORTH-TEMPLE)"],["      (ACTION TORCH-ROOM-FCN)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)"],["      (PSEUDO ",["Dict","\"DOME\""]," DOME-PSEUDO)>"],[],["<ROOM NORTH-TEMPLE\t",["Comment",";\"was TEMP1\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is the north end of a large temple. On the east wall is an"]],[["Str","ancient inscription, probably a prayer in a long-forgotten language."]],[["Str","Below the prayer is a staircase leading down. The west wall is solid"]],[["Str","granite. The exit to the north end of the room is through huge"]],[["Str","marble pillars.\""],")"],["      (DESC ",["Str","\"Temple\""],")"],["      (DOWN TO EGYPT-ROOM)"],["      (EAST TO EGYPT-ROOM)"],["      (NORTH TO TORCH-ROOM)"],["      (OUT TO TORCH-ROOM)"],["      (UP TO TORCH-ROOM)"],["      (SOUTH TO SOUTH-TEMPLE)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL STAIRS)>"],[],["<ROOM SOUTH-TEMPLE\t",["Comment",";\"was TEMP2\""]],["      (IN ROOMS)"],["      (LDESC"],[],[["Str","\"This is the south end of a large temple. In front of you is what"]],[["Str","appears to be an altar. In one corner is a small hole in the floor"]],[["Str","which leads into darkness. You probably could not get back up it.\""],")"],["      (DESC ",["Str","\"Altar\""],")"],["      (NORTH TO NORTH-TEMPLE)"],["      (DOWN TO TINY-CAVE"],["       IF COFFIN-CURE"],["       ELSE ",["Str","\"You haven't a prayer of getting the coffin down there.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (ACTION SOUTH-TEMPLE-FCN)>"],[],["\\"],[],[["Str","\"SUBTITLE FLOOD CONTROL DAM #3\""]],[],["<ROOM DAM-ROOM\t",["Comment",";\"was DAM\""]],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dam\""],")"],["      (SOUTH TO DEEP-CANYON)"],["      (DOWN TO DAM-BASE)"],["      (EAST TO DAM-BASE)"],["      (NORTH TO DAM-LOBBY)"],["      (WEST TO RESERVOIR-SOUTH)"],["      (ACTION DAM-ROOM-FCN)"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL GLOBAL-WATER)>"],[],["<ROOM DAM-LOBBY\t",["Comment",";\"was LOBBY\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This room appears to have been the waiting room for groups touring"]],[["Str","the dam. There are open doorways here to the north and east marked"]],[["Str","\\\"Private\\\", and there is a path leading south over the top of the dam.\""],")"],["      (DESC ",["Str","\"Dam Lobby\""],")"],["      (SOUTH TO DAM-ROOM)"],["      (NORTH TO MAINTENANCE-ROOM)"],["      (EAST TO MAINTENANCE-ROOM)"],["      (FLAGS RLANDBIT ONBIT)>"],[],["<ROOM MAINTENANCE-ROOM\t",["Comment",";\"was MAINT\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is what appears to have been the maintenance room for Flood"]],[["Str","Control Dam #3. Apparently, this room has been ransacked recently, for"]],[["Str","most of the valuable equipment is gone. On the wall in front of you is a"]],[["Str","group of buttons colored blue, yellow, brown, and red. There are doorways to"]],[["Str","the west and south.\""],")"],["      (DESC ",["Str","\"Maintenance Room\""],")"],["      (SOUTH TO DAM-LOBBY)"],["      (WEST TO DAM-LOBBY)"],["      (FLAGS RLANDBIT)>"],[],["\\"],[],[["Str","\"SUBTITLE RIVER AREA\""]],[],["<ROOM DAM-BASE\t",["Comment",";\"was DOCK\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are at the base of Flood Control Dam #3, which looms above you"]],[["Str","and to the north. The river Frigid is flowing by here. Along the"]],[["Str","river are the White Cliffs which seem to form giant walls stretching"]],[["Str","from north to south along the shores of the river as it winds its"]],[["Str","way downstream.\""],")"],["      (DESC ",["Str","\"Dam Base\""],")"],["      (NORTH TO DAM-ROOM)"],["      (UP TO DAM-ROOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM RIVER-1\t",["Comment",";\"was RIVR1\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on the Frigid River in the vicinity of the Dam. The river"]],[["Str","flows quietly here. There is a landing on the west shore.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (WEST TO DAM-BASE)"],["      (LAND TO DAM-BASE)"],["      (DOWN TO RIVER-2)"],["      (EAST ",["Str","\"The White Cliffs prevent your landing here.\""],")"],["      (FLAGS NONLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM RIVER-2\t",["Comment",";\"was RIVR2\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"The river turns a corner here making it impossible to see the"]],[["Str","Dam. The White Cliffs loom on the east bank and large rocks prevent"]],[["Str","landing on the west.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (DOWN TO RIVER-3)"],["      (LAND ",["Str","\"There is no safe landing spot here.\""],")"],["      (EAST ",["Str","\"The White Cliffs prevent your landing here.\""],")"],["      (WEST ",["Str","\"Just in time you steer away from the rocks.\""],")"],["      (FLAGS NONLANDBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM RIVER-3\t",["Comment",";\"was RIVR3\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"The river descends here into a valley. There is a narrow beach on the"]],[["Str","west shore below the cliffs. In the distance a faint rumbling can be"]],[["Str","heard.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (DOWN TO RIVER-4)"],["      (LAND TO WHITE-CLIFFS-NORTH)"],["      (WEST TO WHITE-CLIFFS-NORTH)"],["      (FLAGS NONLANDBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM WHITE-CLIFFS-NORTH\t",["Comment",";\"was WCLF1\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on a narrow strip of beach which runs along the base of the"]],[["Str","White Cliffs. There is a narrow path heading south along the Cliffs"]],[["Str","and a tight passage leading west into the cliffs themselves.\""],")"],["      (DESC ",["Str","\"White Cliffs Beach\""],")"],["      (SOUTH TO WHITE-CLIFFS-SOUTH IF DEFLATE ELSE ",["Str","\"The path is too narrow.\""],")"],["      (WEST TO DAMP-CAVE IF DEFLATE ELSE ",["Str","\"The path is too narrow.\""],")"],["      (ACTION WHITE-CLIFFS-FUNCTION)"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER WHITE-CLIFF RIVER)>"],[],["<ROOM WHITE-CLIFFS-SOUTH\t",["Comment",";\"was WCLF2\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on a rocky, narrow strip of beach beside the Cliffs. A"]],[["Str","narrow path leads north along the shore.\""],")"],["      (DESC ",["Str","\"White Cliffs Beach\""],")"],["      (NORTH TO WHITE-CLIFFS-NORTH"],["       IF DEFLATE ELSE ",["Str","\"The path is too narrow.\""],")"],["      (ACTION WHITE-CLIFFS-FUNCTION)"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER WHITE-CLIFF RIVER)>"],[],["<ROOM RIVER-4\t",["Comment",";\"was RIVR4\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"The river is running faster here and the sound ahead appears to be"]],[["Str","that of rushing water. On the east shore is a sandy beach. A small"]],[["Str","area of beach can also be seen below the cliffs on the west shore.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (DOWN TO RIVER-5)"],["      (LAND ",["Str","\"You can land either to the east or the west.\""],")"],["      (WEST TO WHITE-CLIFFS-SOUTH)"],["      (EAST TO SANDY-BEACH)"],["      (ACTION RIVR4-ROOM)"],["      (FLAGS NONLANDBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM RIVER-5\t",["Comment",";\"was RIVR5\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"The sound of rushing water is nearly unbearable here. On the east"]],[["Str","shore is a large landing area.\""],")"],["      (DESC ",["Str","\"Frigid River\""],")"],["      (UP ",["Str","\"You cannot go upstream due to strong currents.\""],")"],["      (EAST TO SHORE)"],["      (LAND TO SHORE)"],["      (FLAGS NONLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM SHORE\t",["Comment",";\"was FANTE\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on the east shore of the river. The water here seems somewhat"]],[["Str","treacherous. A path travels from north to south here, the south end"]],[["Str","quickly turning around a sharp corner.\""],")"],["      (DESC ",["Str","\"Shore\""],")"],["      (NORTH TO SANDY-BEACH)"],["      (SOUTH TO ARAGAIN-FALLS)"],["      (FLAGS RLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM SANDY-BEACH\t",["Comment",";\"was BEACH\""]],["      (IN ROOMS)"],["      (LDESC"],[],[["Str","\"You are on a large sandy beach on the east shore of the river, which is"]],[["Str","flowing quickly by. A path runs beside the river to the south here, and"]],[["Str","a passage is partially buried in sand to the northeast.\""],")"],["      (DESC ",["Str","\"Sandy Beach\""],")"],["      (NE TO SANDY-CAVE)"],["      (SOUTH TO SHORE)"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER RIVER)>"],[],["<ROOM SANDY-CAVE\t",["Comment",";\"was TCAVE\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a sand-filled cave whose exit is to the southwest.\""],")"],["      (DESC ",["Str","\"Sandy Cave\""],")"],["      (SW TO SANDY-BEACH)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM ARAGAIN-FALLS\t",["Comment",";\"was FALLS\""]],["      (IN ROOMS)"],["      (DESC ",["Str","\"Aragain Falls\""],")"],["      (WEST TO ON-RAINBOW IF RAINBOW-FLAG)"],["      (DOWN ",["Str","\"It's a long way...\""],")"],["      (NORTH TO SHORE)"],["      (UP TO ON-RAINBOW IF RAINBOW-FLAG)"],["      (ACTION FALLS-ROOM)"],["      (FLAGS RLANDBIT SACREDBIT ONBIT)"],["      (GLOBAL GLOBAL-WATER RIVER RAINBOW)>"],[],["<ROOM ON-RAINBOW\t",["Comment",";\"was RAINB\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on top of a rainbow (I bet you never thought you would walk"]],[["Str","on a rainbow), with a magnificent view of the Falls. The rainbow"]],[["Str","travels east-west here.\""],")"],["      (DESC ",["Str","\"On the Rainbow\""],")"],["      (WEST TO END-OF-RAINBOW)"],["      (EAST TO ARAGAIN-FALLS)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL RAINBOW)>"],[],["<ROOM END-OF-RAINBOW\t",["Comment",";\"was POG\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on a small, rocky beach on the continuation of the Frigid"]],[["Str","River past the Falls. The beach is narrow due to the presence of the"]],[["Str","White Cliffs. The river canyon opens here and sunlight shines in"]],[["Str","from above. A rainbow crosses over the falls to the east and a narrow"]],[["Str","path continues to the southwest.\""],")"],["      (DESC ",["Str","\"End of Rainbow\""],")"],["      (UP TO ON-RAINBOW IF RAINBOW-FLAG)"],["      (NE TO ON-RAINBOW IF RAINBOW-FLAG)"],["      (EAST TO ON-RAINBOW IF RAINBOW-FLAG)"],["      (SW TO CANYON-BOTTOM)"],["      (FLAGS RLANDBIT ONBIT)"],["      (GLOBAL GLOBAL-WATER RAINBOW RIVER)>"],[],["<ROOM CANYON-BOTTOM\t",["Comment",";\"was CLBOT\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are beneath the walls of the river canyon which may be climbable"]],[["Str","here. The lesser part of the runoff of Aragain Falls flows by below."]],[["Str","To the north is a narrow path.\""],")"],["      (DESC ",["Str","\"Canyon Bottom\""],")"],["      (UP TO CLIFF-MIDDLE)"],["      (NORTH TO END-OF-RAINBOW)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL GLOBAL-WATER CLIMBABLE-CLIFF RIVER)>"],[],["<ROOM CLIFF-MIDDLE\t",["Comment",";\"was CLMID\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are on a ledge about halfway up the wall of the river canyon."]],[["Str","You can see from here that the main flow from Aragain Falls twists"]],[["Str","along a passage which it is impossible for you to enter. Below you is the"]],[["Str","canyon bottom. Above you is more cliff, which appears"]],[["Str","climbable.\""],")"],["      (DESC ",["Str","\"Rocky Ledge\""],")"],["      (UP TO CANYON-VIEW)"],["      (DOWN TO CANYON-BOTTOM)"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL CLIMBABLE-CLIFF RIVER)>"],[],["<ROOM CANYON-VIEW\t",["Comment",";\"was CLTOP\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are at the top of the Great Canyon on its west wall. From here"]],[["Str","there is a marvelous view of the canyon and parts of the Frigid River"]],[["Str","upstream. Across the canyon, the walls of the White Cliffs join the"]],[["Str","mighty ramparts of the Flathead Mountains to the east. Following the"]],[["Str","Canyon upstream to the north, Aragain Falls may be seen, complete with"]],[["Str","rainbow. The mighty Frigid River flows out from a great dark cavern. To"]],[["Str","the west and south can be seen an immense forest, stretching for miles"]],[["Str","around. A path leads northwest. It is possible to climb down into"]],[["Str","the canyon from here.\""],")"],["      (DESC ",["Str","\"Canyon View\""],")"],["      (EAST TO CLIFF-MIDDLE)"],["      (DOWN TO CLIFF-MIDDLE)"],["      (NW TO CLEARING)"],["      (WEST TO FOREST-3)"],["      (SOUTH ",["Str","\"Storm-tossed trees block your way.\""],")"],["      (FLAGS RLANDBIT ONBIT SACREDBIT)"],["      (GLOBAL CLIMBABLE-CLIFF RIVER RAINBOW)"],["      (ACTION CANYON-VIEW-F)>"],[],["<ROUTINE CANYON-VIEW-F (RARG)"],["\t <COND (<AND <==? .RARG ,M-BEG>"],["\t\t     <VERB? LEAP>"],["\t\t     <NOT ,PRSO>>"],["\t\t<JIGS-UP ",["Str","\"Nice view, lousy place to jump.\""],">"],["\t\t<RTRUE>)>>"],[],[],["\\"],[],[["Str","\"SUBTITLE COAL MINE AREA\""]],[],["<ROOM MINE-ENTRANCE\t",["Comment",";\"was ENTRA\""]],["      (IN ROOMS)"],["      (LDESC"],[],[["Str","\"You are standing at the entrance of what might have been a coal mine."]],[["Str","The shaft enters the west wall, and there is another exit on the south"]],[["Str","end of the room.\""],")"],["      (DESC ",["Str","\"Mine Entrance\""],")"],["      (SOUTH TO SLIDE-ROOM)"],["      (IN TO SQUEEKY-ROOM)"],["      (WEST TO SQUEEKY-ROOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM SQUEEKY-ROOM\t",["Comment",";\"was SQUEE\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"You are in a small room. Strange squeaky sounds may be heard coming"]],[["Str","from the passage at the north end. You may also escape to the east.\""],")"],["      (DESC ",["Str","\"Squeaky Room\""],")"],["      (NORTH TO BAT-ROOM)"],["      (EAST TO MINE-ENTRANCE)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM BAT-ROOM\t",["Comment",";\"was BATS\""]],["      (IN ROOMS)"],["      (DESC ",["Str","\"Bat Room\""],")"],["      (SOUTH TO SQUEEKY-ROOM)"],["      (EAST TO SHAFT-ROOM)"],["      (ACTION BATS-ROOM)"],["      (FLAGS RLANDBIT SACREDBIT)>"],[],["<ROOM SHAFT-ROOM\t",["Comment",";\"was TSHAF\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a large room, in the middle of which is a small shaft"]],[["Str","descending through the floor into darkness below. To the west and"]],[["Str","the north are exits from this room. Constructed over the top of the"]],[["Str","shaft is a metal framework to which a heavy iron chain is attached.\""],")"],["      (DESC ",["Str","\"Shaft Room\""],")"],["      (DOWN ",["Str","\"You wouldn't fit and would die if you could.\""],")"],["      (WEST TO BAT-ROOM)"],["      (NORTH TO SMELLY-ROOM)"],["      (FLAGS RLANDBIT)"],["      (PSEUDO ",["Dict","\"CHAIN\""]," CHAIN-PSEUDO)>"],[],["<ROOM SMELLY-ROOM\t",["Comment",";\"was SMELL\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a small non-descript room. However, from the direction"]],[["Str","of a small descending staircase a foul odor can be detected. To the"]],[["Str","south is a narrow tunnel.\""],")"],["      (DESC ",["Str","\"Smelly Room\""],")"],["      (DOWN TO GAS-ROOM)"],["      (SOUTH TO SHAFT-ROOM)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL STAIRS)"],["      (PSEUDO ",["Dict","\"ODOR\""]," GAS-PSEUDO ",["Dict","\"GAS\""]," GAS-PSEUDO)>"],[],["<ROOM GAS-ROOM\t",["Comment",";\"was BOOM\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a small room which smells strongly of coal gas. There is a"]],[["Str","short climb up some stairs and a narrow tunnel leading east.\""],")"],["      (DESC ",["Str","\"Gas Room\""],")"],["      (UP TO SMELLY-ROOM)"],["      (EAST TO MINE-1)"],["      (ACTION BOOM-ROOM)"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (GLOBAL STAIRS)"],["      (PSEUDO ",["Dict","\"GAS\""]," GAS-PSEUDO ",["Dict","\"ODOR\""]," GAS-PSEUDO)>"],[],["<ROOM LADDER-TOP\t",["Comment",";\"was TLADD\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a very small room. In the corner is a rickety wooden"]],[["Str","ladder, leading downward. It might be safe to descend. There is"]],[["Str","also a staircase leading upward.\""],")"],["      (DESC ",["Str","\"Ladder Top\""],")"],["      (DOWN TO LADDER-BOTTOM)"],["      (UP TO MINE-4)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL LADDER STAIRS)>"],[],["<ROOM LADDER-BOTTOM\t",["Comment",";\"was BLADD\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a rather wide room. On one side is the bottom of a"]],[["Str","narrow wooden ladder. To the west and the south are passages"]],[["Str","leaving the room.\""],")"],["      (DESC ",["Str","\"Ladder Bottom\""],")"],["      (SOUTH TO DEAD-END-5)"],["      (WEST TO TIMBER-ROOM)"],["      (UP TO LADDER-TOP)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL LADDER)>"],[],["<ROOM DEAD-END-5\t",["Comment",";\"was DEAD7\""]],["      (IN ROOMS)"],["      (DESC ",["Str","\"Dead End\""],")"],["      (LDESC ",["Str","\"You have come to a dead end in the mine.\""],")"],["      (NORTH TO LADDER-BOTTOM)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM TIMBER-ROOM\t",["Comment",";\"was TIMBE\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a long and narrow passage, which is cluttered with broken"]],[["Str","timbers. A wide passage comes from the east and turns at the"]],[["Str","west end of the room into a very narrow passageway. From the west"]],[["Str","comes a strong draft.\""],")"],["      (DESC ",["Str","\"Timber Room\""],")"],["      (EAST TO LADDER-BOTTOM)"],["      (WEST TO LOWER-SHAFT"],["       IF EMPTY-HANDED"],["       ELSE ",["Str","\"You cannot fit through this passage with that load.\""],")"],["      (ACTION NO-OBJS)"],["      (FLAGS RLANDBIT SACREDBIT)>"],[],["<ROOM LOWER-SHAFT\t",["Comment",";\"was BSHAF\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a small drafty room in which is the bottom of a long"]],[["Str","shaft. To the south is a passageway and to the east a very narrow"]],[["Str","passage. In the shaft can be seen a heavy iron chain.\""],")"],["      (DESC ",["Str","\"Drafty Room\""],")"],["      (SOUTH TO MACHINE-ROOM)"],["      (OUT TO TIMBER-ROOM"],["       IF EMPTY-HANDED"],["       ELSE ",["Str","\"You cannot fit through this passage with that load.\""],")"],["      (EAST TO TIMBER-ROOM"],["       IF EMPTY-HANDED"],["       ELSE ",["Str","\"You cannot fit through this passage with that load.\""],")"],["      (ACTION NO-OBJS)"],["      (FLAGS RLANDBIT SACREDBIT)"],["      (PSEUDO ",["Dict","\"CHAIN\""]," CHAIN-PSEUDO)>"],[],["<ROOM MACHINE-ROOM\t",["Comment",";\"was MACHI\""]],["      (IN ROOMS)"],["      (DESC ",["Str","\"Machine Room\""],")"],["      (NORTH TO LOWER-SHAFT)"],["      (ACTION MACHINE-ROOM-FCN)"],["      (FLAGS RLANDBIT)>"],[],["\\"],[],[["Str","\"SUBTITLE COAL MINE\""]],[],["<ROOM MINE-1\t",["Comment",";\"was MINE1\""]],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (NORTH TO GAS-ROOM)"],["      (EAST TO MINE-1)"],["      (NE TO MINE-2)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM MINE-2\t",["Comment",";\"was MINE2\""]],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (NORTH TO MINE-2)"],["      (SOUTH TO MINE-1)"],["      (SE TO MINE-3)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM MINE-3\t",["Comment",";\"was MINE3\""]],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (SOUTH TO MINE-3)"],["      (SW TO MINE-4)"],["      (EAST TO MINE-2)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM MINE-4\t",["Comment",";\"was MINE4\""]],["      (IN ROOMS)"],["      (LDESC ",["Str","\"This is a non-descript part of a coal mine.\""],")"],["      (DESC ",["Str","\"Coal Mine\""],")"],["      (NORTH TO MINE-3)"],["      (WEST TO MINE-4)"],["      (DOWN TO LADDER-TOP)"],["      (FLAGS RLANDBIT)>"],[],["<ROOM SLIDE-ROOM\t",["Comment",";\"was SLIDE\""]],["      (IN ROOMS)"],["      (LDESC"],[["Str","\"This is a small chamber, which appears to have been part of a"]],[["Str","coal mine. On the south wall of the chamber the letters \\\"Granite"]],[["Str","Wall\\\" are etched in the rock. To the east is a long passage, and"]],[["Str","there is a steep metal slide twisting downward. To the north is"]],[["Str","a small opening.\""],")"],["      (DESC ",["Str","\"Slide Room\""],")"],["      (EAST TO COLD-PASSAGE)"],["      (NORTH TO MINE-ENTRANCE)"],["      (DOWN TO CELLAR)"],["      (FLAGS RLANDBIT)"],["      (GLOBAL SLIDE)>"],[],["\\"],[],[["Comment",";\"RANDOM TABLES FOR WALK-AROUND\""]],[],["<GLOBAL HOUSE-AROUND"],["  <LTABLE WEST-OF-HOUSE NORTH-OF-HOUSE EAST-OF-HOUSE SOUTH-OF-HOUSE"],["\t  WEST-OF-HOUSE>>"],[],["<GLOBAL FOREST-AROUND"],["  <LTABLE FOREST-1 FOREST-2 FOREST-3 PATH CLEARING FOREST-1>>"],[],["<GLOBAL IN-HOUSE-AROUND"],["  <LTABLE LIVING-ROOM KITCHEN ATTIC KITCHEN>>"],[],["<GLOBAL ABOVE-GROUND"],["  <LTABLE WEST-OF-HOUSE NORTH-OF-HOUSE EAST-OF-HOUSE SOUTH-OF-HOUSE"],["\t  FOREST-1 FOREST-2 FOREST-3 PATH CLEARING GRATING-CLEARING"],["\t  CANYON-VIEW>>"],[],[["Comment",";\"The GO routine must live here.\""]],[],["<ROUTINE GO ()"],["\t<ENABLE <QUEUE I-FIGHT -1>>"],["\t<QUEUE I-SWORD -1>"],["\t<ENABLE <QUEUE I-THIEF -1>>"],["\t<QUEUE I-CANDLES 40>"],["\t<QUEUE I-LANTERN 200>"],["\t<PUTP ,INFLATED-BOAT ,P?VTYPE ,NONLANDBIT>"],["\t<PUT ,DEF1-RES 1 <REST ,DEF1 2>>"],["\t<PUT ,DEF1-RES 2 <REST ,DEF1 4>>"],["\t<PUT ,DEF2-RES 2 <REST ,DEF2B 2>>"],["\t<PUT ,DEF2-RES 3 <REST ,DEF2B 4>>"],["\t<PUT ,DEF3-RES 1 <REST ,DEF3A 2>>"],["\t<PUT ,DEF3-RES 3 <REST ,DEF3B 2>>"],["\t<SETG HERE ,WEST-OF-HOUSE>"],["\t<THIS-IS-IT ,MAILBOX>"],["\t<COND (<NOT <FSET? ,HERE ,TOUCHBIT>>"],["\t       <V-VERSION>"],["\t       <CRLF>)>"],["\t<SETG LIT T>"],["\t<SETG WINNER ,ADVENTURER>"],["\t<SETG PLAYER ,WINNER>"],["\t<MOVE ,WINNER ,HERE>"],["\t<V-LOOK>"],["\t<MAIN-LOOP>"],["\t<AGAIN>>"]],"gclock.zil":[[["Str","\"GCLOCK for"]],[["Str","\t\t\t    The Zork Trilogy"]],[["Str","\t (c) Copyright 1983 Infocom, Inc.  All Rights Reserved\""]],[],["<CONSTANT C-TABLELEN 180>"],[],["<GLOBAL C-TABLE <ITABLE NONE 180>>"],[],["<GLOBAL C-DEMONS 180>"],[],["<GLOBAL C-INTS 180>"],[],["<CONSTANT C-INTLEN 6>"],[],["<CONSTANT C-ENABLED? 0>"],[],["<CONSTANT C-TICK 1>"],[],["<CONSTANT C-RTN 2>"],[],["<ROUTINE DEMON (RTN TICK ",["Str","\"AUX\""]," CINT)"],["\t #DECL ((RTN) ATOM (TICK) FIX (CINT) <PRIMTYPE VECTOR>)"],["\t <PUT <SET CINT <INT .RTN T>> ,C-TICK .TICK>"],["\t .CINT>"],[],["<ROUTINE QUEUE (RTN TICK ",["Str","\"AUX\""]," CINT)"],["\t #DECL ((RTN) ATOM (TICK) FIX (CINT) <PRIMTYPE VECTOR>)"],["\t <PUT <SET CINT <INT .RTN>> ,C-TICK .TICK>"],["\t .CINT>"],[],["<ROUTINE INT (RTN ",["Str","\"OPTIONAL\""]," (DEMON <>) E C INT)"],["\t #DECL ((RTN) ATOM (DEMON) <OR ATOM FALSE> (E C INT) <PRIMTYPE"],["\t\t\t\t\t\t\t      VECTOR>)"],["\t <SET E <REST ,C-TABLE ,C-TABLELEN>>"],["\t <SET C <REST ,C-TABLE ,C-INTS>>"],["\t <REPEAT ()"],["\t\t <COND (<==? .C .E>"],["\t\t\t<SETG C-INTS <- ,C-INTS ,C-INTLEN>>"],["\t\t\t<AND .DEMON <SETG C-DEMONS <- ,C-DEMONS ,C-INTLEN>>>"],["\t\t\t<SET INT <REST ,C-TABLE ,C-INTS>>"],["\t\t\t<PUT .INT ,C-RTN .RTN>"],["\t\t\t<RETURN .INT>)"],["\t\t       (<EQUAL? <GET .C ,C-RTN> .RTN> <RETURN .C>)>"],["\t\t <SET C <REST .C ,C-INTLEN>>>>"],[],["<GLOBAL CLOCK-WAIT <>>"],[],["<ROUTINE CLOCKER (",["Str","\"AUX\""]," C E TICK (FLG <>))"],["\t #DECL ((C E) <PRIMTYPE VECTOR> (TICK) FIX (FLG) <OR FALSE ATOM>)"],["\t <COND (,CLOCK-WAIT <SETG CLOCK-WAIT <>> <RFALSE>)>"],["\t <SET C <REST ,C-TABLE <COND (,P-WON ,C-INTS) (T ,C-DEMONS)>>>"],["\t <SET E <REST ,C-TABLE ,C-TABLELEN>>"],["\t <REPEAT ()"],["\t\t <COND (<==? .C .E>"],["\t\t\t<COND (<G? <SETG MOVES <+ ,MOVES 1>> 999>"],["\t\t\t       <SETG MOVES 0>)>"],["\t\t\t<RETURN .FLG>)"],["\t\t       (<NOT <0? <GET .C ,C-ENABLED?>>>"],["\t\t\t<SET TICK <GET .C ,C-TICK>>"],["\t\t\t<COND (<0? .TICK>)"],["\t\t\t      (T"],["\t\t\t       <PUT .C ,C-TICK <- .TICK 1>>"],["\t\t\t       <COND (<AND <NOT <G? .TICK 1>>"],["\t\t\t\t\t   <APPLY <GET .C ,C-RTN>>>"],["\t\t\t\t      <SET FLG T>)>)>)>"],["\t\t <SET C <REST .C ,C-INTLEN>>>>"]],"gglobals.zil":[["\t\t\t",["Str","\"Generic GLOBALS file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],[["Str","\"SUBTITLE GLOBAL OBJECTS\""]],[],["<OBJECT GLOBAL-OBJECTS"],["\t(FLAGS RMUNGBIT INVISIBLE TOUCHBIT SURFACEBIT TRYTAKEBIT"],["\t       OPENBIT SEARCHBIT TRANSBIT ONBIT RLANDBIT FIGHTBIT"],["\t       STAGGERED WEARBIT)>"],[],["<OBJECT ",["Id","LOCAL-GLOBALS"]],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","ZZMGCK"],")"],["\t(DESCFCN PATH-OBJECT)"],["        (GLOBAL GLOBAL-OBJECTS)"],["\t(ADVFCN 0)"],["\t(FDESC ",["Str","\"F\""],")"],["\t(LDESC ",["Str","\"F\""],")"],["\t(PSEUDO ",["Dict","\"FOOBAR\""]," V-WALK)"],["\t(CONTFCN 0)"],["\t(VTYPE 1)"],["\t(SIZE 0)"],["\t(CAPACITY 0)>"],[],[["Comment",";\"Yes, this synonym for LOCAL-GLOBALS needs to exist... sigh\""]],[],["<OBJECT ROOMS"],["\t(IN TO ROOMS)>"],[],["<OBJECT INTNUM"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","INTNUM"],")"],["\t(FLAGS TOOLBIT)"],["\t(DESC ",["Str","\"number\""],")>"],[],["<OBJECT PSEUDO-OBJECT"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(DESC ",["Str","\"pseudo\""],")"],["\t(ACTION CRETIN-FCN)>"],[],["<OBJECT IT"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","IT"]," ",["Dict","THEM"]," ",["Dict","HER"]," ",["Dict","HIM"],")"],["\t(DESC ",["Str","\"random object\""],")"],["\t(FLAGS NDESCBIT TOUCHBIT)>"],[],["<OBJECT NOT-HERE-OBJECT"],["\t(DESC ",["Str","\"such thing\""]," ",["Comment",";\"[not here]\""],")"],["\t(ACTION NOT-HERE-OBJECT-F)>"],[],["<ROUTINE NOT-HERE-OBJECT-F (",["Str","\"AUX\""]," TBL (PRSO? T) OBJ)"],["\t ",["Comment",";\"This COND is game independent (except the TELL)\""]],["\t <COND (<AND <EQUAL? ,PRSO ,NOT-HERE-OBJECT>"],["\t\t     <EQUAL? ,PRSI ,NOT-HERE-OBJECT>>"],["\t\t<TELL ",["Str","\"Those things aren't here!\""]," CR>"],["\t\t<RTRUE>)"],["\t       (<EQUAL? ,PRSO ,NOT-HERE-OBJECT>"],["\t\t<SET TBL ,P-PRSO>)"],["\t       (T"],["\t\t<SET TBL ,P-PRSI>"],["\t\t<SET PRSO? <>>)>"],["\t ",["Comment",";\"Here is the default 'cant see any' printer\""]],["\t <SETG P-CONT <>>"],["\t <SETG QUOTE-FLAG <>>"],["\t <COND (<EQUAL? ,WINNER ,PLAYER>"],["\t\t<TELL ",["Str","\"You can't see any\""],">"],["\t\t<NOT-HERE-PRINT .PRSO?>"],["\t\t<TELL ",["Str","\" here!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,WINNER ",["Str","\" seems confused. \\\"I don't see any\""],">"],["\t\t<NOT-HERE-PRINT .PRSO?>"],["\t\t<TELL ",["Str","\" here!\\\"\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE FIND-NOT-HERE (TBL PRSO? ",["Str","\"AUX\""]," M-F OBJ)"],["\t",["Comment",";\"Here is where special-case code goes. <MOBY-FIND .TBL> returns"]],[["Comment","\t   number of matches. If 1, then P-MOBY-FOUND is it. One may treat"]],[["Comment","\t   the 0 and >1 cases alike or different. It doesn't matter. Always"]],[["Comment","\t   return RFALSE (not handled) if you have resolved the problem.\""]],["\t<SET M-F <MOBY-FIND .TBL>>"],["\t",["Comment",";<COND (,DEBUG"]],[["Comment","\t       <TELL \"[Moby-found \" N .M-F \" objects\" \"]\" CR>)>"]],["\t<COND (<AND <G? .M-F 1>"],["\t\t    <SET OBJ <GETP <1 .TBL> ,P?GLOBAL>>>"],["\t       <SET M-F 1>"],["\t       <SETG P-MOBY-FOUND .OBJ>)>"],["\t<COND (<==? 1 .M-F>"],["\t       ",["Comment",";<COND (,DEBUG <TELL \"[Namely: \" D ,P-MOBY-FOUND \"]\" CR>)>"]],["\t       <COND (.PRSO? <SETG PRSO ,P-MOBY-FOUND>)"],["\t\t     (T <SETG PRSI ,P-MOBY-FOUND>)>"],["\t       <RFALSE>)"],["\t      (<NOT .PRSO?>"],["\t       <TELL ",["Str","\"You wouldn't find any\""],">"],["\t       <NOT-HERE-PRINT .PRSO?>"],["\t       <TELL ",["Str","\" there.\""]," CR>"],["\t       <RTRUE>)"],["\t      (T ,NOT-HERE-OBJECT)>>"],[],["<ROUTINE GLOBAL-NOT-HERE-PRINT (OBJ)"],["\t ",["Comment",";<COND (,P-MULT <SETG P-NOT-HERE <+ ,P-NOT-HERE 1>>)>"]],["\t <SETG P-CONT <>>"],["\t <SETG QUOTE-FLAG <>>"],["\t <TELL ",["Str","\"You can't see any\""],">"],["\t <COND (<EQUAL? .OBJ ,PRSO> <PRSO-PRINT>)"],["\t       (T <PRSI-PRINT>)>"],["\t <TELL ",["Str","\" here.\""]," CR>>"],[],["<ROUTINE NOT-HERE-PRINT (PRSO?)"],[" <COND (,P-OFLAG"],["\t<COND (,P-XADJ <TELL ",["Str","\" \""],"> <PRINTB ,P-XADJN>)>"],["\t<COND (,P-XNAM <TELL ",["Str","\" \""],"> <PRINTB ,P-XNAM>)>)"],["       (.PRSO?"],["\t<BUFFER-PRINT <GET ,P-ITBL ,P-NC1> <GET ,P-ITBL ,P-NC1L> <>>)"],["       (T"],["\t<BUFFER-PRINT <GET ,P-ITBL ,P-NC2> <GET ,P-ITBL ,P-NC2L> <>>)>>"],[],["<ROUTINE NULL-F (",["Str","\"OPTIONAL\""]," A1 A2)"],["\t <RFALSE>>"],[],["/^L"],[],[["Str","\"Objects shared by all three Zorks go here\""]],[],["<GLOBAL LOAD-MAX 100>"],[],["<GLOBAL LOAD-ALLOWED 100>"],[],["<OBJECT BLESSINGS"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","BLESSINGS"]," ",["Dict","GRACES"],")"],["\t(DESC ",["Str","\"blessings\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT STAIRS"],["\t(IN ",["Id","LOCAL-GLOBALS"],")"],["\t(SYNONYM ",["Dict","STAIRS"]," ",["Dict","STEPS"]," ",["Dict","STAIRCASE"]," ",["Dict","STAIRWAY"],")"],["\t(ADJECTIVE STONE DARK MARBLE FORBIDDING STEEP)"],["\t(DESC ",["Str","\"stairs\""],")"],["\t(FLAGS NDESCBIT CLIMBBIT)"],["\t(ACTION STAIRS-F)>"],[],["<ROUTINE STAIRS-F ()"],["\t <COND (<VERB? THROUGH>"],["\t\t<TELL"],[["Str","\"You should say whether you want to go up or down.\""]," CR>)>>"],[],["<OBJECT SAILOR"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","SAILOR"]," ",["Dict","FOOTPAD"]," ",["Dict","AVIATOR"],")"],["\t(DESC ",["Str","\"sailor\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION SAILOR-FCN)>"],[],["<ROUTINE SAILOR-FCN ()"],["\t  <COND (<VERB? HELLO>"],["\t\t <SETG HS <+ ,HS 1>>"],["\t\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t\t '<COND (<NOT <FSET? ,VIKING-SHIP ,INVISIBLE>>"],["\t\t                 <TELL"],[["Str","\"The seaman looks up and maneuvers the boat toward shore. He cries out \\\"I"]],[["Str","have waited three ages for someone to say those words and save me from"]],[["Str","sailing this endless ocean. Please accept this gift. You may find it"]],[["Str","useful!\\\" He throws something which falls near you in the sand, then sails"]],[["Str","off toward the west, singing a lively, but somewhat uncouth, sailor song.\""]," CR>"],["\t\t                 <FSET ,VIKING-SHIP ,INVISIBLE>"],["\t\t                 <MOVE ,VIAL ,HERE>)"],["\t\t                (<==? ,HERE ,FLATHEAD-OCEAN>"],["\t\t                 <COND (,SHIP-GONE"],["\t\t\t                <TELL ",["Str","\"Nothing happens anymore.\""]," CR>)"],["\t\t\t               (T"],["\t\t\t\t        <TELL ",["Str","\"Nothing happens yet.\""]," CR>)>)>)"],["\t\t\t(T"],["\t\t\t '<NULL-F>)>"],["\t\t <COND (<0? <MOD ,HS 20>>"],["\t\t\t<TELL ",["Str","\"You seem to be repeating yourself.\""]," CR>)"],["\t\t       (<0? <MOD ,HS 10>>"],["\t\t\t<TELL"],[["Str","\"I think that phrase is getting a bit worn out.\""]," CR>)"],["\t\t       (T"],["\t\t\t<TELL ",["Str","\"Nothing happens here.\""]," CR>)>)>>"],[],["<OBJECT GROUND"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","GROUND"]," ",["Dict","SAND"]," ",["Dict","DIRT"]," ",["Dict","FLOOR"],")"],["\t(DESC ",["Str","\"ground\""],")"],["\t(ACTION GROUND-FUNCTION)>"],[],["<ROUTINE GROUND-FUNCTION ()"],["\t <COND (<AND <VERB? PUT PUT-ON>"],["\t\t     <EQUAL? ,PRSI ,GROUND>>"],["\t\t<PERFORM ,V?DROP ,PRSO>"],["\t\t<RTRUE>)"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,HERE ,SANDY-CAVE>"],["\t\t\t <SAND-FUNCTION>))"],["\t\t      (T"],["\t\t       '(<NULL-F>"],["\t\t\t <RFALSE>))>"],["\t       (<VERB? DIG>"],["\t\t<TELL ",["Str","\"The ground is too hard for digging here.\""]," CR>)>>"],[],["<OBJECT GRUE"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","GRUE"],")"],["\t(ADJECTIVE LURKING SINISTER HUNGRY SILENT)"],["\t(DESC ",["Str","\"lurking grue\""],")"],["\t(ACTION GRUE-FUNCTION)>"],[],["<ROUTINE GRUE-FUNCTION ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The grue is a sinister, lurking presence in the dark places of the"]],[["Str","earth. Its favorite diet is adventurers, but its insatiable"]],[["Str","appetite is tempered by its fear of light. No grue has ever been"]],[["Str","seen by the light of day, and few have survived its fearsome jaws"]],[["Str","to tell the tale.\""]," CR>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"There is no grue here, but I'm sure there is at least one lurking"]],[["Str","in the darkness nearby. I wouldn't let my light go out if I were"]],[["Str","you!\""]," CR>)"],["\t  (<VERB? LISTEN>"],["\t   <TELL"],[["Str","\"It makes no sound but is always lurking in the darkness nearby.\""]," CR>)>>"],[],["<OBJECT LUNGS"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","LUNGS"]," ",["Dict","AIR"]," ",["Dict","MOUTH"]," ",["Dict","BREATH"],")"],["\t(DESC ",["Str","\"blast of air\""],")"],["\t(FLAGS NDESCBIT)>"],[],["<OBJECT ME"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","ME"]," ",["Dict","MYSELF"]," ",["Dict","SELF"]," ",["Dict","CRETIN"],")"],["\t(DESC ",["Str","\"you\""],")"],["\t(FLAGS ACTORBIT)"],["\t(ACTION CRETIN-FCN)>"],[],["<ROUTINE CRETIN-FCN ()"],["\t <COND (<VERB? TELL>"],["\t\t<SETG P-CONT <>>"],["\t\t<SETG QUOTE-FLAG <>>"],["\t\t<TELL"],[["Str","\"Talking to yourself is said to be a sign of impending mental collapse.\""]," CR>)"],["\t       (<AND <VERB? GIVE>"],["\t\t     <EQUAL? ,PRSI ,ME>>"],["\t\t<PERFORM ,V?TAKE ,PRSO>"],["\t\t<RTRUE>)"],["\t       (<VERB? MAKE>"],["\t\t<TELL ",["Str","\"Only you can do that.\""]," CR>)"],["\t       (<VERB? DISEMBARK>"],["\t\t<TELL ",["Str","\"You'll have to do that on your own.\""]," CR>)"],["\t       (<VERB? EAT>"],["\t\t<TELL ",["Str","\"Auto-cannibalism is not the answer.\""]," CR>)"],["\t       (<VERB? ATTACK MUNG>"],["\t\t<COND (<AND ,PRSI <FSET? ,PRSI ,WEAPONBIT>>"],["\t\t       <JIGS-UP ",["Str","\"If you insist.... Poof, you're dead!\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Suicide is not the answer.\""]," CR>)>)"],["\t       (<VERB? TAKE>"],["\t\t<TELL ",["Str","\"How romantic!\""]," CR>)"],["\t       (<VERB? EXAMINE>"],["\t\t<COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t      '(<EQUAL? ,HERE <LOC ,MIRROR-1> <LOC ,MIRROR-2>>"],["\t\t                <TELL"],[["Str","\"Your image in the mirror looks tired.\""]," CR>))"],["\t\t\t     (T"],["\t\t\t      '(<NULL-F> <RTRUE>))>"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"That's difficult unless your eyes are prehensile.\""]," CR>)>)>>"],[],["<OBJECT ADVENTURER"],["\t(SYNONYM ",["Dict","ADVENTURER"],")"],["\t(DESC ",["Str","\"cretin\""],")"],["\t(FLAGS NDESCBIT INVISIBLE SACREDBIT ACTORBIT)"],["\t(STRENGTH 0)"],["\t(ACTION 0)>"],[],["<OBJECT PATHOBJ"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","PASSAGE"]," ",["Dict","CRAWLWAY"]," ",["Dict","TRAIL"]," ",["Dict","PATH"],")"],["        (ADJECTIVE FOREST NARROW LONG WINDING)"],["\t(DESC ",["Str","\"way\""],")"],["\t(FLAGS NDESCBIT)"],["\t(ACTION PATH-OBJECT)>"],[],["<ROUTINE PATH-OBJECT ()"],["\t <COND (<VERB? TAKE FOLLOW>"],["\t\t<TELL ",["Str","\"You must specify a direction to go.\""]," CR>)"],["\t       (<VERB? FIND>"],["\t\t<TELL ",["Str","\"I can't help you there....\""]," CR>)"],["\t       (<VERB? DIG>"],["\t\t<TELL ",["Str","\"Not a chance.\""]," CR>)>>"],[],["<OBJECT ZORKMID"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","ZORKMID"],")"],["\t(DESC ",["Str","\"zorkmid\""],")"],["\t(ACTION ZORKMID-FUNCTION)>"],[],["<ROUTINE ZORKMID-FUNCTION ()"],["    <COND (<VERB? EXAMINE>"],["\t   <TELL"],[["Str","\"The zorkmid is the unit of currency of the Great Underground Empire.\""]," CR>)"],["\t  (<VERB? FIND>"],["\t   <TELL"],[["Str","\"The best way to find zorkmids is to go out and look for them.\""]," CR>)>>"],[],["<OBJECT HANDS"],["\t(IN GLOBAL-OBJECTS)"],["\t(SYNONYM ",["Dict","PAIR"]," ",["Dict","HANDS"]," ",["Dict","HAND"],")"],["\t(ADJECTIVE BARE)"],["\t(DESC ",["Str","\"pair of hands\""],")"],["\t(FLAGS NDESCBIT TOOLBIT)>"]],"gmacros.zil":[[["Str","\"GMACROS for"]],[["Str","\t\t\t    The Zork Trilogy"]],[["Str","\t (c) Copyright 1983 Infocom, Inc.  All Rights Reserved\""]],[],["<SETG C-ENABLED? 0>"],["<SETG C-ENABLED 1>"],["<SETG C-DISABLED 0>"],[],["<DEFMAC TELL (",["Str","\"ARGS\""]," A)"],["\t<FORM PROG ()"],["\t      !<MAPF ,LIST"],["\t\t     <FUNCTION (",["Str","\"AUX\""]," E P O)"],["\t\t\t  <COND (<EMPTY? .A> <MAPSTOP>)"],["\t\t\t\t(<SET E <NTH .A 1>>"],["\t\t\t\t <SET A <REST .A>>)>"],["\t\t\t  <COND (<TYPE? .E ATOM>"],["\t\t\t\t <COND (<OR <=? <SET P <SPNAME .E>>"],["\t\t\t\t\t\t",["Str","\"CRLF\""],">"],["\t\t\t\t\t    <=? .P ",["Str","\"CR\""],">>"],["\t\t\t\t\t<MAPRET '<CRLF>>)"],["\t\t\t\t       (<EMPTY? .A>"],["\t\t\t\t\t<ERROR INDICATOR-AT-END? .E>)"],["\t\t\t\t       (ELSE"],["\t\t\t\t\t<SET O <NTH .A 1>>"],["\t\t\t\t\t<SET A <REST .A>>"],["\t\t\t\t\t<COND (<OR <=? <SET P <SPNAME .E>>"],["\t\t\t\t\t\t       ",["Str","\"DESC\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"D\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"OBJ\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"O\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTD .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"A\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"AN\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTA .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"NUM\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"N\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTN .O>>)"],["\t\t\t\t\t      (<OR <=? .P ",["Str","\"CHAR\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"CHR\""],">"],["\t\t\t\t\t\t   <=? .P ",["Str","\"C\""],">>"],["\t\t\t\t\t       <MAPRET <FORM PRINTC .O>>)"],["\t\t\t\t\t      (ELSE"],["\t\t\t\t\t       <MAPRET"],["\t\t\t\t\t\t <FORM PRINT"],["\t\t\t\t\t\t       <FORM GETP .O .E>>>)>)>)"],["\t\t\t\t(<TYPE? .E STRING ZSTRING>"],["\t\t\t\t <MAPRET <FORM PRINTI .E>>)"],["\t\t\t\t(<TYPE? .E FORM LVAL GVAL>"],["\t\t\t\t <MAPRET <FORM PRINT .E>>)"],["\t\t\t\t(ELSE <ERROR UNKNOWN-TYPE .E>)>>>>>"],[],["<ROUTINE PRINTA (O)"],["\t <TELL ",["Str","\"a \""]," D .O>>"],[],["<DEFMAC VERB? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB PRSA .ATMS>>"],[],["<DEFMAC PRSO? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB PRSO .ATMS>>"],[],["<DEFMAC PRSI? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB PRSI .ATMS>>"],[],["<DEFMAC ROOM? (",["Str","\"ARGS\""]," ATMS)"],["\t<MULTIFROB HERE .ATMS>>"],[],["<ZSTR-OFF>"],[],["<DEFINE MULTIFROB (X ATMS ",["Str","\"AUX\""]," (OO (OR)) (O .OO) (L ()) ATM)"],["\t<REPEAT ()"],["\t\t<COND (<EMPTY? .ATMS>"],["\t\t       <RETURN!- <COND (<LENGTH? .OO 1> <ERROR .X>)"],["\t\t\t\t       (<LENGTH? .OO 2> <NTH .OO 2>)"],["\t\t\t\t       (ELSE <CHTYPE .OO FORM>)>>)>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<EMPTY? .ATMS> <RETURN!->)>"],["\t\t\t<SET ATM <NTH .ATMS 1>>"],["\t\t\t<SET L"],["\t\t\t     (<COND (<TYPE? .ATM ATOM>"],["\t\t\t\t     <FORM GVAL"],["\t\t\t\t\t   <COND (<==? .X PRSA>"],["\t\t\t\t\t\t  <PARSE"],["\t\t\t\t\t\t    <STRING ",["Str","\"V?\""]],["\t\t\t\t\t\t\t    <SPNAME .ATM>>>)"],["\t\t\t\t\t\t (ELSE .ATM)>>)"],["\t\t\t\t    (ELSE .ATM)>"],["\t\t\t      !.L)>"],["\t\t\t<SET ATMS <REST .ATMS>>"],["\t\t\t<COND (<==? <LENGTH .L> 3> <RETURN!->)>>"],["\t\t<SET O <REST <PUTREST .O (<FORM EQUAL? <FORM GVAL .X> !.L>)>>>"],["\t\t<SET L ()>>>"],[],["<DEFMAC BSET ('OBJ ",["Str","\"ARGS\""]," BITS)"],["\t<MULTIBITS FSET .OBJ .BITS>>"],[],["<DEFMAC BCLEAR ('OBJ ",["Str","\"ARGS\""]," BITS)"],["\t<MULTIBITS FCLEAR .OBJ .BITS>>"],[],["<DEFMAC BSET? ('OBJ ",["Str","\"ARGS\""]," BITS)"],["\t<MULTIBITS FSET? .OBJ .BITS>>"],[],["<DEFINE MULTIBITS (X OBJ ATMS ",["Str","\"AUX\""]," (O ()) ATM)"],["\t<REPEAT ()"],["\t\t<COND (<EMPTY? .ATMS>"],["\t\t       <RETURN!- <COND (<LENGTH? .O 1> <NTH .O 1>)"],["\t\t\t\t       (<==? .X FSET?> <FORM OR !.O>)"],["\t\t\t\t       (ELSE <FORM PROG () !.O>)>>)>"],["\t\t<SET ATM <NTH .ATMS 1>>"],["\t\t<SET ATMS <REST .ATMS>>"],["\t\t<SET O"],["\t\t     (<FORM .X"],["\t\t\t    .OBJ"],["\t\t\t    <COND (<TYPE? .ATM FORM> .ATM)"],["\t\t\t\t  (ELSE <FORM GVAL .ATM>)>>"],["\t\t      !.O)>>>"],[],["<ZSTR-ON>"],[],["<DEFMAC RFATAL ()"],["\t'<PROG () <PUSH 2> <RSTACK>>>"],[],["<DEFMAC PROB ('BASE? ",["Str","\"OPTIONAL\""]," 'LOSER?)"],["\t<COND (<ASSIGNED? LOSER?> <FORM ZPROB .BASE?>)"],["\t      (ELSE <FORM G? .BASE? '<RANDOM 100>>)>>"],[],["<ROUTINE ZPROB"],["\t (BASE)"],["\t <COND (,LUCKY <G? .BASE <RANDOM 100>>)"],["\t       (ELSE <G? .BASE <RANDOM 300>>)>>"],[],["<ROUTINE RANDOM-ELEMENT (FROB)"],["\t <GET .FROB <RANDOM <GET .FROB 0>>>>"],[],["<ROUTINE PICK-ONE (FROB"],["\t\t   ",["Str","\"AUX\""]," (L <GET .FROB 0>) (CNT <GET .FROB 1>) RND MSG RFROB)"],["\t <SET L <- .L 1>>"],["\t <SET FROB <REST .FROB 2>>"],["\t <SET RFROB <REST .FROB <* .CNT 2>>>"],["\t <SET RND <RANDOM <- .L .CNT>>>"],["\t <SET MSG <GET .RFROB .RND>>"],["\t <PUT .RFROB .RND <GET .RFROB 1>>"],["\t <PUT .RFROB 1 .MSG>"],["\t <SET CNT <+ .CNT 1>>"],["\t <COND (<==? .CNT .L> <SET CNT 0>)>"],["\t <PUT .FROB 0 .CNT>"],["\t .MSG>"],[],["<DEFMAC ENABLE ('INT) <FORM PUT .INT ,C-ENABLED? 1>>"],[],["<DEFMAC DISABLE ('INT) <FORM PUT .INT ,C-ENABLED? 0>>"],[],["<DEFMAC FLAMING? ('OBJ)"],["\t<FORM AND <FORM FSET? .OBJ ',FLAMEBIT>"],["\t          <FORM FSET? .OBJ ',ONBIT>>>"],[],["<DEFMAC OPENABLE? ('OBJ)"],["\t<FORM OR <FORM FSET? .OBJ ',DOORBIT>"],["\t         <FORM FSET? .OBJ ',CONTBIT>>>"],[],["<DEFMAC ABS ('NUM)"],["\t<FORM COND (<FORM L? .NUM 0> <FORM - 0 .NUM>)"],["\t           (T .NUM)>>"]],"gmain.zil":[["\t\t\t",["Str","\"Generic MAIN file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],["<GLOBAL PLAYER <>>"],[],["<GLOBAL P-WON <>>"],[],["<CONSTANT M-FATAL 2>"],[],["<CONSTANT M-HANDLED 1>"],[],["<CONSTANT M-NOT-HANDLED <>>"],[],["<CONSTANT M-OBJECT <>>"],[],["<CONSTANT M-BEG 1>"],[],["<CONSTANT M-END 6>"],[],["<CONSTANT M-ENTER 2>"],[],["<CONSTANT M-LOOK 3>"],[],["<CONSTANT M-FLASH 4>"],[],["<CONSTANT M-OBJDESC 5>"],[],[["Comment",";\"GO now lives in SPECIAL.ZIL\""]],[],[],["<ROUTINE MAIN-LOOP (",["Str","\"AUX\""]," ICNT OCNT NUM CNT OBJ TBL V PTBL OBJ1 TMP)"],["   <REPEAT ()"],["     <SET CNT 0>"],["     <SET OBJ <>>"],["     <SET PTBL T>"],["     <COND (<SETG P-WON <PARSER>>"],["\t    <SET ICNT <GET ,P-PRSI ,P-MATCHLEN>>"],["\t    <SET NUM"],["\t\t <COND (<0? <SET OCNT <GET ,P-PRSO ,P-MATCHLEN>>> .OCNT)"],["\t\t       (<G? .OCNT 1>"],["\t\t\t<SET TBL ,P-PRSO>"],["\t\t\t<COND (<0? .ICNT> <SET OBJ <>>)"],["\t\t\t      (T <SET OBJ <GET ,P-PRSI 1>>)>"],["\t\t\t.OCNT)"],["\t\t       (<G? .ICNT 1>"],["\t\t\t<SET PTBL <>>"],["\t\t\t<SET TBL ,P-PRSI>"],["\t\t\t<SET OBJ <GET ,P-PRSO 1>>"],["\t\t\t.ICNT)"],["\t\t       (T 1)>>"],["\t    <COND (<AND <NOT .OBJ> <1? .ICNT>> <SET OBJ <GET ,P-PRSI 1>>)>"],["\t    <COND (<==? ,PRSA ,V?WALK> <SET V <PERFORM ,PRSA ,PRSO>>)"],["\t\t  (<0? .NUM>"],["\t\t   <COND (<0? <BAND <GETB ,P-SYNTAX ,P-SBITS> ,P-SONUMS>>"],["\t\t\t  <SET V <PERFORM ,PRSA>>"],["\t\t\t  <SETG PRSO <>>)"],["\t\t\t (<NOT ,LIT>"],["\t\t\t  <TELL ",["Str","\"It's too dark to see.\""]," CR>)"],["\t\t\t (T"],["\t\t\t  <TELL ",["Str","\"It's not clear what you're referring to.\""]," CR>"],["\t\t\t  <SET V <>>)>)"],["\t\t  (T"],["\t\t   <SETG ",["Id","P-NOT-HERE"]," 0>"],["\t\t   <SETG P-MULT <>>"],["\t\t   <COND (<G? .NUM 1> <SETG P-MULT T>)>"],["\t\t   <SET TMP <>>"],["\t\t   <REPEAT ()"],["\t\t\t   <COND (<G? <SET CNT <+ .CNT 1>> .NUM>"],["\t\t\t\t  <COND (<G? ,",["Id","P-NOT-HERE"]," 0>"],["\t\t\t\t\t <TELL ",["Str","\"The \""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," .NUM>>"],["\t\t\t\t\t\t<TELL ",["Str","\"other \""],">)>"],["\t\t\t\t\t <TELL ",["Str","\"object\""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<TELL ",["Str","\"s\""],">)>"],["\t\t\t\t\t <TELL ",["Str","\" that you mentioned \""],">"],["\t\t\t\t\t <COND (<NOT <EQUAL? ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<TELL ",["Str","\"are\""],">)"],["\t\t\t\t\t       (T <TELL ",["Str","\"is\""],">)>"],["\t\t\t\t\t <TELL ",["Str","\"n't here.\""]," CR>)"],["\t\t\t\t\t(<NOT .TMP>"],["\t\t\t\t\t <TELL"],[["Str","\"There's nothing here you can take.\""]," CR>)>"],["\t\t\t\t  <RETURN>)"],["\t\t\t\t (T"],["\t\t\t\t  <COND (.PTBL <SET OBJ1 <GET ,P-PRSO .CNT>>)"],["\t\t\t\t\t(T <SET OBJ1 <GET ,P-PRSI .CNT>>)>"],["\t\t\t\t  <SETG PRSO <COND (.PTBL .OBJ1) (T .OBJ)>>"],["\t\t\t\t  <SETG PRSI <COND (.PTBL .OBJ) (T .OBJ1)>>"],["\t\t\t\t  <COND (<OR <G? .NUM 1>"],["\t\t\t\t\t     <EQUAL? <GET <GET ,P-ITBL ,P-NC1>"],["\t\t\t\t\t\t\t  0>"],["\t\t\t\t\t\t     ,W?ALL>>"],["\t\t\t\t\t <COND (<EQUAL? .OBJ1"],["\t\t\t\t\t\t\t,NOT-HERE-OBJECT>"],["\t\t\t\t\t\t<SETG ",["Id","P-NOT-HERE"]],["\t\t\t\t\t\t      <+ ,",["Id","P-NOT-HERE"]," 1>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (<AND <VERB? TAKE>"],["\t\t\t\t\t\t     ,PRSI"],["\t\t\t\t\t\t     <EQUAL? <GET <GET ,P-ITBL"],["\t\t\t\t\t\t\t\t       ,P-NC1>"],["\t\t\t\t\t\t\t\t  0>"],["\t\t\t\t\t\t\t     ,W?ALL>"],["\t\t\t\t\t\t     <NOT <IN? ,PRSO ,PRSI>>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (<AND <EQUAL? ,P-GETFLAGS"],["\t\t\t\t\t\t\t     ,P-ALL>"],["\t\t\t\t\t\t     <VERB? TAKE>"],["\t\t\t\t\t\t     <OR <AND <NOT <EQUAL?"],["\t\t\t\t\t\t\t       <LOC .OBJ1>"],["\t\t\t\t\t\t\t       ,WINNER"],["\t\t\t\t\t\t\t       ,HERE>>"],["\t\t\t\t\t\t\t      <NOT <FSET?"],["\t\t\t\t\t\t\t\t  <LOC .OBJ1>"],["\t\t\t\t\t\t\t\t ,SURFACEBIT>>>"],["\t\t\t\t\t\t\t <NOT <OR <FSET? .OBJ1"],["\t\t\t\t\t\t\t              ,TAKEBIT>"],["\t\t\t\t\t\t\t          <FSET? .OBJ1"],["\t\t\t\t\t\t\t       ,TRYTAKEBIT>>>>>"],["\t\t\t\t\t\t<AGAIN>)"],["\t\t\t\t\t       (T"],["\t\t\t\t\t\t<COND (<EQUAL? .OBJ1 ,IT>"],["\t\t\t\t\t\t       <PRINTD ,P-IT-OBJECT>)"],["\t\t\t\t\t\t      (T <PRINTD .OBJ1>)>"],["\t\t\t\t\t\t<TELL ",["Str","\": \""],">)>)>"],["\t\t\t\t  <SET TMP T>"],["\t\t\t\t  <SET V <PERFORM ,PRSA ,PRSO ,PRSI>>"],["\t\t\t\t  <COND (<==? .V ,M-FATAL> <RETURN>)>)>>)>"],["\t    <COND (<NOT <==? .V ,M-FATAL>>"],["\t\t   ",["Comment",";<COND (<==? <LOC ,WINNER> ,PRSO>"]],[["Comment","\t\t\t  <SETG PRSO <>>)>"]],["\t\t   <SET V <APPLY <GETP <LOC ,WINNER> ,P?ACTION> ,M-END>>)>"],["\t    <COND (<VERB? AGAIN WALK SAVE RESTORE SCORE VERSION ",["Comment",";WAIT"],"> T)"],["\t\t  (T"],["\t\t   <SETG L-PRSA ,PRSA>"],["\t\t   <SETG L-PRSO ,PRSO>"],["\t\t   <SETG L-PRSI ,PRSI>)>"],["\t    <COND (<==? .V ,M-FATAL> <SETG P-CONT <>>)>)"],["\t   (T"],["\t    <SETG P-CONT <>>)>"],["     <COND (,P-WON"],["\t    <COND (<VERB? TELL BRIEF SUPER-BRIEF VERBOSE SAVE VERSION"],["\t\t\t  QUIT RESTART SCORE SCRIPT UNSCRIPT RESTORE> T)"],["\t\t  (T <SET V <CLOCKER>>)>)>>>"],[],["<GLOBAL L-PRSA <>>"],[],["<GLOBAL L-PRSO <>>"],[],["<GLOBAL L-PRSI <>>"],[],["<GLOBAL P-MULT <>>"],[],["<GLOBAL ",["Id","P-NOT-HERE"]," 0>"],[],[],[],["%<COND (<GASSIGNED? PREDGEN>"],[],["'<ROUTINE PERFORM (A ",["Str","\"OPTIONAL\""]," (O <>) (I <>) ",["Str","\"AUX\""]," V OA OO OI)"],["\t",["Comment",";<COND (,DEBUG"]],[["Comment","\t       <TELL \"[Perform: \">"]],[["Comment","\t       %<COND (<GASSIGNED? PREDGEN> '<TELL N .A>)"]],[["Comment","\t\t      (T '<PRINC <NTH ,ACTIONS <+ <* .A 2> 1>>>)>"]],[["Comment","\t       <COND (<AND .O <NOT <==? .A ,V?WALK>>>"]],[["Comment","\t\t      <TELL \"/\" D .O>)>"]],[["Comment","\t       <COND (.I <TELL \"/\" D .I>)>"]],[["Comment","\t       <TELL \"]\" CR>)>"]],["\t<SET OA ,PRSA>"],["\t<SET OO ,PRSO>"],["\t<SET OI ,PRSI>"],["\t<COND (<AND <EQUAL? ,IT .I .O>"],["\t\t    <NOT <EQUAL? ,P-IT-LOC ,HERE>>>"],["\t       <TELL ",["Str","\"I don't see what you are referring to.\""]," CR>"],["\t       <RFATAL>)>"],["\t<COND (<==? .O ,IT> <SET O ,P-IT-OBJECT>)>"],["\t<COND (<==? .I ,IT> <SET I ,P-IT-OBJECT>)>"],["\t<SETG PRSA .A>"],["\t<SETG PRSO .O>"],["\t<COND (<AND ,PRSO <NOT <EQUAL? ,PRSI ,IT>> <NOT <VERB? WALK>>>"],["\t       <SETG P-IT-OBJECT ,PRSO>"],["\t       <SETG P-IT-LOC ,HERE>)>"],["\t<SETG PRSI .I>"],["\t<COND (<AND <EQUAL? ,NOT-HERE-OBJECT ,PRSO ,PRSI>"],["\t\t    <SET V <NOT-HERE-OBJECT-F>>> .V)"],["\t      (T"],["\t       <SET O ,PRSO>"],["\t       <SET I ,PRSI>"],["\t       <COND"],["\t\t(<SET V <APPLY <GETP ,WINNER ,P?ACTION>>> .V)"],["\t\t(<SET V <APPLY <GETP <LOC ,WINNER> ,P?ACTION> ,M-BEG>> .V)"],["\t\t(<SET V <APPLY <GET ,PREACTIONS .A>>> .V)"],["\t\t(<AND .I <SET V <APPLY <GETP .I ,P?ACTION>>>> .V)"],["\t\t(<AND .O"],["\t\t      <NOT <==? .A ,V?WALK>>"],["\t\t      <LOC .O>"],["\t\t      <SET V <APPLY <GETP <LOC .O> ,P?CONTFCN>>>>"],["\t\t .V)"],["\t\t(<AND .O"],["\t\t      <NOT <==? .A ,V?WALK>>"],["\t\t      <SET V <APPLY <GETP .O ,P?ACTION>>>>"],["\t\t .V)"],["\t\t(<SET V <APPLY <GET ,ACTIONS .A>>> .V)>)>"],["\t<SETG PRSA .OA>"],["\t<SETG PRSO .OO>"],["\t<SETG PRSI .OI>"],["\t.V>)"],["       (T"],[],["'<PROG ()"],[],["<SETG DEBUG <>>"],[],["<ROUTINE PERFORM (A ",["Str","\"OPTIONAL\""]," (O <>) (I <>) ",["Str","\"AUX\""]," V OA OO OI)"],["\t#DECL ((A) FIX (O) <OR FALSE OBJECT FIX> (I) <OR FALSE OBJECT> (V) ANY)"],["\t<COND (,DEBUG"],["\t       <TELL ",["Str","\"** PERFORM: PRSA = \""],">"],["\t       <PRINC <NTH ,ACTIONS <+ <* .A 2> 1>>>"],["\t       <COND (<AND .O <NOT <==? .A ,V?WALK>>>"],["\t\t      <TELL ",["Str","\" | PRSO = \""]," D .O>)>"],["\t       <COND (.I <TELL ",["Str","\" | PRSI = \""]," D .I>)>)>"],["\t<SET OA ,PRSA>"],["\t<SET OO ,PRSO>"],["\t<SET OI ,PRSI>"],["\t<COND (<AND <EQUAL? ,IT .I .O>"],["\t\t    <NOT <EQUAL? ,P-IT-LOC ,HERE>>>"],["\t       <TELL ",["Str","\"I don't see what you are referring to.\""]," CR>"],["\t       <RFATAL>)>"],["\t<COND (<==? .O ,IT> <SET O ,P-IT-OBJECT>)>"],["\t<COND (<==? .I ,IT> <SET I ,P-IT-OBJECT>)>"],["\t<SETG PRSA .A>"],["\t<SETG PRSO .O>"],["\t<COND (<AND ,PRSO <NOT <VERB? WALK>>>"],["\t       <SETG P-IT-OBJECT ,PRSO>"],["\t       <SETG P-IT-LOC ,HERE>)>"],["\t<SETG PRSI .I>"],["\t<COND (<AND <EQUAL? ,NOT-HERE-OBJECT ,PRSO ,PRSI>"],["\t\t    <SET V <D-APPLY ",["Str","\"Not Here\""]," ,NOT-HERE-OBJECT-F>>> .V)"],["\t      (T"],["\t       <SET O ,PRSO>"],["\t       <SET I ,PRSI>"],["\t       <COND (<SET V <DD-APPLY ",["Str","\"Actor\""]," ,WINNER"],["\t\t\t\t      <GETP ,WINNER ,P?ACTION>>> .V)"],["\t\t     (<SET V <D-APPLY ",["Str","\"Room (M-BEG)\""]],["\t\t\t\t      <GETP <LOC ,WINNER> ,P?ACTION>"],["\t\t\t\t      ,M-BEG>> .V)"],["\t\t     (<SET V <D-APPLY ",["Str","\"Preaction\""]],["\t\t\t\t      <GET ,PREACTIONS .A>>> .V)"],["\t\t     (<AND .I <SET V <D-APPLY ",["Str","\"PRSI\""]],["\t\t\t\t\t      <GETP .I ,P?ACTION>>>> .V)"],["\t\t     (<AND .O"],["\t\t\t   <NOT <==? .A ,V?WALK>>"],["\t\t\t   <LOC .O>"],["\t\t\t   <GETP <LOC .O> ,P?CONTFCN>"],["\t\t\t   <SET V <DD-APPLY ",["Str","\"Container\""]," <LOC .O>"],["\t\t\t\t\t   <GETP <LOC .O> ,P?CONTFCN>>>>"],["\t\t      .V)"],["\t\t     (<AND .O"],["\t\t\t   <NOT <==? .A ,V?WALK>>"],["\t\t\t   <SET V <D-APPLY ",["Str","\"PRSO\""]],["\t\t\t\t\t   <GETP .O ,P?ACTION>>>>"],["\t\t      .V)"],["\t\t     (<SET V <D-APPLY <>"],["\t\t\t\t      <GET ,ACTIONS .A>>> .V)>)>"],["\t<SETG PRSA .OA>"],["\t<SETG PRSO .OO>"],["\t<SETG PRSI .OI>"],["\t.V>"],[],["<DEFINE D-APPLY (STR FCN ",["Str","\"OPTIONAL\""]," FOO ",["Str","\"AUX\""]," RES)"],["\t<COND (<NOT .FCN> <>)"],["\t      (T"],["\t       <COND (,DEBUG"],["\t\t      <COND (<NOT .STR>"],["\t\t\t     <TELL CR ",["Str","\"  Default ->\""]," CR>)"],["\t\t\t    (T <TELL CR ",["Str","\"  \""]," .STR ",["Str","\" -> \""],">)>)>"],["\t       <SET RES"],["\t\t    <COND (<ASSIGNED? FOO>"],["\t\t\t   <APPLY .FCN .FOO>)"],["\t\t\t  (T <APPLY .FCN>)>>"],["\t       <COND (<AND ,DEBUG .STR>"],["\t\t      <COND (<==? .RES 2>"],["\t\t\t     <TELL ",["Str","\"Fatal\""]," CR>)"],["\t\t\t    (<NOT .RES>"],["\t\t\t     <TELL ",["Str","\"Not handled\""],">)"],["\t\t\t    (T <TELL ",["Str","\"Handled\""]," CR>)>)>"],["\t       .RES)>>"],[],["<ROUTINE DD-APPLY (STR OBJ FCN ",["Str","\"OPTIONAL\""]," (FOO <>))"],["\t<COND (,DEBUG <TELL ",["Str","\"[\""]," D .OBJ ",["Str","\"=]\""],">)>"],["\t<D-APPLY .STR .FCN .FOO>>"],[">)>"],[]],"gparser.zil":[["\t\t\t",["Str","\"Generic PARSER file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/28/83 by MARC\""]],[],[["Comment",";\"WHICH and TRAP retrofixes installed\""]],[],[["Str","\"Parser global variable convention:  All parser globals will"]],[["Str","  begin with 'P-'.  Local variables are not restricted in any"]],[["Str","  way."]],[["Str","\""]],[],["<SETG SIBREAKS ",["Str","\".,\\\"\""],">"],[],["<GLOBAL GWIM-DISABLE <>>"],[],["<GLOBAL PRSA <>>"],[],["<GLOBAL PRSI <>>"],[],["<GLOBAL PRSO <>>"],[],["<GLOBAL P-TABLE 0>"],[],["<GLOBAL P-ONEOBJ 0>"],[],["<GLOBAL P-SYNTAX 0>"],[],["<GLOBAL P-CCSRC 0>"],[],["<GLOBAL P-LEN 0>"],[],["<GLOBAL P-DIR 0>"],[],["<GLOBAL HERE 0>"],[],["<GLOBAL WINNER 0>"],[],["<GLOBAL P-LEXV <ITABLE BYTE 120>>"],[["Comment",";\"INBUF - Input buffer for READ\""]],[],["<GLOBAL P-INBUF <ITABLE BYTE 100>>"],[["Comment",";\"Parse-cont variable\""]],[],["<GLOBAL P-CONT <>>"],[],["<GLOBAL P-IT-OBJECT <>>"],["<GLOBAL P-IT-LOC <>>"],[],[["Comment",";\"Orphan flag\""]],[],["<GLOBAL P-OFLAG <>>"],[],["<GLOBAL P-MERGED <>>"],[],["<GLOBAL P-ACLAUSE <>>"],[],["<GLOBAL P-ANAM <>>"],[],["<GLOBAL P-AADJ <>>"],[["Comment",";\"Parser variables and temporaries\""]],[],["<CONSTANT P-PHRLEN 3>"],[],["<CONSTANT P-ORPHLEN 7>"],[],["<CONSTANT P-RTLEN 3>"],[["Comment",";\"Byte offset to # of entries in LEXV\""]],[],["<CONSTANT P-LEXWORDS 1>"],[["Comment",";\"Word offset to start of LEXV entries\""]],[],["<CONSTANT P-LEXSTART 1>"],[["Comment",";\"Number of words per LEXV entry\""]],[],["<CONSTANT P-LEXELEN 2>"],[],["<CONSTANT P-WORDLEN 4>"],[["Comment",";\"Offset to parts of speech byte\""]],[],["<CONSTANT P-PSOFF 4>"],[["Comment",";\"Offset to first part of speech\""]],[],["<CONSTANT P-P1OFF 5>"],[["Comment",";\"First part of speech bit mask in PSOFF byte\""]],[],["<CONSTANT P-P1BITS 3>"],[],["<CONSTANT P-ITBLLEN 9>"],[],["<GLOBAL P-ITBL <TABLE 0 0 0 0 0 0 0 0 0 0>>"],[],["<GLOBAL P-OTBL <TABLE 0 0 0 0 0 0 0 0 0 0>>"],[],["<GLOBAL P-VTBL <TABLE 0 0 0 0>>"],[],["<GLOBAL P-NCN 0>"],[],["<CONSTANT P-VERB 0>"],[],["<CONSTANT P-VERBN 1>"],[],["<CONSTANT P-PREP1 2>"],[],["<CONSTANT P-PREP1N 3>"],[],["<CONSTANT P-PREP2 4>"],[],["<CONSTANT P-PREP2N 5>"],[],["<CONSTANT P-NC1 6>"],[],["<CONSTANT P-NC1L 7>"],[],["<CONSTANT P-NC2 8>"],[],["<CONSTANT P-NC2L 9>"],[],["<GLOBAL QUOTE-FLAG <>>"],[],[["Str","\" Grovel down the input finding the verb, prepositions, and noun clauses."]],[["Str","   If the input is <direction> or <walk> <direction>, fall out immediately"]],[["Str","   setting PRSA to ,V?WALK and PRSO to <direction>.  Otherwise, perform"]],[["Str","   all required orphaning, syntax checking, and noun clause lookup.\""]],[],["<ROUTINE PARSER (",["Str","\"AUX\""]," (PTR ,P-LEXSTART) WRD (VAL 0) (VERB <>)"],["\t\t       LEN (DIR <>) (NW 0) (LW 0) NUM SCNT (CNT -1))"],["\t<REPEAT ()"],["\t\t<COND (<G? <SET CNT <+ .CNT 1>> ,P-ITBLLEN> <RETURN>)"],["\t\t      (T <PUT ,P-ITBL .CNT 0>)>>"],["\t<SETG P-ADVERB <>>"],["\t<SETG P-MERGED <>>"],["\t<PUT ,P-PRSO ,P-MATCHLEN 0>"],["\t<PUT ,P-PRSI ,P-MATCHLEN 0>"],["\t<PUT ,P-BUTS ,P-MATCHLEN 0>"],["\t<COND (<AND <NOT ,QUOTE-FLAG> <N==? ,WINNER ,PLAYER>>"],["\t       <SETG WINNER ,PLAYER>"],["\t       <COND (<NOT <FSET? <LOC ,WINNER> ,VEHBIT>>"],["\t\t      <SETG HERE <LOC ,WINNER>>)>"],["\t       <SETG LIT <LIT? ,HERE>>)>"],["\t<COND (,P-CONT"],["\t       <SET PTR ,P-CONT>"],["\t       <COND (<AND <NOT ,SUPER-BRIEF>"],["\t\t\t   <==? ,PLAYER ,WINNER>"],["\t\t\t   <NOT <VERB? SAY>>>"],["\t\t      <CRLF>)>"],["\t       <SETG P-CONT <>>)"],["\t      (T"],["\t       <SETG WINNER ,PLAYER>"],["\t       <SETG QUOTE-FLAG <>>"],["\t       <COND (<NOT <FSET? <LOC ,WINNER> ,VEHBIT>>"],["\t\t      <SETG HERE <LOC ,WINNER>>)>"],["\t       <SETG LIT <LIT? ,HERE>>"],["\t       <COND (<NOT ,SUPER-BRIEF> <CRLF>)>"],["\t       <TELL ",["Str","\">\""],">"],["\t       <READ ,P-INBUF ,P-LEXV>)>"],["\t<SETG P-LEN <GETB ,P-LEXV ,P-LEXWORDS>>"],["\t<COND (<0? ,P-LEN> <TELL ",["Str","\"I beg your pardon?\""]," CR> <RFALSE>)>"],["\t<SET LEN ,P-LEN>"],["\t<SETG P-DIR <>>"],["\t<SETG P-NCN 0>"],["\t<SETG P-GETFLAGS 0>"],["\t<REPEAT ()"],["\t\t<COND (<L? <SETG P-LEN <- ,P-LEN 1>> 0>"],["\t\t       <SETG QUOTE-FLAG <>>"],["\t\t       <RETURN>)"],["\t\t      (<OR <SET WRD <GET ,P-LEXV .PTR>>"],["\t\t\t   <SET WRD <NUMBER? .PTR>>>"],["\t\t       <COND (<AND <==? .WRD ,W?TO>"],["\t\t\t\t   <EQUAL? .VERB ,ACT?TELL ",["Comment",";,ACT?ASK"],">>"],["\t\t\t      <SET WRD ,W?QUOTE>)"],["\t\t\t     (<AND <==? .WRD ,W?THEN>"],["\t\t\t\t   <NOT .VERB>"],["\t\t\t\t   <NOT ,QUOTE-FLAG> ",["Comment",";\"Last NOT added 7/3\""],">"],["\t\t\t      <PUT ,P-ITBL ,P-VERB ,ACT?TELL>"],["\t\t\t      <PUT ,P-ITBL ,P-VERBN 0>"],["\t\t\t      <SET WRD ,W?QUOTE>)>"],["\t\t       <COND (<OR <EQUAL? .WRD ,W?THEN ,W?PERIOD>"],["\t\t\t\t  <EQUAL? .WRD ,W?QUOTE>>"],["\t\t\t      <COND (<EQUAL? .WRD ,W?QUOTE>"],["\t\t\t\t     <COND (,QUOTE-FLAG"],["\t\t\t\t\t    <SETG QUOTE-FLAG <>>)"],["\t\t\t\t\t   (T <SETG QUOTE-FLAG T>)>)>"],["\t\t\t      <OR <0? ,P-LEN>"],["\t\t\t\t  <SETG P-CONT <+ .PTR ,P-LEXELEN>>>"],["\t\t\t      <PUTB ,P-LEXV ,P-LEXWORDS ,P-LEN>"],["\t\t\t      <RETURN>)"],["\t\t\t     (<AND <SET VAL"],["\t\t\t\t\t<WT? .WRD"],["\t\t\t\t\t     ,PS?DIRECTION"],["\t\t\t\t\t     ,P1?DIRECTION>>"],["\t\t\t\t   <EQUAL? .VERB <> ,ACT?WALK>"],["\t\t\t\t   <OR <==? .LEN 1>"],["\t\t\t\t       <AND <==? .LEN 2>"],["\t\t\t\t\t    <EQUAL? .VERB ,ACT?WALK>>"],["\t\t\t\t       <AND <EQUAL? <SET NW"],["\t\t\t\t\t\t     <GET ,P-LEXV"],["\t\t\t\t\t\t\t  <+ .PTR ,P-LEXELEN>>>"],["\t\t\t\t\t            ,W?THEN"],["\t\t\t\t\t            ,W?PERIOD"],["\t\t\t\t\t            ,W?QUOTE>"],["\t\t\t\t\t    <NOT <L? .LEN 2>>>"],["\t\t\t\t       <AND ,QUOTE-FLAG"],["\t\t\t\t\t    <==? .LEN 2>"],["\t\t\t\t\t    <EQUAL? .NW ,W?QUOTE>>"],["\t\t\t\t       <AND <G? .LEN 2>"],["\t\t\t\t\t    <EQUAL? .NW ,W?COMMA ,W?AND>>>>"],["\t\t\t      <SET DIR .VAL>"],["\t\t\t      <COND (<EQUAL? .NW ,W?COMMA ,W?AND>"],["\t\t\t\t     <PUT ,P-LEXV"],["\t\t\t\t\t  <+ .PTR ,P-LEXELEN>"],["\t\t\t\t\t  ,W?THEN>)>"],["\t\t\t      <COND (<NOT <G? .LEN 2>>"],["\t\t\t\t     <SETG QUOTE-FLAG <>>"],["\t\t\t\t     <RETURN>)>)"],["\t\t\t     (<AND <SET VAL <WT? .WRD ,PS?VERB ,P1?VERB>>"],["\t\t\t\t   <NOT .VERB>>"],["\t\t\t      <SET VERB .VAL>"],["\t\t\t      <PUT ,P-ITBL ,P-VERB .VAL>"],["\t\t\t      <PUT ,P-ITBL ,P-VERBN ,P-VTBL>"],["\t\t\t      <PUT ,P-VTBL 0 .WRD>"],["\t\t\t      <PUTB ,P-VTBL 2 <GETB ,P-LEXV"],["\t\t\t\t\t\t    <SET NUM"],["\t\t\t\t\t\t\t <+ <* .PTR 2> 2>>>>"],["\t\t\t      <PUTB ,P-VTBL 3 <GETB ,P-LEXV <+ .NUM 1>>>)"],["\t\t\t     (<OR <SET VAL <WT? .WRD ,PS?PREPOSITION 0>>"],["\t\t\t\t  <AND <OR <EQUAL? .WRD ,W?ALL ,W?ONE ",["Comment",";,W?A"],">"],["\t\t\t\t\t   <WT? .WRD ,PS?ADJECTIVE>"],["\t\t\t\t\t   <WT? .WRD ,PS?OBJECT>>"],["\t\t\t\t       <SET VAL 0>>>"],["\t\t\t      <COND (<AND <G? ,P-LEN 0>"],["\t\t\t\t\t  <==? <GET ,P-LEXV"],["\t\t\t\t\t\t    <+ .PTR ,P-LEXELEN>>"],["\t\t\t\t\t       ,W?OF>"],["\t\t\t\t\t  <0? .VAL>"],["\t\t\t\t\t  <NOT"],["\t\t\t\t\t   <EQUAL? .WRD ,W?ALL ,W?ONE ,W?A>>>)"],["\t\t\t\t    (<AND <NOT <0? .VAL>>"],["\t\t\t\t          <OR <0? ,P-LEN>"],["\t\t\t\t\t      <EQUAL? <GET ,P-LEXV <+ .PTR 2>>"],["\t\t\t\t\t\t      ,W?THEN ,W?PERIOD>>>"],["\t\t\t\t     <COND (<L? ,P-NCN 2>"],["\t\t\t\t\t    <PUT ,P-ITBL ,P-PREP1 .VAL>"],["\t\t\t\t\t    <PUT ,P-ITBL ,P-PREP1N .WRD>)>)"],["\t\t\t\t    (<==? ,P-NCN 2>"],["\t\t\t\t     <TELL"],[["Str","\"There were too many nouns in that sentence.\""]," CR>"],["\t\t\t\t     <RFALSE>)"],["\t\t\t\t    (T"],["\t\t\t\t     <SETG P-NCN <+ ,P-NCN 1>>"],["\t\t\t\t     <OR <SET PTR <CLAUSE .PTR .VAL .WRD>>"],["\t\t\t\t\t <RFALSE>>"],["\t\t\t\t     <COND (<L? .PTR 0>"],["\t\t\t\t\t    <SETG QUOTE-FLAG <>>"],["\t\t\t\t\t    <RETURN>)>)>)"],["\t\t\t     (<WT? .WRD ,PS?BUZZ-WORD>)"],["\t\t\t     (<AND <EQUAL? .VERB ,ACT?TELL>"],["\t\t\t\t   <WT? .WRD ,PS?VERB ,P1?VERB>>"],["\t\t\t      <TELL"],[["Str","\"Please consult your manual for the correct way to talk to other people"]],[["Str","or creatures.\""]," CR>"],["\t\t\t      <RFALSE>)"],["\t\t\t     (T"],["\t\t\t      <CANT-USE .PTR>"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T"],["\t\t       <UNKNOWN-WORD .PTR>"],["\t\t       <RFALSE>)>"],["\t\t<SET LW .WRD>"],["\t\t<SET PTR <+ .PTR ,P-LEXELEN>>>"],["\t<COND (.DIR"],["\t       <SETG PRSA ,V?WALK>"],["\t       <SETG PRSO .DIR>"],["\t       <SETG P-WALK-DIR .DIR>"],["\t       <RETURN T>)>"],["\t<SETG P-WALK-DIR <>>"],["\t<COND (,P-OFLAG <ORPHAN-MERGE>)>"],["\t<COND (<AND <SYNTAX-CHECK> <SNARF-OBJECTS> <MANY-CHECK> <TAKE-CHECK>>"],["\t       T)>>"],[],[],["<GLOBAL P-WALK-DIR <>>"],[],[["Comment",";\"Check whether word pointed at by PTR is the correct part of speech."]],[["Comment","   The second argument is the part of speech (,PS?<part of speech>).  The"]],[["Comment","   3rd argument (,P1?<part of speech>), if given, causes the value"]],[["Comment","   for that part of speech to be returned.\""]],[],["<ROUTINE WT? (PTR BIT ",["Str","\"OPTIONAL\""]," (B1 5) ",["Str","\"AUX\""]," (OFFS ,P-P1OFF) TYP)"],["\t<COND (<BTST <SET TYP <GETB .PTR ,P-PSOFF>> .BIT>"],["\t       <COND (<G? .B1 4> <RTRUE>)"],["\t\t     (T"],["\t\t      <SET TYP <BAND .TYP ,P-P1BITS>>"],["\t\t      <COND (<NOT <==? .TYP .B1>> <SET OFFS <+ .OFFS 1>>)>"],["\t\t      <GETB .PTR .OFFS>)>)>>"],[],[["Comment",";\" Scan through a noun clause, leave a pointer to its starting location\""]],[],["<ROUTINE CLAUSE (PTR VAL WRD ",["Str","\"AUX\""]," OFF NUM (ANDFLG <>) (FIRST?? T) NW (LW 0))"],["\t<SET OFF <* <- ,P-NCN 1> 2>>"],["\t<COND (<NOT <==? .VAL 0>>"],["\t       <PUT ,P-ITBL <SET NUM <+ ,P-PREP1 .OFF>> .VAL>"],["\t       <PUT ,P-ITBL <+ .NUM 1> .WRD>"],["\t       <SET PTR <+ .PTR ,P-LEXELEN>>)"],["\t      (T <SETG P-LEN <+ ,P-LEN 1>>)>"],["\t<COND (<0? ,P-LEN> <SETG P-NCN <- ,P-NCN 1>> <RETURN -1>)>"],["\t<PUT ,P-ITBL <SET NUM <+ ,P-NC1 .OFF>> <REST ,P-LEXV <* .PTR 2>>>"],["\t<COND (<EQUAL? <GET ,P-LEXV .PTR> ,W?THE ,W?A ,W?AN>"],["\t       <PUT ,P-ITBL .NUM <REST <GET ,P-ITBL .NUM> 4>>)>"],["\t<REPEAT ()"],["\t\t<COND (<L? <SETG P-LEN <- ,P-LEN 1>> 0>"],["\t\t       <PUT ,P-ITBL <+ .NUM 1> <REST ,P-LEXV <* .PTR 2>>>"],["\t\t       <RETURN -1>)>"],["\t\t<COND (<OR <SET WRD <GET ,P-LEXV .PTR>>"],["\t\t\t   <SET WRD <NUMBER? .PTR>>>"],["\t\t       <COND (<0? ,P-LEN> <SET NW 0>)"],["\t\t\t     (T <SET NW <GET ,P-LEXV <+ .PTR ,P-LEXELEN>>>)>"],["\t\t       <COND (<EQUAL? .WRD ,W?AND ,W?COMMA> <SET ANDFLG T>)"],["\t\t\t     (<EQUAL? .WRD ,W?ALL ,W?ONE>"],["\t\t\t      <COND (<==? .NW ,W?OF>"],["\t\t\t\t     <SETG P-LEN <- ,P-LEN 1>>"],["\t\t\t\t     <SET PTR <+ .PTR ,P-LEXELEN>>)>)"],["\t\t\t     (<OR <EQUAL? .WRD ,W?THEN ,W?PERIOD>"],["\t\t\t\t  <AND <WT? .WRD ,PS?PREPOSITION>"],["\t\t\t\t       <GET ,P-ITBL ,P-VERB>"],["\t\t\t\t          ",["Comment",";\"ADDED 4/27 FOR TURTLE,UP\""]],["\t\t\t\t       <NOT .FIRST??>>>"],["\t\t\t      <SETG P-LEN <+ ,P-LEN 1>>"],["\t\t\t      <PUT ,P-ITBL"],["\t\t\t\t   <+ .NUM 1>"],["\t\t\t\t   <REST ,P-LEXV <* .PTR 2>>>"],["\t\t\t      <RETURN <- .PTR ,P-LEXELEN>>)"],["\t\t\t     (<WT? .WRD ,PS?OBJECT>"],["\t\t\t      <COND (<AND <G? ,P-LEN 0>"],["\t\t\t\t\t  <EQUAL? .NW ,W?OF>"],["\t\t\t\t\t  <NOT <EQUAL? .WRD ,W?ALL ,W?ONE>>>"],["\t\t\t\t     T)"],["\t\t\t\t    (<AND <WT? .WRD"],["\t\t\t\t\t       ,PS?ADJECTIVE"],["\t\t\t\t\t       ,P1?ADJECTIVE>"],["\t\t\t\t\t  <NOT <==? .NW 0>>"],["\t\t\t\t\t  <WT? .NW ,PS?OBJECT>>)"],["\t\t\t\t    (<AND <NOT .ANDFLG>"],["\t\t\t\t\t  <NOT <EQUAL? .NW ,W?BUT ,W?EXCEPT>>"],["\t\t\t\t\t  <NOT <EQUAL? .NW ,W?AND ,W?COMMA>>>"],["\t\t\t\t     <PUT ,P-ITBL"],["\t\t\t\t\t  <+ .NUM 1>"],["\t\t\t\t\t  <REST ,P-LEXV <* <+ .PTR 2> 2>>>"],["\t\t\t\t     <RETURN .PTR>)"],["\t\t\t\t    (T <SET ANDFLG <>>)>)"],["\t\t\t     (<AND <OR ,P-MERGED"],["\t\t\t\t       ,P-OFLAG"],["\t\t\t\t       <NOT <EQUAL? <GET ,P-ITBL ,P-VERB> 0>>>"],["\t\t\t\t   <OR <WT? .WRD ,PS?ADJECTIVE>"],["\t\t\t\t       <WT? .WRD ,PS?BUZZ-WORD>>>)"],["\t\t\t     (<AND .ANDFLG"],["\t\t\t\t   <OR <WT? .WRD ,PS?DIRECTION>"],["\t\t\t\t       <WT? .WRD ,PS?VERB>>>"],["\t\t\t      <SET PTR <- .PTR 4>>"],["\t\t\t      <PUT ,P-LEXV <+ .PTR 2> ,W?THEN>"],["\t\t\t      <SETG P-LEN <+ ,P-LEN 2>>)"],["\t\t\t     (<WT? .WRD ,PS?PREPOSITION> T)"],["\t\t\t     (T"],["\t\t\t      <CANT-USE .PTR>"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T <UNKNOWN-WORD .PTR> <RFALSE>)>"],["\t\t<SET LW .WRD>"],["\t\t<SET FIRST?? <>>"],["\t\t<SET PTR <+ .PTR ,P-LEXELEN>>>>"],[],["<ROUTINE NUMBER? (PTR ",["Str","\"AUX\""]," CNT BPTR CHR (SUM 0) (TIM <>))"],["\t <SET CNT <GETB <REST ,P-LEXV <* .PTR 2>> 2>>"],["\t <SET BPTR <GETB <REST ,P-LEXV <* .PTR 2>> 3>>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET CNT <- .CNT 1>> 0> <RETURN>)"],["\t\t       (T"],["\t\t\t<SET CHR <GETB ,P-INBUF .BPTR>>"],["\t\t\t<COND (<==? .CHR 58>"],["\t\t\t       <SET TIM .SUM>"],["\t\t\t       <SET SUM 0>)"],["\t\t\t      (<G? .SUM 10000> <RFALSE>)"],["\t\t\t      (<AND <L? .CHR 58> <G? .CHR 47>>"],["\t\t\t       <SET SUM <+ <* .SUM 10> <- .CHR 48>>>)"],["\t\t\t      (T <RFALSE>)>"],["\t\t\t<SET BPTR <+ .BPTR 1>>)>>"],["\t <PUT ,P-LEXV .PTR ,W?INTNUM>"],["\t <COND (<G? .SUM 1000> <RFALSE>)"],["\t       (.TIM"],["\t\t<COND (<L? .TIM 8> <SET TIM <+ .TIM 12>>)"],["\t\t      (<G? .TIM 23> <RFALSE>)>"],["\t\t<SET SUM <+ .SUM <* .TIM 60>>>)>"],["\t <SETG P-NUMBER .SUM>"],["\t ,W?INTNUM>"],[],["<GLOBAL P-NUMBER 0>"],["<GLOBAL P-DIRECTION 0>"],[],[],[["Comment",";\"New ORPHAN-MERGE for TRAP Retrofix 6/21/84\""]],[],["<ROUTINE ORPHAN-MERGE (",["Str","\"AUX\""]," (CNT -1) TEMP VERB BEG END (ADJ <>) WRD)"],["   <SETG P-OFLAG <>>"],["   <COND (<WT? <GET <GET ,P-ITBL ,P-VERBN> 0> ,PS?ADJECTIVE ,P1?ADJECTIVE>"],["\t  <SET ADJ T>)>"],["   <COND (<AND <NOT <0? <SET VERB <GET ,P-ITBL ,P-VERB>>>>"],["\t       <NOT .ADJ>"],["\t       <NOT <==? .VERB <GET ,P-OTBL ,P-VERB>>>>"],["\t  <RFALSE>)"],["\t (<==? ,P-NCN 2> <RFALSE>)"],["\t (<==? <GET ,P-OTBL ,P-NC1> 1>"],["\t  <COND (<OR <==? <SET TEMP <GET ,P-ITBL ,P-PREP1>>"],["\t\t\t  <GET ,P-OTBL ,P-PREP1>>"],["\t\t     <0? .TEMP>>"],["\t\t <COND (.ADJ"],["\t\t\t<PUT ,P-OTBL ,P-NC1 <REST ,P-LEXV 2>>"],["\t\t\t<PUT ,P-OTBL ,P-NC1L <REST ,P-LEXV 6>>)"],["\t\t       (T"],["\t\t\t<PUT ,P-OTBL ,P-NC1 <GET ,P-ITBL ,P-NC1>>"],["\t\t\t<PUT ,P-OTBL ,P-NC1L <GET ,P-ITBL ,P-NC1L>>)>)"],["\t\t(T <RFALSE>)>)"],["\t (<==? <GET ,P-OTBL ,P-NC2> 1>"],["\t  <COND (<OR <==? <SET TEMP <GET ,P-ITBL ,P-PREP1>>"],["\t\t\t  <GET ,P-OTBL ,P-PREP2>>"],["\t\t     <0? .TEMP>>"],["\t\t <COND (.ADJ"],["\t\t\t<PUT ,P-ITBL ,P-NC1 <REST ,P-LEXV 2>>"],["\t\t\t<PUT ,P-ITBL ,P-NC1L <REST ,P-LEXV 6>>)>"],["\t\t <PUT ,P-OTBL ,P-NC2 <GET ,P-ITBL ,P-NC1>>"],["\t\t <PUT ,P-OTBL ,P-NC2L <GET ,P-ITBL ,P-NC1L>>"],["\t\t <SETG P-NCN 2>)"],["\t\t(T <RFALSE>)>)"],["\t (<NOT <ZERO? ,P-ACLAUSE>>"],["\t  <COND (<AND <NOT <==? ,P-NCN 1>> <NOT .ADJ>>"],["\t\t <SETG P-ACLAUSE <>>"],["\t\t <RFALSE>)"],["\t\t(T"],["\t\t <SET BEG <GET ,P-ITBL ,P-NC1>>"],["\t\t <COND (.ADJ <SET BEG <REST ,P-LEXV 2>> <SET ADJ <>>)>"],["\t\t <SET END <GET ,P-ITBL ,P-NC1L>>"],["\t\t <REPEAT ()"],["\t\t\t <SET WRD <GET .BEG 0>>"],["\t\t\t <COND (<==? .BEG .END>"],["\t\t\t\t<COND (.ADJ <ACLAUSE-WIN .ADJ> <RETURN>)"],["\t\t\t\t      (T <SETG P-ACLAUSE <>> <RFALSE>)>)"],["\t\t\t       (<AND <NOT .ADJ>"],["\t\t\t\t     <OR <BTST <GETB .WRD ,P-PSOFF>"],["\t\t\t\t\t       ,PS?ADJECTIVE>"],["\t\t\t\t\t <EQUAL? .WRD ,W?ALL ,W?ONE>>>"],["\t\t\t\t<SET ADJ .WRD>)"],["\t\t\t       (<OR <BTST <GETB .WRD ,P-PSOFF> ,PS?OBJECT>"],["\t\t\t\t    <==? .WRD ,W?ONE>>"],["\t\t\t\t<COND (<NOT <EQUAL? .WRD ,P-ANAM ,W?ONE>>"],["\t\t\t\t       <RFALSE>)"],["\t\t\t\t      (T <ACLAUSE-WIN .ADJ> <RETURN>)>)>"],["\t\t\t <SET BEG <REST .BEG ,P-WORDLEN>>"],["\t\t\t <COND (<EQUAL? .END 0>"],["\t\t\t\t<SET END .BEG>"],["\t\t\t\t<SETG P-NCN 1>"],["\t\t\t\t<PUT ,P-ITBL ,P-NC1 <BACK .BEG 4>>"],["\t\t\t\t<PUT ,P-ITBL ,P-NC1L .BEG>)>>)>)>"],["   <REPEAT ()"],["\t   <COND (<G? <SET CNT <+ .CNT 1>> ,P-ITBLLEN>"],["\t\t  <SETG P-MERGED T>"],["\t\t  <RTRUE>)"],["\t\t (T <PUT ,P-ITBL .CNT <GET ,P-OTBL .CNT>>)>>"],["   T>"],[],[["Comment",";\"New ACLAUSE-WIN for TRAP retrofix 6/21/84\""]],[],["<ROUTINE ACLAUSE-WIN (ADJ)"],["\t<PUT ,P-ITBL ,P-VERB <GET ,P-OTBL ,P-VERB>>"],["\t<SETG P-CCSRC ,P-OTBL>"],["\t<CLAUSE-COPY ,P-ACLAUSE <+ ,P-ACLAUSE 1> .ADJ>"],["\t<AND <NOT <==? <GET ,P-OTBL ,P-NC2> 0>> <SETG P-NCN 2>>"],["\t<SETG P-ACLAUSE <>>"],["\t<RTRUE>>"],[],[["Comment",";\"Print undefined word in input."]],[["Comment","   PTR points to the unknown word in P-LEXV\""]],[],["<ROUTINE WORD-PRINT (CNT BUF)"],["\t <REPEAT ()"],["\t\t <COND (<DLESS? CNT 0> <RETURN>)"],["\t\t       (ELSE"],["\t\t\t<PRINTC <GETB ,P-INBUF .BUF>>"],["\t\t\t<SET BUF <+ .BUF 1>>)>>>"],[],["<ROUTINE UNKNOWN-WORD (PTR ",["Str","\"AUX\""]," BUF)"],["\t<COND (<VERB? SAY>"],["\t       <TELL ",["Str","\"Nothing happens.\""]," CR>"],["\t       <RFALSE>)>"],["\t<TELL ",["Str","\"I don't know the word \\\"\""],">"],["\t<WORD-PRINT <GETB <REST ,P-LEXV <SET BUF <* .PTR 2>>> 2>"],["\t\t    <GETB <REST ,P-LEXV .BUF> 3>>"],["\t<TELL ",["Str","\"\\\".\""]," CR>"],["\t<SETG QUOTE-FLAG <>>"],["\t<SETG P-OFLAG <>>>"],[],["<ROUTINE CANT-USE (PTR ",["Str","\"AUX\""]," BUF)"],["\t<COND (<VERB? SAY>"],["\t       <TELL ",["Str","\"Nothing happens.\""]," CR>"],["\t       <RFALSE>)>"],["\t<TELL ",["Str","\"You used the word \\\"\""],">"],["\t<WORD-PRINT <GETB <REST ,P-LEXV <SET BUF <* .PTR 2>>> 2>"],["\t\t    <GETB <REST ,P-LEXV .BUF> 3>>"],["\t<TELL ",["Str","\"\\\" in a way that I don't understand.\""]," CR>"],["\t<SETG QUOTE-FLAG <>>"],["\t<SETG P-OFLAG <>>>"],[],[["Comment",";\" Perform syntax matching operations, using P-ITBL as the source of"]],[["Comment","   the verb and adjectives for this input.  Returns false if no"]],[["Comment","   syntax matches, and does it's own orphaning.  If return is true,"]],[["Comment","   the syntax is saved in P-SYNTAX.\""]],[],["<GLOBAL P-SLOCBITS 0>"],[],["<CONSTANT P-SYNLEN 8>"],[],["<CONSTANT P-SBITS 0>"],[],["<CONSTANT P-SPREP1 1>"],[],["<CONSTANT P-SPREP2 2>"],[],["<CONSTANT P-SFWIM1 3>"],[],["<CONSTANT P-SFWIM2 4>"],[],["<CONSTANT P-SLOC1 5>"],[],["<CONSTANT P-SLOC2 6>"],[],["<CONSTANT P-SACTION 7>"],[],["<CONSTANT P-SONUMS 3>"],[],["<ROUTINE SYNTAX-CHECK (",["Str","\"AUX\""]," SYN LEN NUM OBJ"],["\t\t       \t    (DRIVE1 <>) (DRIVE2 <>) PREP VERB TMP)"],["\t<COND (<0? <SET VERB <GET ,P-ITBL ,P-VERB>>>"],["\t       <TELL ",["Str","\"There was no verb in that sentence!\""]," CR>"],["\t       <RFALSE>)>"],["\t<SET SYN <GET ,VERBS <- 255 .VERB>>>"],["\t<SET LEN <GETB .SYN 0>>"],["\t<SET SYN <REST .SYN>>"],["\t<REPEAT ()"],["\t\t<SET NUM <BAND <GETB .SYN ,P-SBITS> ,P-SONUMS>>"],["\t\t<COND (<G? ,P-NCN .NUM> T)"],["\t\t      (<AND <NOT <L? .NUM 1>>"],["\t\t\t    <0? ,P-NCN>"],["\t\t\t    <OR <0? <SET PREP <GET ,P-ITBL ,P-PREP1>>>"],["\t\t\t\t<==? .PREP <GETB .SYN ,P-SPREP1>>>>"],["\t\t       <SET DRIVE1 .SYN>)"],["\t\t      (<==? <GETB .SYN ,P-SPREP1> <GET ,P-ITBL ,P-PREP1>>"],["\t\t       <COND (<AND <==? .NUM 2> <==? ,P-NCN 1>>"],["\t\t\t      <SET DRIVE2 .SYN>)"],["\t\t\t     (<==? <GETB .SYN ,P-SPREP2>"],["\t\t\t\t   <GET ,P-ITBL ,P-PREP2>>"],["\t\t\t      <SYNTAX-FOUND .SYN>"],["\t\t\t      <RTRUE>)>)>"],["\t\t<COND (<DLESS? LEN 1>"],["\t\t       <COND (<OR .DRIVE1 .DRIVE2> <RETURN>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"That sentence isn't one I recognize.\""]," CR>"],["\t\t\t      <RFALSE>)>)"],["\t\t      (T <SET SYN <REST .SYN ,P-SYNLEN>>)>>"],["\t<COND (<AND .DRIVE1"],["\t\t    <SET OBJ"],["\t\t\t <GWIM <GETB .DRIVE1 ,P-SFWIM1>"],["\t\t\t       <GETB .DRIVE1 ,P-SLOC1>"],["\t\t\t       <GETB .DRIVE1 ,P-SPREP1>>>>"],["\t       <PUT ,P-PRSO ,P-MATCHLEN 1>"],["\t       <PUT ,P-PRSO 1 .OBJ>"],["\t       <SYNTAX-FOUND .DRIVE1>)"],["\t      (<AND .DRIVE2"],["\t\t    <SET OBJ"],["\t\t\t <GWIM <GETB .DRIVE2 ,P-SFWIM2>"],["\t\t\t       <GETB .DRIVE2 ,P-SLOC2>"],["\t\t\t       <GETB .DRIVE2 ,P-SPREP2>>>>"],["\t       <PUT ,P-PRSI ,P-MATCHLEN 1>"],["\t       <PUT ,P-PRSI 1 .OBJ>"],["\t       <SYNTAX-FOUND .DRIVE2>)"],["\t      (<EQUAL? .VERB ,ACT?FIND>"],["\t       <TELL ",["Str","\"That question can't be answered.\""]," CR>"],["\t       <RFALSE>)"],["\t      (<NOT <==? ,WINNER ,PLAYER>>"],["\t       <CANT-ORPHAN>)"],["\t      (T"],["\t       <ORPHAN .DRIVE1 .DRIVE2>"],["\t       <TELL ",["Str","\"What do you want to \""],">"],["\t       <SET TMP <GET ,P-OTBL ,P-VERBN>>"],["\t       <COND (<==? .TMP 0> <TELL ",["Str","\"tell\""],">)"],["\t\t     (<0? <GETB ,P-VTBL 2>>"],["\t\t      <PRINTB <GET .TMP 0>>)"],["\t\t     (T"],["\t\t      <WORD-PRINT <GETB .TMP 2> <GETB .TMP 3>>"],["\t\t      <PUTB ,P-VTBL 2 0>)>"],["\t       <COND (.DRIVE2"],["\t\t      <CLAUSE-PRINT ,P-NC1 ,P-NC1L>)>"],["\t       <SETG P-OFLAG T>"],["\t       <PREP-PRINT <COND (.DRIVE1 <GETB .DRIVE1 ,P-SPREP1>)"],["\t\t\t\t (T <GETB .DRIVE2 ,P-SPREP2>)>>"],["\t       <TELL ",["Str","\"?\""]," CR>"],["\t       <RFALSE>)>>"],[],["<ROUTINE CANT-ORPHAN ()"],["\t <TELL ",["Str","\"\\\"I don't understand! What are you referring to?\\\"\""]," CR>"],["\t <RFALSE>>"],[],[],["<ROUTINE ORPHAN (D1 D2 ",["Str","\"AUX\""]," (CNT -1))"],["\t<PUT ,P-OCLAUSE ,P-MATCHLEN 0>"],["\t<SETG P-CCSRC ,P-ITBL>"],["\t<REPEAT ()"],["\t\t<COND (<IGRTR? CNT ,P-ITBLLEN> <RETURN>)"],["\t\t      (T <PUT ,P-OTBL .CNT <GET ,P-ITBL .CNT>>)>>"],["\t<COND (<==? ,P-NCN 2> <CLAUSE-COPY ,P-NC2 ,P-NC2L>)>"],["\t<COND (<NOT <L? ,P-NCN 1>> <CLAUSE-COPY ,P-NC1 ,P-NC1L>)>"],["\t<COND (.D1"],["\t       <PUT ,P-OTBL ,P-PREP1 <GETB .D1 ,P-SPREP1>>"],["\t       <PUT ,P-OTBL ,P-NC1 1>)"],["\t      (.D2"],["\t       <PUT ,P-OTBL ,P-PREP2 <GETB .D2 ,P-SPREP2>>"],["\t       <PUT ,P-OTBL ,P-NC2 1>)>>"],[],["<ROUTINE CLAUSE-PRINT (BPTR EPTR ",["Str","\"OPTIONAL\""]," (THE? T))"],["\t<BUFFER-PRINT <GET ,P-ITBL .BPTR> <GET ,P-ITBL .EPTR> .THE?>>"],[],["<ROUTINE BUFFER-PRINT (BEG END CP ",["Str","\"AUX\""]," (NOSP <>) WRD (FIRST?? T) (PN <>))"],["\t <REPEAT ()"],["\t\t<COND (<==? .BEG .END> <RETURN>)"],["\t\t      (T"],["\t\t       <COND (.NOSP <SET NOSP <>>)"],["\t\t\t     (T <TELL ",["Str","\" \""],">)>"],["\t\t       <COND (<==? <SET WRD <GET .BEG 0>> ,W?PERIOD>"],["\t\t\t      <SET NOSP T>)"],["\t\t\t     (T"],["\t\t\t      <COND (<AND .FIRST?? <NOT .PN> .CP>"],["\t\t\t\t     <TELL ",["Str","\"the \""],">)>"],["\t\t\t      <COND (<OR ,P-OFLAG ,P-MERGED> <PRINTB .WRD>)"],["\t\t\t\t    (<AND <==? .WRD ,W?IT>"],["\t\t\t\t\t  <==? ,P-IT-LOC ,HERE>>"],["\t\t\t\t     <PRINTD ,P-IT-OBJECT>)"],["\t\t\t\t    (T"],["\t\t\t\t     <WORD-PRINT <GETB .BEG 2>"],["\t\t\t\t\t\t <GETB .BEG 3>>)>"],["\t\t\t      <SET FIRST?? <>>)>)>"],["\t\t<SET BEG <REST .BEG ,P-WORDLEN>>>>"],[],["<ROUTINE CAPITALIZE (PTR)"],["\t <PRINTC <- <GETB ,P-INBUF <GETB .PTR 3>> 32>>"],["\t <WORD-PRINT <- <GETB .PTR 2> 1> <+ <GETB .PTR 3> 1>>>"],[],["<ROUTINE PREP-PRINT (PREP ",["Str","\"AUX\""]," WRD)"],["\t<COND (<NOT <0? .PREP>>"],["\t       <TELL ",["Str","\" \""],">"],["\t       <SET WRD <PREP-FIND .PREP>>"],["\t       <PRINTB .WRD>)>>"],[],["<ROUTINE CLAUSE-COPY (BPTR EPTR ",["Str","\"OPTIONAL\""]," (INSRT <>) ",["Str","\"AUX\""]," BEG END)"],["\t<SET BEG <GET ,P-CCSRC .BPTR>>"],["\t<SET END <GET ,P-CCSRC .EPTR>>"],["\t<PUT ,P-OTBL"],["\t     .BPTR"],["\t     <REST ,P-OCLAUSE"],["\t\t   <+ <* <GET ,P-OCLAUSE ,P-MATCHLEN> ,P-LEXELEN> 2>>>"],["\t<REPEAT ()"],["\t\t<COND (<==? .BEG .END>"],["\t\t       <PUT ,P-OTBL"],["\t\t\t    .EPTR"],["\t\t\t    <REST ,P-OCLAUSE"],["\t\t\t\t  <+ <* <GET ,P-OCLAUSE ,P-MATCHLEN> ,P-LEXELEN>"],["\t\t\t\t     2>>>"],["\t\t       <RETURN>)"],["\t\t      (T"],["\t\t       <COND (<AND .INSRT <==? ,P-ANAM <GET .BEG 0>>>"],["\t\t\t      <CLAUSE-ADD .INSRT>)>"],["\t\t       <CLAUSE-ADD <GET .BEG 0>>)>"],["\t\t<SET BEG <REST .BEG ,P-WORDLEN>>>>"],[],[],["<ROUTINE CLAUSE-ADD (WRD ",["Str","\"AUX\""]," PTR)"],["\t<SET PTR <+ <GET ,P-OCLAUSE ,P-MATCHLEN> 2>>"],["\t<PUT ,P-OCLAUSE <- .PTR 1> .WRD>"],["\t<PUT ,P-OCLAUSE .PTR 0>"],["\t<PUT ,P-OCLAUSE ,P-MATCHLEN .PTR>>"],[],["<ROUTINE PREP-FIND (PREP ",["Str","\"AUX\""]," (CNT 0) SIZE)"],["\t<SET SIZE <* <GET ,PREPOSITIONS 0> 2>>"],["\t<REPEAT ()"],["\t\t<COND (<IGRTR? CNT .SIZE> <RFALSE>)"],["\t\t      (<==? <GET ,PREPOSITIONS .CNT> .PREP>"],["\t\t       <RETURN <GET ,PREPOSITIONS <- .CNT 1>>>)>>>"],[],["<ROUTINE SYNTAX-FOUND (SYN)"],["\t<SETG P-SYNTAX .SYN>"],["\t<SETG PRSA <GETB .SYN ,P-SACTION>>>"],[],["<GLOBAL P-GWIMBIT 0>"],[],["<ROUTINE GWIM (GBIT LBIT PREP ",["Str","\"AUX\""]," OBJ)"],["\t<COND (<==? .GBIT ,RMUNGBIT>"],["\t       <RETURN ,ROOMS>)>"],["\t<SETG P-GWIMBIT .GBIT>"],["\t<SETG P-SLOCBITS .LBIT>"],["\t<PUT ,P-MERGE ,P-MATCHLEN 0>"],["\t<COND (<GET-OBJECT ,P-MERGE <>>"],["\t       <SETG P-GWIMBIT 0>"],["\t       <COND (<==? <GET ,P-MERGE ,P-MATCHLEN> 1>"],["\t\t      <COND (<EQUAL? <SET OBJ <GET ,P-MERGE 1>> ,ME>"],["\t\t\t     <RFALSE>)>"],["\t\t      <TELL ",["Str","\"(\""],">"],["\t\t      <COND (<NOT <0? .PREP>>"],["\t\t\t     <PRINTB <SET PREP <PREP-FIND .PREP>>>"],["\t\t\t     <COND (<==? .PREP ,W?OUT>"],["\t\t\t\t    <TELL ",["Str","\" of\""],">)>"],["\t\t\t     <COND (<==? .OBJ ,HANDS>"],["\t\t\t\t    <TELL ",["Str","\" your hands)\""]," CR>)"],["\t\t\t\t   (T"],["\t\t\t\t    <TELL ",["Str","\" the \""],">)>)>"],["\t\t      <COND (<NOT <==? .OBJ ,HANDS>>"],["\t\t\t     <TELL D .OBJ ",["Str","\")\""]," CR>)>"],["\t\t      .OBJ)>)"],["\t      (T <SETG P-GWIMBIT 0> <RFALSE>)>>"],[],["<ROUTINE SNARF-OBJECTS (",["Str","\"AUX\""]," PTR)"],["\t<COND (<NOT <==? <SET PTR <GET ,P-ITBL ,P-NC1>> 0>>"],["\t       <SETG P-SLOCBITS <GETB ,P-SYNTAX ,P-SLOC1>>"],["\t       <OR <SNARFEM .PTR <GET ,P-ITBL ,P-NC1L> ,P-PRSO> <RFALSE>>"],["\t       <OR <0? <GET ,P-BUTS ,P-MATCHLEN>>"],["\t\t   <SETG P-PRSO <BUT-MERGE ,P-PRSO>>>)>"],["\t<COND (<NOT <==? <SET PTR <GET ,P-ITBL ,P-NC2>> 0>>"],["\t       <SETG P-SLOCBITS <GETB ,P-SYNTAX ,P-SLOC2>>"],["\t       <OR <SNARFEM .PTR <GET ,P-ITBL ,P-NC2L> ,P-PRSI> <RFALSE>>"],["\t       <COND (<NOT <0? <GET ,P-BUTS ,P-MATCHLEN>>>"],["\t\t      <COND (<==? <GET ,P-PRSI ,P-MATCHLEN> 1>"],["\t\t\t     <SETG P-PRSO <BUT-MERGE ,P-PRSO>>)"],["\t\t\t    (T <SETG P-PRSI <BUT-MERGE ,P-PRSI>>)>)>)>"],["\t<RTRUE>>"],[],["<ROUTINE BUT-MERGE (TBL ",["Str","\"AUX\""]," LEN BUTLEN (CNT 1) (MATCHES 0) OBJ NTBL)"],["\t<SET LEN <GET .TBL ,P-MATCHLEN>>"],["\t<PUT ,P-MERGE ,P-MATCHLEN 0>"],["\t<REPEAT ()"],["\t\t<COND (<DLESS? LEN 0> <RETURN>)"],["\t\t      (<ZMEMQ <SET OBJ <GET .TBL .CNT>> ,P-BUTS>)"],["\t\t      (T"],["\t\t       <PUT ,P-MERGE <+ .MATCHES 1> .OBJ>"],["\t\t       <SET MATCHES <+ .MATCHES 1>>)>"],["\t\t<SET CNT <+ .CNT 1>>>"],["\t<PUT ,P-MERGE ,P-MATCHLEN .MATCHES>"],["\t<SET NTBL ,P-MERGE>"],["\t<SETG P-MERGE .TBL>"],["\t.NTBL>"],[],["<GLOBAL P-NAM <>>"],[],["<GLOBAL P-ADJ <>>"],[],["<GLOBAL P-ADVERB <>>"],[],["<GLOBAL P-ADJN <>>"],[],["<GLOBAL P-PRSO <ITABLE NONE 50>>"],[],["<GLOBAL P-PRSI <ITABLE NONE 50>>"],[],["<GLOBAL P-BUTS <ITABLE NONE 50>>"],[],["<GLOBAL P-MERGE <ITABLE NONE 50>>"],[],["<GLOBAL P-OCLAUSE <ITABLE NONE 50>>"],[],["<GLOBAL P-MATCHLEN 0>"],[],["<GLOBAL P-GETFLAGS 0>"],[],["<CONSTANT P-ALL 1>"],[],["<CONSTANT P-ONE 2>"],[],["<CONSTANT P-INHIBIT 4>"],[],["<GLOBAL P-CSPTR <>>"],["<GLOBAL P-CEPTR <>>"],[],["<GLOBAL P-AND <>>"],[],["<ROUTINE SNARFEM (PTR EPTR TBL ",["Str","\"AUX\""]," (BUT <>) LEN WV WRD NW)"],["   <SETG P-GETFLAGS 0>"],["   <SETG P-CSPTR .PTR>"],["   <SETG P-CEPTR .EPTR>"],["   <SETG P-AND <>>"],["   <PUT ,P-BUTS ,P-MATCHLEN 0>"],["   <PUT .TBL ,P-MATCHLEN 0>"],["   <SET WRD <GET .PTR 0>>"],["   <REPEAT ()"],["\t   <COND (<==? .PTR .EPTR> <RETURN <GET-OBJECT <OR .BUT .TBL>>>)"],["\t\t (T"],["\t\t  <SET NW <GET .PTR ,P-LEXELEN>>"],["\t\t  <COND (<==? .WRD ,W?ALL>"],["\t\t\t <SETG P-GETFLAGS ,P-ALL>"],["\t\t\t <COND (<==? .NW ,W?OF>"],["\t\t\t\t<SET PTR <REST .PTR ,P-WORDLEN>>)>)"],["\t\t\t(<EQUAL? .WRD ,W?BUT ,W?EXCEPT>"],["\t\t\t <OR <GET-OBJECT <OR .BUT .TBL>> <RFALSE>>"],["\t\t\t <SET BUT ,P-BUTS>"],["\t\t\t <PUT .BUT ,P-MATCHLEN 0>)"],["\t\t\t(<EQUAL? .WRD ,W?A ,W?ONE>"],["\t\t\t <COND (<NOT ,P-ADJ>"],["\t\t\t\t<SETG P-GETFLAGS ,P-ONE>"],["\t\t\t\t<COND (<==? .NW ,W?OF>"],["\t\t\t\t       <SET PTR <REST .PTR ,P-WORDLEN>>)>)"],["\t\t\t       (T"],["\t\t\t\t<SETG P-NAM ,P-ONEOBJ>"],["\t\t\t\t<OR <GET-OBJECT <OR .BUT .TBL>> <RFALSE>>"],["\t\t\t\t<AND <0? .NW> <RTRUE>>)>)"],["\t\t\t(<AND <EQUAL? .WRD ,W?AND ,W?COMMA>"],["\t\t\t      <NOT <EQUAL? .NW ,W?AND ,W?COMMA>>>"],["\t\t\t <SETG P-AND T>"],["\t\t\t <OR <GET-OBJECT <OR .BUT .TBL>> <RFALSE>>"],["\t\t\t T)"],["\t\t\t(<WT? .WRD ,PS?BUZZ-WORD>)"],["\t\t\t(<EQUAL? .WRD ,W?AND ,W?COMMA>)"],["\t\t\t(<==? .WRD ,W?OF>"],["\t\t\t <COND (<0? ,P-GETFLAGS>"],["\t\t\t\t<SETG P-GETFLAGS ,P-INHIBIT>)>)"],["\t\t\t(<AND <SET WV <WT? .WRD ,PS?ADJECTIVE ,P1?ADJECTIVE>>"],["\t\t\t      <NOT ,P-ADJ>>"],["\t\t\t <SETG P-ADJ .WV>"],["\t\t\t <SETG P-ADJN .WRD>)"],["\t\t\t(<WT? .WRD ,PS?OBJECT ,P1?OBJECT>"],["\t\t\t <SETG P-NAM .WRD>"],["\t\t\t <SETG P-ONEOBJ .WRD>)>)>"],["\t   <COND (<NOT <==? .PTR .EPTR>>"],["\t\t  <SET PTR <REST .PTR ,P-WORDLEN>>"],["\t\t  <SET WRD .NW>)>>>"],[],["<CONSTANT SH 128>"],[],["<CONSTANT SC 64>"],[],["<CONSTANT SIR 32>"],[],["<CONSTANT SOG 16>"],[],["<CONSTANT STAKE 8>"],[],["<CONSTANT SMANY 4>"],[],["<CONSTANT SHAVE 2>"],[],["<ROUTINE GET-OBJECT (TBL"],["\t\t     ",["Str","\"OPTIONAL\""]," (VRB T)"],["\t\t     ",["Str","\"AUX\""]," BITS LEN XBITS TLEN (GCHECK <>) (OLEN 0) OBJ)"],["\t <SET XBITS ,P-SLOCBITS>"],["\t <SET TLEN <GET .TBL ,P-MATCHLEN>>"],["\t <COND (<BTST ,P-GETFLAGS ,P-INHIBIT> <RTRUE>)>"],["\t <COND (<AND <NOT ,P-NAM> ,P-ADJ <WT? ,P-ADJN ,PS?OBJECT ,P1?OBJECT>>"],["\t\t<SETG P-NAM ,P-ADJN>"],["\t\t<SETG P-ADJ <>>)>"],["\t <COND (<AND <NOT ,P-NAM>"],["\t\t     <NOT ,P-ADJ>"],["\t\t     <NOT <==? ,P-GETFLAGS ,P-ALL>>"],["\t\t     <0? ,P-GWIMBIT>>"],["\t\t<COND (.VRB"],["\t\t       <TELL"],[["Str","\"There seems to be a noun missing in that sentence!\""]," CR>)>"],["\t\t<RFALSE>)>"],["\t <COND (<OR <NOT <==? ,P-GETFLAGS ,P-ALL>> <0? ,P-SLOCBITS>>"],["\t\t<SETG P-SLOCBITS -1>)>"],["\t <SETG P-TABLE .TBL>"],["\t <PROG ()"],["\t       <COND (.GCHECK <GLOBAL-CHECK .TBL>)"],["\t\t     (T"],["\t\t      <COND (,LIT"],["\t\t\t     <FCLEAR ,PLAYER ,TRANSBIT>"],["\t\t\t     <DO-SL ,HERE ,SOG ,SIR>"],["\t\t\t     <FSET ,PLAYER ,TRANSBIT>)>"],["\t\t      <DO-SL ,PLAYER ,SH ,SC>)>"],["\t       <SET LEN <- <GET .TBL ,P-MATCHLEN> .TLEN>>"],["\t       <COND (<BTST ,P-GETFLAGS ,P-ALL>)"],["\t\t     (<AND <BTST ,P-GETFLAGS ,P-ONE>"],["\t\t\t   <NOT <0? .LEN>>>"],["\t\t      <COND (<NOT <==? .LEN 1>>"],["\t\t\t     <PUT .TBL 1 <GET .TBL <RANDOM .LEN>>>"],["\t\t\t     <TELL ",["Str","\"(How about the \""],">"],["\t\t\t     <PRINTD <GET .TBL 1>>"],["\t\t\t     <TELL ",["Str","\"?)\""]," CR>)>"],["\t\t      <PUT .TBL ,P-MATCHLEN 1>)"],["\t\t     (<OR <G? .LEN 1>"],["\t\t\t  <AND <0? .LEN> <NOT <==? ,P-SLOCBITS -1>>>>"],["\t\t      <COND (<==? ,P-SLOCBITS -1>"],["\t\t\t     <SETG P-SLOCBITS .XBITS>"],["\t\t\t     <SET OLEN .LEN>"],["\t\t\t     <PUT .TBL"],["\t\t\t\t  ,P-MATCHLEN"],["\t\t\t\t  <- <GET .TBL ,P-MATCHLEN> .LEN>>"],["\t\t\t     <AGAIN>)"],["\t\t\t    (T"],["\t\t\t     <COND (<0? .LEN> <SET LEN .OLEN>)>"],["\t\t\t     <COND (<NOT <==? ,WINNER ,PLAYER>>"],["\t\t\t\t    <CANT-ORPHAN>"],["\t\t\t\t    <RFALSE>)"],["\t\t\t\t   (<AND .VRB ,P-NAM>"],["\t\t\t\t    <WHICH-PRINT .TLEN .LEN .TBL>"],["\t\t\t\t    <SETG P-ACLAUSE"],["\t\t\t\t\t  <COND (<==? .TBL ,P-PRSO> ,P-NC1)"],["\t\t\t\t\t\t(T ,P-NC2)>>"],["\t\t\t\t    <SETG P-AADJ ,P-ADJ>"],["\t\t\t\t    <SETG P-ANAM ,P-NAM>"],["\t\t\t\t    <ORPHAN <> <>>"],["\t\t\t\t    <SETG P-OFLAG T>)"],["\t\t\t\t   (.VRB"],["\t\t\t\t    <TELL"],[["Str","\"There seems to be a noun missing in that sentence!\""]," CR>)>"],["\t\t\t     <SETG P-NAM <>>"],["\t\t\t     <SETG P-ADJ <>>"],["\t\t\t     <RFALSE>)>)"],["\t\t     (<AND <0? .LEN> .GCHECK>"],["\t\t      <COND (.VRB"],["\t\t\t     <COND (,LIT"],["\t\t\t\t    ",["Comment",";\"Changed 6/10/83 - MARC\""]],["\t\t\t\t    <OBJ-FOUND ,NOT-HERE-OBJECT .TBL>"],["\t\t\t\t    <SETG P-XNAM ,P-NAM>"],["\t\t\t\t    <SETG P-XADJ ,P-ADJ>"],["\t\t\t\t    <SETG P-XADJN ,P-ADJN>"],["\t\t\t\t    <SETG P-NAM <>>"],["\t\t\t\t    <SETG P-ADJ <>>"],["\t\t\t\t    <SETG P-ADJN <>>"],["\t\t\t\t    <RTRUE>)"],["\t\t\t\t   (T <TELL ",["Str","\"It's too dark to see!\""]," CR>)>)>"],["\t\t      <SETG P-NAM <>>"],["\t\t      <SETG P-ADJ <>>"],["\t\t      <RFALSE>)"],["\t\t     (<0? .LEN> <SET GCHECK T> <AGAIN>)>"],["\t       <SETG P-SLOCBITS .XBITS>"],["\t       <SETG P-NAM <>>"],["\t       <SETG P-ADJ <>>"],["\t       <RTRUE>>>"],[],["<ROUTINE MOBY-FIND (TBL ",["Str","\"AUX\""]," FOO LEN)"],["\t <SETG P-SLOCBITS -1>"],["\t <SETG P-NAM ,P-XNAM>"],["\t <SETG P-ADJ ,P-XADJ>"],["\t <PUT .TBL ,P-MATCHLEN 0>"],["\t <SET FOO <FIRST? ,ROOMS>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .FOO> <RETURN>)"],["\t\t       (T"],["\t\t\t<SEARCH-LIST .FOO .TBL ,P-SRCALL>"],["\t\t\t<SET FOO <NEXT? .FOO>>)>>"],["\t <COND (<EQUAL? <SET LEN <GET .TBL ,P-MATCHLEN>> 0>"],["\t\t<DO-SL ,",["Id","LOCAL-GLOBALS"]," 1 1>)>"],["\t <COND (<EQUAL? <SET LEN <GET .TBL ,P-MATCHLEN>> 0>"],["\t\t<DO-SL ,ROOMS 1 1>)>"],["\t <COND (<EQUAL? <SET LEN <GET .TBL ,P-MATCHLEN>> 1>"],["\t\t<SETG P-MOBY-FOUND <GET .TBL 1>>)>"],["\t <SETG P-NAM <>>"],["\t <SETG P-ADJ <>>"],["\t .LEN>"],[],["<GLOBAL P-MOBY-FOUND <>>"],["<GLOBAL P-XNAM <>>"],["<GLOBAL P-XADJ <>>"],["<GLOBAL P-XADJN <>>"],[],["<ROUTINE WHICH-PRINT (TLEN LEN TBL ",["Str","\"AUX\""]," OBJ RLEN)"],["\t <SET RLEN .LEN>"],["\t <TELL ",["Str","\"Which\""],">"],["         <COND (<OR ,P-OFLAG ,P-MERGED ,P-AND> <TELL ",["Str","\" \""],"> <PRINTB ,P-NAM>)"],["\t       (<==? .TBL ,P-PRSO>"],["\t\t<CLAUSE-PRINT ,P-NC1 ,P-NC1L <>>)"],["\t       (T <CLAUSE-PRINT ,P-NC2 ,P-NC2L <>>)>"],["\t <TELL ",["Str","\" do you mean, \""],">"],["\t <REPEAT ()"],["\t\t <SET TLEN <+ .TLEN 1>>"],["\t\t <SET OBJ <GET .TBL .TLEN>>"],["\t\t <TELL ",["Str","\"the \""]," D .OBJ>"],["\t\t <COND (<==? .LEN 2>"],["\t\t        <COND (<NOT <==? .RLEN 2>> <TELL ",["Str","\",\""],">)>"],["\t\t        <TELL ",["Str","\" or \""],">)"],["\t\t       (<G? .LEN 2> <TELL ",["Str","\", \""],">)>"],["\t\t <COND (<L? <SET LEN <- .LEN 1>> 1>"],["\t\t        <TELL ",["Str","\"?\""]," CR>"],["\t\t        <RETURN>)>>>"],[],[],["<ROUTINE GLOBAL-CHECK (TBL ",["Str","\"AUX\""]," LEN RMG RMGL (CNT 0) OBJ OBITS FOO)"],["\t<SET LEN <GET .TBL ,P-MATCHLEN>>"],["\t<SET OBITS ,P-SLOCBITS>"],["\t<COND (<SET RMG <GETPT ,HERE ,P?GLOBAL>>"],["\t       <SET RMGL <- <PTSIZE .RMG> 1>>"],["\t       <REPEAT ()"],["\t\t       <COND (<THIS-IT? <SET OBJ <GETB .RMG .CNT>> .TBL>"],["\t\t\t      <OBJ-FOUND .OBJ .TBL>)>"],["\t\t       <COND (<IGRTR? CNT .RMGL> <RETURN>)>>)>"],["\t<COND (<SET RMG <GETPT ,HERE ,P?PSEUDO>>"],["\t       <SET RMGL <- </ <PTSIZE .RMG> 4> 1>>"],["\t       <SET CNT 0>"],["\t       <REPEAT ()"],["\t\t       <COND (<==? ,P-NAM <GET .RMG <* .CNT 2>>>"],["\t\t\t      <PUTP ,PSEUDO-OBJECT"],["\t\t\t\t    ,P?ACTION"],["\t\t\t\t    <GET .RMG <+ <* .CNT 2> 1>>>"],["\t\t\t      <SET FOO"],["\t\t\t\t   <BACK <GETPT ,PSEUDO-OBJECT ,P?ACTION> 5>>"],["\t\t\t      <PUT .FOO 0 <GET ,P-NAM 0>>"],["\t\t\t      <PUT .FOO 1 <GET ,P-NAM 1>>"],["\t\t\t      <OBJ-FOUND ,PSEUDO-OBJECT .TBL>"],["\t\t\t      <RETURN>)"],["\t\t             (<IGRTR? CNT .RMGL> <RETURN>)>>)>"],["\t<COND (<==? <GET .TBL ,P-MATCHLEN> .LEN>"],["\t       <SETG P-SLOCBITS -1>"],["\t       <SETG P-TABLE .TBL>"],["\t       <DO-SL ,GLOBAL-OBJECTS 1 1>"],["\t       <SETG P-SLOCBITS .OBITS>"],["\t       <COND (<AND <0? <GET .TBL ,P-MATCHLEN>>"],["\t\t\t   <EQUAL? ,PRSA ,V?LOOK-INSIDE ,V?SEARCH ,V?EXAMINE>>"],["\t\t      <DO-SL ,ROOMS 1 1>)>)>>"],[],["<ROUTINE DO-SL (OBJ BIT1 BIT2 ",["Str","\"AUX\""]," BTS)"],["\t<COND (<BTST ,P-SLOCBITS <+ .BIT1 .BIT2>>"],["\t       <SEARCH-LIST .OBJ ,P-TABLE ,P-SRCALL>)"],["\t      (T"],["\t       <COND (<BTST ,P-SLOCBITS .BIT1>"],["\t\t      <SEARCH-LIST .OBJ ,P-TABLE ,P-SRCTOP>)"],["\t\t     (<BTST ,P-SLOCBITS .BIT2>"],["\t\t      <SEARCH-LIST .OBJ ,P-TABLE ,P-SRCBOT>)"],["\t\t     (T <RTRUE>)>)>>"],[],["<CONSTANT P-SRCBOT 2>"],[],["<CONSTANT P-SRCTOP 0>"],[],["<CONSTANT P-SRCALL 1>"],[],["<ROUTINE SEARCH-LIST (OBJ TBL LVL ",["Str","\"AUX\""]," FLS NOBJ)"],["\t<COND (<SET OBJ <FIRST? .OBJ>>"],["\t       <REPEAT ()"],["\t\t       <COND (<AND <NOT <==? .LVL ,P-SRCBOT>>"],["\t\t\t\t   <GETPT .OBJ ,P?SYNONYM>"],["\t\t\t\t   <THIS-IT? .OBJ .TBL>>"],["\t\t\t      <OBJ-FOUND .OBJ .TBL>)>"],["\t\t       <COND (<AND <OR <NOT <==? .LVL ,P-SRCTOP>>"],["\t\t\t\t       <FSET? .OBJ ,SEARCHBIT>"],["\t\t\t\t       <FSET? .OBJ ,SURFACEBIT>>"],["\t\t\t\t   <SET NOBJ <FIRST? .OBJ>>"],["\t\t\t\t   <OR <FSET? .OBJ ,OPENBIT>"],["\t\t\t\t       <FSET? .OBJ ,TRANSBIT>>>"],["\t\t\t      <SET FLS"],["\t\t\t\t   <SEARCH-LIST .OBJ"],["\t\t\t\t\t\t.TBL"],["\t\t\t\t\t\t<COND (<FSET? .OBJ ,SURFACEBIT>"],["\t\t\t\t\t\t       ,P-SRCALL)"],["\t\t\t\t\t\t      (<FSET? .OBJ ,SEARCHBIT>"],["\t\t\t\t\t\t       ,P-SRCALL)"],["\t\t\t\t\t\t      (T ,P-SRCTOP)>>>)>"],["\t\t       <COND (<SET OBJ <NEXT? .OBJ>>) (T <RETURN>)>>)>>"],[],["<ROUTINE OBJ-FOUND (OBJ TBL ",["Str","\"AUX\""]," PTR)"],["\t<SET PTR <GET .TBL ,P-MATCHLEN>>"],["\t<PUT .TBL <+ .PTR 1> .OBJ>"],["\t<PUT .TBL ,P-MATCHLEN <+ .PTR 1>>>"],[],["<ROUTINE TAKE-CHECK ()"],["\t<AND <ITAKE-CHECK ,P-PRSO <GETB ,P-SYNTAX ,P-SLOC1>>"],["\t     <ITAKE-CHECK ,P-PRSI <GETB ,P-SYNTAX ,P-SLOC2>>>>"],[],["<ROUTINE ITAKE-CHECK (TBL IBITS ",["Str","\"AUX\""]," PTR OBJ TAKEN)"],["\t #DECL ((TBL) TABLE (IBITS PTR) FIX (OBJ) OBJECT"],["\t\t(TAKEN) <OR FALSE FIX ATOM>)"],["\t <COND (<AND <SET PTR <GET .TBL ,P-MATCHLEN>>"],["\t\t     <OR <BTST .IBITS ,SHAVE>"],["\t\t\t <BTST .IBITS ,STAKE>>>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<L? <SET PTR <- .PTR 1>> 0> <RETURN>)"],["\t\t\t      (T"],["\t\t\t       <SET OBJ <GET .TBL <+ .PTR 1>>>"],["\t\t\t       <COND (<==? .OBJ ,IT> <SET OBJ ,P-IT-OBJECT>)>"],["\t\t\t       <COND (<AND <NOT <HELD? .OBJ>>"],["\t\t\t\t\t   <NOT <==? .OBJ ,HANDS>>>"],["\t\t\t\t      <SETG PRSO .OBJ>"],["\t\t\t\t      <COND (<FSET? .OBJ ,TRYTAKEBIT>"],["\t\t\t\t\t     <SET TAKEN T>)"],["\t\t\t\t\t    (<NOT <==? ,WINNER ,ADVENTURER>>"],["\t\t\t\t\t     <SET TAKEN <>>)"],["\t\t\t\t\t    (<AND <BTST .IBITS ,STAKE>"],["\t\t\t\t\t\t  <==? <ITAKE <>> T>>"],["\t\t\t\t\t     <SET TAKEN <>>)"],["\t\t\t\t\t    (T <SET TAKEN T>)>"],["\t\t\t\t      <COND (<AND .TAKEN <BTST .IBITS ,SHAVE>>"],["\t\t\t\t\t     <COND (<EQUAL? .OBJ"],["\t\t\t\t\t\t\t    ,NOT-HERE-OBJECT>"],["\t\t\t\t\t\t    <TELL"],[["Str","\"You don't have that!\""]," CR>"],["\t\t\t\t\t\t    <RFALSE>)>"],["\t\t\t\t\t     <TELL ",["Str","\"You don't have the \""],">"],["\t\t\t\t\t     <PRINTD .OBJ>"],["\t\t\t\t\t     <TELL ",["Str","\".\""]," CR>"],["\t\t\t\t\t     <RFALSE>)"],["\t\t\t\t\t    (<AND <NOT .TAKEN>"],["\t\t\t\t\t\t  <==? ,WINNER ,ADVENTURER>>"],["\t\t\t\t\t     <TELL ",["Str","\"(Taken)\""]," CR>)>)>)>>)"],["\t       (T)>>"],[],["<ROUTINE MANY-CHECK (",["Str","\"AUX\""]," (LOSS <>) TMP)"],["\t<COND (<AND <G? <GET ,P-PRSO ,P-MATCHLEN> 1>"],["\t\t    <NOT <BTST <GETB ,P-SYNTAX ,P-SLOC1> ,SMANY>>>"],["\t       <SET LOSS 1>)"],["\t      (<AND <G? <GET ,P-PRSI ,P-MATCHLEN> 1>"],["\t\t    <NOT <BTST <GETB ,P-SYNTAX ,P-SLOC2> ,SMANY>>>"],["\t       <SET LOSS 2>)>"],["\t<COND (.LOSS"],["\t       <TELL ",["Str","\"You can't use multiple \""],">"],["\t       <COND (<==? .LOSS 2> <TELL ",["Str","\"in\""],">)>"],["\t       <TELL ",["Str","\"direct objects with \\\"\""],">"],["\t       <SET TMP <GET ,P-ITBL ,P-VERBN>>"],["\t       <COND (<0? .TMP> <TELL ",["Str","\"tell\""],">)"],["\t\t     (<OR ,P-OFLAG ,P-MERGED>"],["\t\t      <PRINTB <GET .TMP 0>>)"],["\t\t     (T"],["\t\t      <WORD-PRINT <GETB .TMP 2> <GETB .TMP 3>>)>"],["\t       <TELL ",["Str","\"\\\".\""]," CR>"],["\t       <RFALSE>)"],["\t      (T)>>"],[],["<ROUTINE ZMEMQ (ITM TBL ",["Str","\"OPTIONAL\""]," (SIZE -1) ",["Str","\"AUX\""]," (CNT 1))"],["\t<COND (<NOT .TBL> <RFALSE>)>"],["\t<COND (<NOT <L? .SIZE 0>> <SET CNT 0>)"],["\t      (ELSE <SET SIZE <GET .TBL 0>>)>"],["\t<REPEAT ()"],["\t\t<COND (<==? .ITM <GET .TBL .CNT>> <RTRUE>)"],["\t\t      (<IGRTR? CNT .SIZE> <RFALSE>)>>>"],[],["<ROUTINE ZMEMQB (ITM TBL SIZE ",["Str","\"AUX\""]," (CNT 0))"],["\t<REPEAT ()"],["\t\t<COND (<==? .ITM <GETB .TBL .CNT>> <RTRUE>)"],["\t\t      (<IGRTR? CNT .SIZE> <RFALSE>)>>>"],[],["<GLOBAL ALWAYS-LIT <>>"],[],["<ROUTINE LIT? (RM ",["Str","\"OPTIONAL\""]," (RMBIT T) ",["Str","\"AUX\""]," OHERE (LIT <>))"],["\t<COND (<AND ,ALWAYS-LIT <EQUAL? ,WINNER ,PLAYER>>"],["\t       <RTRUE>)>"],["\t<SETG P-GWIMBIT ,ONBIT>"],["\t<SET OHERE ,HERE>"],["\t<SETG HERE .RM>"],["\t<COND (<AND .RMBIT"],["\t\t    <FSET? .RM ,ONBIT>>"],["\t       <SET LIT T>)"],["\t      (T"],["\t       <PUT ,P-MERGE ,P-MATCHLEN 0>"],["\t       <SETG P-TABLE ,P-MERGE>"],["\t       <SETG P-SLOCBITS -1>"],["\t       <COND (<==? .OHERE .RM>"],["\t\t      <DO-SL ,WINNER 1 1>"],["\t\t      <COND (<AND <NOT <EQUAL? ,WINNER ,PLAYER>>"],["\t\t\t\t  <IN? ,PLAYER .RM>>"],["\t\t\t     <DO-SL ,PLAYER 1 1>)>)>"],["\t       <DO-SL .RM 1 1>"],["\t       <COND (<G? <GET ,P-TABLE ,P-MATCHLEN> 0> <SET LIT T>)>)>"],["\t<SETG HERE .OHERE>"],["\t<SETG P-GWIMBIT 0>"],["\t.LIT>"],[],["<ROUTINE PRSO-PRINT (",["Str","\"AUX\""]," PTR)"],["\t <COND (<OR ,P-MERGED"],["\t\t    <==? <GET <SET PTR <GET ,P-ITBL ,P-NC1>> 0> ,W?IT>>"],["\t\t<TELL ",["Str","\" \""]," D ,PRSO>)"],["\t       (T <BUFFER-PRINT .PTR <GET ,P-ITBL ,P-NC1L> <>>)>>"],[],["<ROUTINE PRSI-PRINT (",["Str","\"AUX\""]," PTR)"],["\t <COND (<OR ,P-MERGED"],["\t\t    <==? <GET <SET PTR <GET ,P-ITBL ,P-NC2>> 0> ,W?IT>>"],["\t\t<TELL ",["Str","\" \""]," D ,PRSO>)"],["\t       (T <BUFFER-PRINT .PTR <GET ,P-ITBL ,P-NC2L> <>>)>>"],[],[["Comment",";\"former CRUFTY routine, re-written by SWG\""]],[],["<ROUTINE THIS-IT? (OBJ TBL ",["Str","\"AUX\""]," SYNS)"],[" <COND (<FSET? .OBJ ,INVISIBLE> <RFALSE>)"],["       (<AND ,P-NAM"],["\t     <NOT <ZMEMQ ,P-NAM"],["\t\t\t <SET SYNS <GETPT .OBJ ,P?SYNONYM>>"],["\t\t\t <- </ <PTSIZE .SYNS> 2> 1>>>>"],["\t<RFALSE>)"],["       (<AND ,P-ADJ"],["\t     <OR <NOT <SET SYNS <GETPT .OBJ ,P?ADJECTIVE>>>"],["\t\t <NOT <ZMEMQB ,P-ADJ .SYNS <- <PTSIZE .SYNS> 1>>>>>"],["\t<RFALSE>)"],["       (<AND <NOT <0? ,P-GWIMBIT>> <NOT <FSET? .OBJ ,P-GWIMBIT>>>"],["\t<RFALSE>)>"],[" <RTRUE>>"]],"gsyntax.zil":[["\t\t\t",["Str","\"Generic SYNTAX file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/21/83 by SEM\""]],[],["^L"],[],[["Str","\"Buzzwords, Prepositions and Directions\""]],[],["<BUZZ A AN THE IS AND OF THEN ALL ONE BUT EXCEPT \\. \\, \\\" YES NO Y HERE"],["      FEEBLE FUMBLE FEAR FILCH FREEZE FALL FRY FLUORESCE"],["      FERMENT FIERCE FLOAT FIREPROOF FENCE FUDGE FANTASIZE"],["      FROTZ OZMOO>"],[],["<SYNONYM WITH USING THROUGH THRU>"],["<SYNONYM IN INSIDE INTO>"],["<SYNONYM ON ONTO>"],["<SYNONYM UNDER UNDERNEATH BENEATH BELOW>"],[],["<SYNONYM NORTH N>"],["<SYNONYM SOUTH S>"],["<SYNONYM EAST E>"],["<SYNONYM WEST W>"],["<SYNONYM DOWN D>"],["<SYNONYM UP U>"],["<SYNONYM NW NORTHWEST>"],["<SYNONYM NE NORTHE>"],["<SYNONYM SW SOUTHWEST>"],["<SYNONYM SE SOUTHE>"],[],["^L"],[],[["Str","\"Game Commands\""]],[],["<SYNTAX VERBOSE = V-VERBOSE>"],[],["<SYNTAX BRIEF = V-BRIEF>"],[],["<SYNTAX SUPER = V-SUPER-BRIEF>"],["<SYNONYM SUPER SUPERBRIEF>"],[],["<SYNTAX DIAGNOSE = V-DIAGNOSE>"],[],["<SYNTAX INVENTORY = V-INVENTORY>"],["<SYNONYM INVENTORY I>"],[],["<SYNTAX QUIT = V-QUIT>"],["<SYNONYM QUIT Q>"],[],["<SYNTAX RESTART = V-RESTART>"],[],["<SYNTAX RESTORE = V-RESTORE>"],[],["<SYNTAX SAVE = V-SAVE>"],[],["<SYNTAX SCORE = V-SCORE>"],[],["<SYNTAX SCRIPT = V-SCRIPT>"],[],["<SYNTAX UNSCRIPT = V-UNSCRIPT>"],[],["<SYNTAX VERSION = V-VERSION>"],[],["<SYNTAX $VERIFY = V-VERIFY>"],[],[["Comment",";<SYNTAX DEBUG = V-DEBUG>"]],[],["^L"],[],[["Str","\"Real Verbs\""]],[],["<SYNTAX ACTIVATE OBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = V-LAMP-ON>"],[],["<SYNTAX AGAIN = V-AGAIN>"],["<SYNONYM AGAIN G>"],[],["<SYNTAX ANSWER = V-ANSWER>"],["<SYNTAX ANSWER OBJECT = V-REPLY>"],["<SYNONYM ANSWER REPLY>"],[],["<SYNTAX APPLY OBJECT TO OBJECT = V-PUT PRE-PUT>"],[],["<SYNTAX ATTACK OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = V-ATTACK>"],["<SYNONYM ATTACK FIGHT HURT INJURE HIT>"],[],["<SYNTAX BACK = V-BACK>"],[],["<SYNTAX BLAST = V-BLAST>"],[],["<SYNTAX BLOW OUT OBJECT = V-LAMP-OFF>"],["<SYNTAX BLOW UP\tOBJECT WITH"],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED) = V-INFLATE>"],["<SYNTAX BLOW UP OBJECT = V-BLAST>"],["<SYNTAX BLOW IN OBJECT = V-BREATHE>"],[],["<SYNTAX ",["Id","BOARD"]," OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = V-BOARD PRE-BOARD>"],[],["<SYNTAX BRUSH OBJECT (HELD CARRIED ON-GROUND IN-ROOM) = V-BRUSH>"],["<SYNTAX BRUSH OBJECT (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT = V-BRUSH>"],["<SYNONYM BRUSH CLEAN>"],[],["<SYNTAX BUG = V-BUG>"],[],["<SYNTAX BURN OBJECT (FIND BURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE)"],["\t= V-BURN PRE-BURN>"],["<SYNTAX BURN DOWN OBJECT (FIND BURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE)"],["\t= V-BURN PRE-BURN>"],["<SYNONYM BURN INCINERATE IGNITE>"],[],["<SYNTAX CHOMP = V-CHOMP>"],["<SYNONYM CHOMP LOSE BARF>"],[],["<SYNTAX CLIMB UP = V-CLIMB-UP>"],["<SYNTAX CLIMB UP OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = V-CLIMB-UP>"],["<SYNTAX CLIMB DOWN = V-CLIMB-DOWN>"],["<SYNTAX CLIMB DOWN OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = V-CLIMB-DOWN>"],["<SYNTAX CLIMB OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = V-CLIMB-FOO>"],["<SYNTAX CLIMB IN OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = V-BOARD PRE-BOARD>"],["<SYNTAX CLIMB ON OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = V-CLIMB-ON>"],["<SYNTAX CLIMB WITH OBJECT = V-THROUGH>"],["<SYNONYM CLIMB SIT>"],[],["<SYNTAX CLOSE OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) = V-CLOSE>"],[],["<SYNTAX COMMAND OBJECT (FIND ACTORBIT) = V-COMMAND>"],[],["<SYNTAX COUNT OBJECT = V-COUNT>"],[],["<SYNTAX CROSS OBJECT = V-CROSS>"],["<SYNONYM CROSS FORD>"],[],["<SYNTAX CUT OBJECT WITH OBJECT (FIND WEAPONBIT) (CARRIED HELD) = V-CUT>"],["<SYNONYM CUT SLICE PIERCE>"],[],["<SYNTAX CURSE = V-CURSES>"],["<SYNTAX CURSE OBJECT (FIND ACTORBIT) = V-CURSES>"],["<SYNONYM CURSE SHIT FUCK DAMN>"],[],["<SYNTAX DEFLATE OBJECT = V-DEFLATE>"],[],["<SYNTAX DESTROY OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\tWITH OBJECT (HELD CARRIED TAKE)\t= V-MUNG PRE-MUNG>"],["<SYNTAX DESTROY DOWN OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\tWITH OBJECT (HELD CARRIED TAKE)\t= V-MUNG PRE-MUNG>"],["<SYNTAX DESTROY IN OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = V-OPEN>"],["<SYNONYM DESTROY DAMAGE BREAK BLOCK SMASH>"],[],["<SYNTAX DIG IN OBJECT (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND TOOLBIT) (HELD CARRIED HAVE) = V-DIG>"],["<SYNTAX DIG OBJECT (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND TOOLBIT) (HELD CARRIED HAVE) = V-DIG>"],[],["<SYNTAX DISEMBARK OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM)"],["\t= V-DISEMBARK>"],[],["<SYNTAX DISENCHANT OBJECT = V-DISENCHANT>"],[],["<SYNTAX DRINK OBJECT (FIND DRINKBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t= V-DRINK>"],["<SYNTAX DRINK FROM OBJECT (HELD CARRIED) = V-DRINK-FROM>"],["<SYNONYM DRINK IMBIBE SWALLOW>"],[],["<SYNTAX DROP OBJECT (HELD MANY HAVE) = V-DROP PRE-DROP>"],["<SYNTAX DROP OBJECT (HELD MANY HAVE) DOWN OBJECT = V-PUT PRE-PUT>"],["<SYNTAX DROP OBJECT (HELD MANY HAVE) IN OBJECT = V-PUT PRE-PUT>"],["<SYNTAX DROP OBJECT (HELD MANY HAVE) ON OBJECT = V-PUT-ON PRE-PUT>"],["<SYNONYM DROP RELEASE>"],[],["<SYNTAX EAT OBJECT (FIND FOODBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= V-EAT>"],["<SYNONYM EAT CONSUME TASTE BITE>"],[],["<SYNTAX ECHO = V-ECHO>"],[],["<SYNTAX ENCHANT OBJECT (ON-GROUND IN-ROOM) = V-ENCHANT>"],[],["<SYNTAX ENTER = V-ENTER>"],["<SYNTAX ENTER OBJECT = V-THROUGH>"],["<SYNTAX EXIT = V-EXIT>"],["<SYNTAX EXIT OBJECT = V-EXIT>"],[],["<SYNTAX EXAMINE OBJECT (MANY) = V-EXAMINE>"],["<SYNTAX EXAMINE IN OBJECT (HELD CARRIED IN-ROOM ON-GROUND MANY)"],["\t= V-LOOK-INSIDE>"],["<SYNTAX EXAMINE ON OBJECT (HELD CARRIED IN-ROOM ON-GROUND MANY)"],["\t= V-LOOK-INSIDE>"],["<SYNONYM EXAMINE DESCRIBE WHAT WHATS>"],[],["<SYNTAX EXORCISE OBJECT = V-EXORCISE>"],["<SYNTAX EXORCISE OUT OBJECT (FIND ACTORBIT) = V-EXORCISE>"],["<SYNTAX EXORCISE AWAY OBJECT (FIND ACTORBIT) = V-EXORCISE>"],["<SYNONYM EXORCISE BANISH CAST DRIVE BEGONE>"],[],["<SYNTAX EXTINGUISH OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = V-LAMP-OFF>"],["<SYNONYM EXTINGUISH DOUSE>"],[],["<SYNTAX FILL OBJECT (FIND CONTBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT = V-FILL PRE-FILL>"],["<SYNTAX FILL OBJECT (FIND CONTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = V-FILL PRE-FILL>"],[],["<SYNTAX FIND OBJECT = V-FIND>"],["<SYNONYM FIND WHERE SEEK SEE>"],[],["<SYNTAX FOLLOW = V-FOLLOW>"],["<SYNTAX FOLLOW OBJECT = V-FOLLOW>"],["<SYNONYM FOLLOW PURSUE CHASE COME>"],[],["<SYNTAX FROBOZZ = V-FROBOZZ>"],[],["<SYNTAX GIVE OBJECT (MANY HELD HAVE)"],["\tTO OBJECT (FIND ACTORBIT) (ON-GROUND) = V-GIVE PRE-GIVE>"],["<SYNTAX GIVE OBJECT (FIND ACTORBIT) (ON-GROUND)"],["\tOBJECT (MANY HELD HAVE)\t= V-SGIVE PRE-SGIVE>"],["<SYNTAX HAND OBJECT (MANY HELD HAVE)"],["\tTO OBJECT (FIND ACTORBIT) (ON-GROUND) = V-GIVE PRE-GIVE>"],["<SYNTAX HAND OBJECT (FIND ACTORBIT) (ON-GROUND)"],["\tOBJECT (MANY HELD HAVE)\t= V-SGIVE PRE-SGIVE>"],["<SYNONYM GIVE DONATE OFFER FEED>"],[],["<SYNTAX HATCH OBJECT = V-HATCH>"],[],["<SYNTAX HELLO = V-HELLO>"],["<SYNTAX HELLO OBJECT = V-HELLO>"],["<SYNONYM HELLO HI>"],[],["<SYNTAX INCANT = V-INCANT>"],["<SYNONYM INCANT CHANT>"],[],["<SYNTAX INFLAT OBJECT WITH"],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED) = V-INFLATE>"],[],["<SYNTAX IS OBJECT IN OBJECT = V-IS-IN>"],["<SYNTAX IS OBJECT ON OBJECT = V-IS-IN>"],[],["<SYNTAX JUMP = V-LEAP>"],["<SYNTAX JUMP OVER OBJECT = V-LEAP>"],["<SYNTAX JUMP ACROSS OBJECT = V-LEAP>"],["<SYNTAX JUMP IN OBJECT = V-LEAP>"],["<SYNTAX JUMP FROM OBJECT = V-LEAP>"],["<SYNTAX JUMP OFF OBJECT = V-LEAP>"],["<SYNONYM JUMP LEAP DIVE>"],[],["<SYNTAX KICK OBJECT = V-KICK>"],["<SYNONYM KICK TAUNT>"],[],["<SYNTAX KILL OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = V-ATTACK>"],["<SYNONYM KILL MURDER SLAY DISPATCH>"],[],["<SYNTAX STAB OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-STAB>"],["<SYNTAX STAB OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = V-ATTACK>"],[],["<SYNTAX KISS OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-KISS>"],[],["<SYNTAX KNOCK AT OBJECT = V-KNOCK>"],["<SYNTAX KNOCK ON OBJECT = V-KNOCK>"],["<SYNTAX KNOCK DOWN OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-ATTACK>"],["<SYNONYM KNOCK RAP>"],[],["<SYNTAX LAUNCH OBJECT (FIND VEHBIT) = V-LAUNCH>"],[],["<SYNTAX LEAN ON OBJECT (HELD HAVE) = V-LEAN-ON>"],[],["<SYNTAX LEAVE = V-LEAVE>"],["<SYNTAX LEAVE OBJECT = V-DROP PRE-DROP>"],[],["<SYNTAX LIGHT OBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = V-LAMP-ON>"],["<SYNTAX LIGHT OBJECT (FIND LIGHTBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED TAKE HAVE) = V-BURN PRE-BURN>"],[],["<SYNTAX LISTEN TO OBJECT = V-LISTEN>"],["<SYNTAX LISTEN FOR OBJECT = V-LISTEN>"],[],["<SYNTAX LOCK OBJECT (ON-GROUND IN-ROOM)\tWITH"],["\tOBJECT (FIND TOOLBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE) = V-LOCK>"],[],["<SYNTAX LOOK = V-LOOK>"],["<SYNTAX LOOK AROUND OBJECT (FIND RMUNGBIT) = V-LOOK>"],["<SYNTAX LOOK UP OBJECT (FIND RMUNGBIT) = V-LOOK>"],["<SYNTAX LOOK DOWN OBJECT (FIND RMUNGBIT) = V-LOOK>"],["<SYNTAX LOOK AT OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = V-EXAMINE>"],["<SYNTAX LOOK ON OBJECT = V-LOOK-ON>"],["<SYNTAX LOOK WITH OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = V-LOOK-INSIDE>"],["<SYNTAX LOOK UNDER OBJECT = V-LOOK-UNDER>"],["<SYNTAX LOOK BEHIND OBJECT = V-LOOK-BEHIND>"],["<SYNTAX LOOK IN OBJECT (HELD CARRIED ON-GROUND IN-ROOM MANY) = V-LOOK-INSIDE>"],["<SYNTAX LOOK AT OBJECT (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT = V-READ PRE-READ>"],["<SYNTAX LOOK FOR OBJECT = V-FIND>"],["<SYNONYM LOOK L STARE GAZE>"],[],["<SYNTAX LOWER OBJECT = V-LOWER>"],[],["<SYNTAX LUBRICATE OBJECT WITH OBJECT (HELD CARRIED) = V-OIL>"],["<SYNONYM LUBRICATE OIL GREASE>"],[],["<SYNTAX MAKE OBJECT = V-MAKE>"],[],["<SYNTAX MELT OBJECT"],["\tWITH OBJECT (FIND FLAMEBIT) (HELD CARRIED ON-GROUND IN-ROOM) = V-MELT>"],["<SYNONYM MELT LIQUIFY>"],[],["<SYNTAX MOVE OBJECT (ON-GROUND IN-ROOM) = V-MOVE PRE-MOVE>"],["<SYNTAX MOVE OBJECT (HELD MANY HAVE) IN OBJECT = V-PUT PRE-PUT>"],["<SYNTAX MOVE OBJECT WITH OBJECT (FIND TOOLBIT) = V-TURN PRE-TURN>"],["<SYNTAX ROLL UP OBJECT (ON-GROUND IN-ROOM) = V-MOVE PRE-MOVE>"],["<SYNTAX ROLL OBJECT (ON-GROUND IN-ROOM) = V-MOVE PRE-MOVE>"],[],["<SYNTAX MUMBLE = V-MUMBLE>"],["<SYNONYM MUMBLE SIGH>"],[],["<SYNTAX ODYSSEUS = V-ODYSSEUS>"],["<SYNONYM ODYSSEUS ULYSSES>"],[],["<SYNTAX OPEN OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) = V-OPEN>"],["<SYNTAX OPEN UP\tOBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\t= V-OPEN>"],["<SYNTAX OPEN OBJECT (FIND DOORBIT) (HELD CARRIED ON-GROUND IN-ROOM) WITH"],["\tOBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE) = V-OPEN>"],[],["<SYNTAX PICK OBJECT = V-PICK>"],["<SYNTAX PICK OBJECT WITH OBJECT = V-PICK>"],["<SYNTAX PICK UP\tOBJECT (FIND TAKEBIT) (ON-GROUND MANY) = V-TAKE PRE-TAKE>"],[],["<SYNTAX PLAY OBJECT = V-PLAY>"],[],["<SYNTAX PLUG OBJECT WITH OBJECT = V-PLUG>"],["<SYNONYM PLUG GLUE PATCH REPAIR FIX>"],[],["<SYNTAX PLUGH = V-ADVENT>"],["<SYNONYM PLUGH XYZZY>"],[],["<SYNTAX POKE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = V-MUNG PRE-MUNG>"],["<SYNTAX PUNCTURE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = V-MUNG PRE-MUNG>"],[],["<SYNTAX POUR OBJECT (HELD CARRIED) = V-DROP PRE-DROP>"],["<SYNTAX POUR OBJECT (HELD CARRIED) IN OBJECT = V-DROP PRE-DROP>"],["<SYNTAX POUR OBJECT (HELD CARRIED) ON OBJECT = V-POUR-ON>"],["<SYNTAX POUR OBJECT (HELD CARRIED) FROM OBJECT = V-DROP PRE-DROP>"],["<SYNONYM POUR SPILL>"],[],["<SYNTAX PRAY = V-PRAY>"],[],["<SYNTAX PULL OBJECT (ON-GROUND IN-ROOM) = V-MOVE PRE-MOVE>"],["<SYNTAX PULL ON OBJECT (ON-GROUND IN-ROOM) = V-MOVE PRE-MOVE>"],["<SYNTAX PULL UP OBJECT (ON-GROUND IN-ROOM) = V-MOVE PRE-MOVE>"],["<SYNONYM PULL TUG YANK>"],[],["<SYNTAX PUMP UP OBJECT = V-PUMP>"],["<SYNTAX PUMP UP OBJECT WITH OBJECT = V-PUMP>"],[],["<SYNTAX PUSH OBJECT (IN-ROOM ON-GROUND) OBJECT = V-PUSH-TO>"],["<SYNTAX PUSH OBJECT (IN-ROOM ON-GROUND) TO OBJECT = V-PUSH-TO>"],["<SYNTAX PUSH OBJECT (IN-ROOM ON-GROUND MANY) = V-PUSH>"],["<SYNTAX PUSH ON OBJECT (IN-ROOM ON-GROUND MANY) = V-PUSH>"],["<SYNTAX PUSH OBJECT WITH OBJECT (FIND TOOLBIT) = V-TURN PRE-TURN>"],["<SYNTAX PUSH OBJECT UNDER OBJECT = V-PUT-UNDER>"],["<SYNONYM PUSH PRESS>"],[],["<SYNTAX PUT OBJECT (HELD MANY HAVE) IN OBJECT = V-PUT PRE-PUT>"],["<SYNTAX PUT OBJECT (HELD MANY HAVE) ON OBJECT = V-PUT-ON PRE-PUT>"],["<SYNTAX PUT DOWN OBJECT (HELD MANY) = V-DROP PRE-DROP>"],["<SYNTAX PUT OBJECT (HELD HAVE) UNDER OBJECT = V-PUT-UNDER>"],["<SYNTAX PUT OUT OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = V-LAMP-OFF>"],["<SYNTAX PUT ON OBJECT (IN-ROOM ON-GROUND CARRIED MANY) = V-WEAR>"],["<SYNTAX PUT OBJECT (HELD MANY HAVE) BEHIND OBJECT = V-PUT-BEHIND>"],["<SYNONYM PUT STUFF INSERT PLACE HIDE>"],[],["<SYNTAX RAISE OBJECT = V-RAISE>"],["<SYNTAX RAISE UP OBJECT = V-RAISE>"],["<SYNONYM RAISE LIFT>"],[],["<SYNTAX RAPE OBJECT (FIND ACTORBIT) = V-RAPE>"],["<SYNONYM RAPE MOLEST>"],[],["<SYNTAX READ OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= V-READ PRE-READ>"],["<SYNTAX READ FROM OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\t= V-READ PRE-READ>"],["<SYNTAX READ OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\tWITH OBJECT = V-READ PRE-READ>"],["<SYNTAX READ OBJECT (FIND READBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE)"],["\tOBJECT = V-READ-PAGE>"],["<SYNONYM READ SKIM>"],[],["<SYNTAX REPENT = V-REPENT>"],[],["<SYNTAX RING OBJECT (TAKE) = V-RING>"],["<SYNTAX RING OBJECT (TAKE) WITH OBJECT = V-RING>"],["<SYNONYM RING PEAL>"],[],["<SYNTAX RUB OBJECT = V-RUB>"],["<SYNTAX RUB OBJECT WITH OBJECT = V-RUB>"],["<SYNONYM RUB TOUCH FEEL PAT PET>"],[],["<SYNTAX TALK TO OBJECT (FIND ACTORBIT) (IN-ROOM) = V-TELL>"],["<SYNTAX SAY = V-SAY>"],[],["<SYNTAX SEARCH OBJECT = V-SEARCH>"],["<SYNTAX SEARCH IN OBJECT = V-SEARCH>"],["<SYNTAX SEARCH FOR OBJECT = V-FIND>"],[],["<SYNTAX SEND FOR OBJECT = V-SEND>"],[],["<SYNTAX SHAKE OBJECT (HAVE) = V-SHAKE>"],[],["<SYNTAX SKIP = V-SKIP>"],["<SYNONYM SKIP HOP>"],[],[["Comment",";<SYNTAX SLIDE OBJECT = V-PUSH>"]],["<SYNTAX SLIDE OBJECT UNDER OBJECT = V-PUT-UNDER>"],["<SYNTAX SLIDE OBJECT (IN-ROOM ON-GROUND) OBJECT = V-PUSH-TO>"],["<SYNTAX SLIDE OBJECT (IN-ROOM ON-GROUND) TO OBJECT = V-PUSH-TO>"],[],["<SYNTAX SMELL OBJECT = V-SMELL>"],["<SYNONYM SMELL SNIFF>"],[],["<SYNTAX SPIN OBJECT = V-SPIN>"],[],["<SYNTAX SPRAY OBJECT ON OBJECT = V-SPRAY>"],["<SYNTAX SPRAY OBJECT WITH OBJECT = V-SSPRAY>"],[],["<SYNTAX SQUEEZE OBJECT = V-SQUEEZE>"],["<SYNTAX SQUEEZE OBJECT ON OBJECT = V-PUT PRE-PUT>"],[],["<SYNTAX STAND = V-STAND>"],["<SYNTAX STAND UP OBJECT (FIND RMUNGBIT) = V-STAND>"],[],["<SYNTAX STAY = V-STAY>"],[],["<SYNTAX STRIKE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) WITH OBJECT"],["\t(FIND WEAPONBIT) (HELD CARRIED ON-GROUND IN-ROOM HAVE) = V-ATTACK>"],["<SYNTAX STRIKE OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = V-STRIKE>"],[],["<SYNTAX SWIM = V-SWIM>"],["<SYNTAX SWIM IN OBJECT = V-SWIM>"],["<SYNONYM SWIM BATHE WADE>"],[],["<SYNTAX SWING OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE) = V-SWING>"],["<SYNTAX SWING OBJECT (FIND WEAPONBIT) (HELD CARRIED HAVE)"],["\tAT OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-SWING>"],["<SYNONYM SWING THRUST>"],[],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (ON-GROUND IN-ROOM MANY) = V-TAKE PRE-TAKE>"],["<SYNTAX TAKE IN OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = V-BOARD PRE-BOARD>"],["<SYNTAX TAKE OUT OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = V-DISEMBARK>"],["<SYNTAX TAKE ON OBJECT (FIND VEHBIT) (ON-GROUND IN-ROOM) = V-CLIMB-ON>"],["<SYNTAX TAKE UP OBJECT (FIND RMUNGBIT) = V-STAND>"],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (CARRIED IN-ROOM MANY)"],["\tOUT OBJECT = V-TAKE PRE-TAKE>"],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (CARRIED IN-ROOM MANY)"],["\tOFF OBJECT = V-TAKE PRE-TAKE>"],["<SYNTAX TAKE OBJECT (FIND TAKEBIT) (IN-ROOM CARRIED MANY)"],["\tFROM OBJECT = V-TAKE PRE-TAKE>"],["<SYNONYM TAKE GET HOLD CARRY REMOVE GRAB CATCH>"],[],["<SYNTAX TELL OBJECT (FIND ACTORBIT) (IN-ROOM) = V-TELL>"],["<SYNONYM TELL ASK>"],[],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE)"],["\tAT OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-THROW>"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE)"],["\tWITH OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-THROW>"],["<SYNTAX THROW OBJECT OBJECT = V-OVERBOARD>"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) IN OBJECT = V-PUT PRE-PUT>"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) ON OBJECT = V-PUT-ON PRE-PUT>"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) OFF OBJECT = V-THROW-OFF>"],["<SYNTAX THROW OBJECT (HELD CARRIED HAVE) OVER OBJECT = V-THROW-OFF>"],["<SYNONYM THROW HURL CHUCK TOSS>"],[],["<SYNTAX TIE OBJECT TO OBJECT = V-TIE>"],["<SYNTAX TIE UP OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) WITH OBJECT"],["\t(FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE) = V-TIE-UP>"],["<SYNONYM TIE FASTEN SECURE ATTACH>"],[],["<SYNTAX TREASURE = V-TREASURE>"],["<SYNONYM TREASURE TEMPLE>"],[],["<SYNTAX TURN OBJECT (FIND TURNBIT) (HELD CARRIED ON-GROUND IN-ROOM)"],["\tWITH OBJECT (FIND TOOLBIT) (ON-GROUND IN-ROOM HELD CARRIED HAVE)"],["\t= V-TURN PRE-TURN>"],["<SYNTAX TURN ON\tOBJECT (FIND LIGHTBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM) = V-LAMP-ON>"],["<SYNTAX TURN ON OBJECT WITH OBJECT (HAVE) = V-LAMP-ON>"],["<SYNTAX TURN OFF OBJECT (FIND ONBIT)"],["\t(HELD CARRIED ON-GROUND IN-ROOM TAKE HAVE) = V-LAMP-OFF>"],["<SYNTAX TURN OBJECT (FIND TURNBIT) TO OBJECT = V-TURN PRE-TURN>"],["<SYNTAX TURN OBJECT (FIND TURNBIT) FOR OBJECT = V-TURN PRE-TURN>"],[["Comment",";<SYNTAX TURN OBJECT (FIND TURNBIT) = V-TURN PRE-TURN>"]],["<SYNONYM TURN SET FLIP SHUT>"],[],["<SYNTAX UNLOCK OBJECT (ON-GROUND IN-ROOM) WITH OBJECT"],["\t(FIND TOOLBIT) (HELD CARRIED ON-GROUND IN-ROOM TAKE) = V-UNLOCK>"],[],["<SYNTAX UNTIE OBJECT (ON-GROUND IN-ROOM HELD CARRIED) = V-UNTIE>"],["<SYNTAX UNTIE OBJECT (ON-GROUND IN-ROOM HELD CARRIED)"],["\tFROM OBJECT = V-UNTIE>"],["<SYNONYM UNTIE FREE RELEASE UNFASTEN UNATTACH UNHOOK>"],[],["<SYNTAX WAIT = V-WAIT>"],["<SYNONYM WAIT Z>"],[],["<SYNTAX WAKE OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-ALARM>"],["<SYNTAX WAKE UP OBJECT (FIND ACTORBIT) (ON-GROUND IN-ROOM) = V-ALARM>"],["<SYNONYM WAKE AWAKE SURPRISE STARTLE>"],[],["<SYNTAX WALK OBJECT = V-WALK>"],["<SYNTAX WALK AWAY OBJECT = V-WALK>"],["<SYNTAX WALK IN OBJECT = V-THROUGH>"],["<SYNTAX WALK WITH OBJECT = V-THROUGH>"],["<SYNTAX WALK ON OBJECT = V-THROUGH>"],["<SYNTAX WALK OVER OBJECT = V-LEAP>"],["<SYNTAX WALK TO OBJECT = V-WALK-TO>"],["<SYNTAX WALK AROUND OBJECT = V-WALK-AROUND>"],["<SYNTAX WALK UP OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = V-CLIMB-UP>"],["<SYNTAX WALK DOWN OBJECT (FIND CLIMBBIT) (ON-GROUND IN-ROOM) = V-CLIMB-DOWN>"],["<SYNONYM WALK GO RUN PROCEED STEP>"],[],["<SYNTAX WAVE OBJECT (HELD CARRIED TAKE HAVE) = V-WAVE>"],["<SYNTAX WAVE OBJECT (HELD CARRIED TAKE HAVE) AT OBJECT = V-WAVE>"],["<SYNONYM WAVE BRANDISH>"],[],["<SYNTAX WEAR OBJECT = V-WEAR>"],[],["<SYNTAX WIN = V-WIN>"],["<SYNONYM WIN WINNAGE>"],[],["<SYNTAX WIND OBJECT = V-WIND>"],["<SYNTAX WIND UP OBJECT = V-WIND>"],[],["<SYNTAX WISH = V-WISH>"],[],["<SYNTAX YELL = V-YELL>"],["<SYNONYM YELL SCREAM SHOUT>"],[],["<SYNTAX ZORK = V-ZORK>"]],"gverbs.zil":[["\t\t\t",["Str","\"Generic VERBS file for"]],[["Str","\t\t\t    The ZORK Trilogy"]],[["Str","\t\t       started on 7/25/83 by SEM\""]],[],["^L"],[],[["Str","\"Verb Functions for Game Commands\""]],[],["<GLOBAL VERBOSE <>>"],["<GLOBAL SUPER-BRIEF <>>"],["<GDECL (VERBOSE SUPER-BRIEF) <OR ATOM FALSE>>"],[],["<ROUTINE V-VERBOSE ()"],["\t <SETG VERBOSE T>"],["\t <SETG SUPER-BRIEF <>>"],["\t <TELL ",["Str","\"Maximum verbosity.\""]," CR>>"],[],["<ROUTINE V-BRIEF ()"],["\t <SETG VERBOSE <>>"],["\t <SETG SUPER-BRIEF <>>"],["\t <TELL ",["Str","\"Brief descriptions.\""]," CR>>"],[],["<ROUTINE V-SUPER-BRIEF ()"],["\t <SETG SUPER-BRIEF T>"],["\t <TELL ",["Str","\"Super-brief descriptions.\""]," CR>>"],[],[["Comment",";\"V-DIAGNOSE is in ACTIONS.ZIL\""]],[],["<ROUTINE V-INVENTORY ()"],["\t <COND (<FIRST? ,WINNER> <PRINT-CONT ,WINNER>)"],["\t       (T <TELL ",["Str","\"You are empty-handed.\""]," CR>)>>"],[],["<ROUTINE V-QUIT (",["Str","\"OPTIONAL\""]," (ASK? T) ",["Str","\"AUX\""]," SCOR)"],["\t <V-SCORE>"],["\t <COND (<OR <AND .ASK?"],["\t\t\t <TELL"],[["Str","\"Do you wish to leave the game? (Y is affirmative): \""],">"],["\t\t\t <YES?>>"],["\t\t    <NOT .ASK?>>"],["\t\t<QUIT>)"],["\t       (ELSE <TELL ",["Str","\"Ok.\""]," CR>)>>"],[],["<ROUTINE V-RESTART ()"],["\t <V-SCORE T>"],["\t <TELL ",["Str","\"Do you wish to restart? (Y is affirmative): \""],">"],["\t <COND (<YES?>"],["\t\t<TELL ",["Str","\"Restarting.\""]," CR>"],["\t\t<RESTART>"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],["<ROUTINE V-RESTORE ()"],["\t <COND (<RESTORE>"],["\t\t<TELL ",["Str","\"Ok.\""]," CR>"],["\t\t<V-FIRST-LOOK>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],["<ROUTINE V-SAVE ()"],["\t <COND (<SAVE>"],["\t        <TELL ",["Str","\"Ok.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Failed.\""]," CR>)>>"],[],[["Comment",";\"V-SCORE is in ACTIONS.ZIL\""]],[],["<ROUTINE V-SCRIPT ()"],["\t<PUT 0 8 <BOR <GET 0 8> 1>>"],["\t<TELL ",["Str","\"Here begins a transcript of interaction with\""]," CR>"],["\t<V-VERSION>"],["\t<RTRUE>>"],[],["<ROUTINE V-UNSCRIPT ()"],["\t<TELL ",["Str","\"Here ends a transcript of interaction with\""]," CR>"],["\t<V-VERSION>"],["\t<PUT 0 8 <BAND <GET 0 8> -2>>"],["\t<RTRUE>>"],[],["<ROUTINE V-VERSION (",["Str","\"AUX\""]," (CNT 17))"],["\t%<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t'<TELL ",["Str","\"ZORK I: The Great Underground Empire|"]],[["Str","Copyright (c) 1981, 1982, 1983 Infocom, Inc. \""],">)"],["\t       (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t'<TELL ",["Str","\"ZORK II: The Wizard of Frobozz|"]],[["Str","***RENOVATED VERSION***|"]],[["Str","Copyright (c) 1981, 1982, 1983 Infocom, Inc. \""],">)"],["\t       (T"],["\t\t'<TELL ",["Str","\"ZORK III: The Dungeon Master|"]],[["Str","Copyright (c) 1982, 1983 Infocom, Inc. \""],">)>"],["\t<TELL ",["Str","\"All rights reserved.\""]," CR>"],["\t<COND (<NOT <==? <BAND <GETB 0 1> 8> 0>>"],["\t       <TELL ",["Str","\"Licensed to Tandy Corporation.\""]," CR>)>"],["\t<TELL ",["Str","\"ZORK is a registered trademark of Infocom, Inc.|"]],[["Str","Revision \""],">"],["\t<PRINTN <BAND <GET 0 1> *3777*>>"],["\t<TELL ",["Str","\" / Serial number \""],">"],["\t<REPEAT ()"],["\t\t<COND (<G? <SET CNT <+ .CNT 1>> 23>"],["\t\t       <RETURN>)"],["\t\t      (T"],["\t\t       <PRINTC <GETB 0 .CNT>>)>>"],["\t<CRLF>>"],[],["<ROUTINE V-VERIFY ()"],["\t <TELL ",["Str","\"Verifying disk...\""]," CR>"],["\t <COND (<VERIFY>"],["\t\t<TELL ",["Str","\"The disk is correct.\""]," CR>)"],["\t       (T"],["\t\t<TELL CR ",["Str","\"** Disk Failure **\""]," CR>)>>"],[],["^L"],[],[["Str","\"Real Verb Functions\""]],[],["<ROUTINE V-ADVENT ()"],["\t <TELL ",["Str","\"A hollow voice says \\\"Fool.\\\"\""]," CR>>"],[],["<ROUTINE V-AGAIN (",["Str","\"AUX\""]," (OBJ <>))"],["\t <COND (<EQUAL? ,L-PRSA ,V?WALK>"],["\t\t<PERFORM ,L-PRSA ,L-PRSO>)"],["\t       (T"],["\t\t<COND (,L-PRSO"],["\t\t       <COND (<OR <NOT <LOC ,L-PRSO>>"],["\t\t\t\t  <FSET? ,L-PRSO ,INVISIBLE>>"],["\t\t\t      <SET OBJ ,L-PRSO>)>)>"],["\t\t<COND (,L-PRSI"],["\t\t       <COND (<OR <NOT <LOC ,L-PRSI>>"],["\t\t\t\t  <FSET? ,L-PRSI ,INVISIBLE>>"],["\t\t\t      <SET OBJ ,L-PRSI>)>)>"],["\t\t<COND (<AND .OBJ"],["\t\t\t    <NOT <EQUAL? .OBJ ,PSEUDO-OBJECT ,ROOMS>>>"],["\t\t       <TELL ",["Str","\"You can't see the \""]," D .OBJ ",["Str","\" anymore.\""]," CR>"],["\t\t       <RFATAL>)"],["\t\t      (T"],["\t\t       <PERFORM ,L-PRSA ,L-PRSO ,L-PRSI>)>)>>"],[],["<ROUTINE V-ALARM ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t      '(<L? <GETP ,PRSO ,P?STRENGTH> 0>"],["\t\t                <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is rudely awakened.\""]," CR>"],["\t\t                <AWAKEN ,PRSO>))"],["\t\t\t     (T"],["\t\t\t      '(<NULL-F> <RTRUE>))>"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"He's wide awake, or haven't you noticed...\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" isn't sleeping.\""]," CR>)>>"],[],["<ROUTINE V-ANSWER ()"],["\t <TELL ",["Str","\"Nobody seems to be awaiting your answer.\""]," CR>"],["\t <SETG P-CONT <>>"],["\t <SETG QUOTE-FLAG <>>"],["\t <RTRUE>>"],[],["<ROUTINE V-ATTACK ()"],["\t <COND (<NOT <FSET? ,PRSO ,ACTORBIT>>"],["\t\t<TELL"],[["Str","\"I've known strange people, but fighting a \""]," D ,PRSO ",["Str","\"?\""]," CR>)"],["\t       (<OR <NOT ,PRSI>"],["\t\t    <EQUAL? ,PRSI ,HANDS>>"],["\t\t<TELL"],[["Str","\"Trying to attack a \""]," D ,PRSO ",["Str","\" with your bare hands is suicidal.\""]," CR>)"],["\t       (<NOT <IN? ,PRSI ,WINNER>>"],["\t\t<TELL ",["Str","\"You aren't even holding the \""]," D ,PRSI ",["Str","\".\""]," CR>)"],["\t       (<NOT <FSET? ,PRSI ,WEAPONBIT>>"],["\t\t<TELL"],[["Str","\"Trying to attack the \""]," D ,PRSO ",["Str","\" with a \""]," D ,PRSI ",["Str","\" is suicidal.\""]," CR>)"],["\t       (T"],["\t        %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t'<HERO-BLOW>)"],["\t\t       (T"],["\t\t\t'<TELL ",["Str","\"You can't.\""]," CR>)>)>>"],[],["<ROUTINE V-BACK ()"],["\t <TELL ",["Str","\"Sorry, my memory is poor. Please give a direction.\""]," CR>>"],[],["<ROUTINE V-BLAST ()"],["\t <TELL ",["Str","\"You can't blast anything by using words.\""]," CR>>"],[],["<ROUTINE PRE-BOARD (",["Str","\"AUX\""]," AV)"],["\t <SET AV <LOC ,WINNER>>"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t       '(<EQUAL? ,PRSO ,WATER-CHANNEL>"],["\t\t         <RFALSE>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (<FSET? ,PRSO ,VEHBIT>"],["\t\t<COND (<NOT <IN? ,PRSO ,HERE>>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" must be on the ground to be boarded.\""]," CR>)"],["\t\t      (<FSET? .AV ,VEHBIT>"],["\t\t       <TELL ",["Str","\"You are already in the \""]," D .AV ",["Str","\"!\""]," CR>)"],["\t\t      (T"],["\t\t       <RFALSE>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You have a theory on how to board a \""]," D ,PRSO ",["Str","\", perhaps?\""]," CR>)>"],["\t <RFATAL>>"],[],["<ROUTINE V-BOARD (",["Str","\"AUX\""]," AV)"],["\t <TELL ",["Str","\"You are now in the \""]," D ,PRSO ",["Str","\".\""]," CR>"],["\t <MOVE ,WINNER ,PRSO>"],["\t <APPLY <GETP ,PRSO ,P?ACTION> ,M-ENTER>"],["\t <RTRUE>>"],[],["<ROUTINE V-BREATHE ()"],["\t <PERFORM ,V?INFLATE ,PRSO ,LUNGS>>"],[],["<ROUTINE V-BRUSH ()"],["\t <TELL ",["Str","\"If you wish, but heaven only knows why.\""]," CR>>"],[],["<ROUTINE V-BUG ()"],["\t <TELL"],[["Str","\"Bug? Not in a flawless program like this! (Cough, cough).\""]," CR>>"],[],["<ROUTINE PRE-BURN ()"],["\t <COND (<FLAMING? ,PRSI>"],["\t        <RFALSE>)"],["\t       (T"],["\t        <TELL ",["Str","\"With a \""]," D ,PRSI ",["Str","\"??!?\""]," CR>)>>"],[],["<ROUTINE V-BURN ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t       '(<EQUAL? <LOC ,PRSO> ,RECEPTACLE>"],["\t\t         <BALLOON-BURN>"],["\t\t         <RTRUE>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RFALSE>))>"],["\t       (<FSET? ,PRSO ,BURNBIT>"],["\t\t<COND (<OR <IN? ,PRSO ,WINNER>"],["\t\t\t   <IN? ,WINNER ,PRSO>>"],["\t\t       <REMOVE-CAREFULLY ,PRSO>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO>"],["\t\t       <TELL"],[["Str","\" catches fire. Unfortunately, you were \""],">"],["\t\t       <COND (<IN? ,WINNER ,PRSO>"],["\t\t\t      <TELL ",["Str","\"in\""],">)"],["\t\t\t     (T <TELL ",["Str","\"holding\""],">)>"],["\t\t       <JIGS-UP ",["Str","\" it at the time.\""],">)"],["\t\t      (T"],["\t\t       <REMOVE-CAREFULLY ,PRSO>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" catches fire and is consumed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't burn a \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-CHOMP ()"],["\t <TELL ",["Str","\"Preposterous!\""]," CR>>"],[],["<ROUTINE V-CLIMB-DOWN () <V-CLIMB-UP ,P?DOWN ,PRSO>>"],[],["<ROUTINE V-CLIMB-FOO ()"],["\t <V-CLIMB-UP ,P?UP ,PRSO>>"],[],["<ROUTINE V-CLIMB-ON ()"],["\t <COND (<FSET? ,PRSO ,VEHBIT>"],["\t\t<PERFORM ,V?BOARD ,PRSO>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't climb onto the \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-CLIMB-UP (",["Str","\"OPTIONAL\""]," (DIR ,P?UP) (OBJ <>) ",["Str","\"AUX\""]," X TX)"],["\t <COND (<AND <NOT .OBJ> ,PRSO>"],["\t\t<SET OBJ ,PRSO>)>"],["\t <COND (<SET TX <GETPT ,HERE .DIR>>"],["\t\t<COND (.OBJ"],["\t\t       <SET X <PTSIZE .TX>>"],["\t\t       <COND (<OR <EQUAL? .X ,NEXIT>"],["\t\t\t\t  <AND <EQUAL? .X ,CEXIT ,DEXIT ,UEXIT>"],["\t\t\t\t       <NOT <GLOBAL-IN? ,PRSO <GETB .TX 0>>>>>"],["\t\t\t      <TELL ",["Str","\"The \""]," D .OBJ ",["Str","\" do\""],">"],["\t\t\t      <COND (<NOT <EQUAL? .OBJ ,STAIRS>>"],["\t\t\t\t     <TELL ",["Str","\"es\""],">)>"],["\t\t\t      <TELL ",["Str","\"n't lead \""],">"],["\t\t\t      <COND (<==? .DIR ,P?UP>"],["\t\t\t\t     <TELL ",["Str","\"up\""],">)"],["\t\t\t\t    (T <TELL ",["Str","\"down\""],">)>"],["\t\t\t      <TELL ",["Str","\"ward.\""]," CR>"],["\t\t\t      <RTRUE>)>)>"],["\t\t<DO-WALK .DIR>"],["\t\t<RTRUE>)"],["\t       (<NOT .OBJ>"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>)"],["\t       (<AND .OBJ"],["\t\t     <ZMEMQ ,W?WALL"],["\t\t\t    <SET X <GETPT ,PRSO ,P?SYNONYM>> <PTSIZE .X>>>"],["\t\t<TELL ",["Str","\"Climbing the walls is to no avail.\""]," CR>)"],["\t       (T"],["\t        <TELL ",["Str","\"You can't do that!\""]," CR>)>>"],[],["<ROUTINE V-CLOSE ()"],["\t <COND (<AND <NOT <FSET? ,PRSO ,CONTBIT>>"],["\t\t     <NOT <FSET? ,PRSO ,DOORBIT>>>"],["\t\t<TELL ",["Str","\"You must tell me how to do that to a \""]," D ,PRSO ",["Str","\".\""]," CR>)"],["\t       (<AND <NOT <FSET? ,PRSO ,SURFACEBIT>>"],["\t\t     <NOT <EQUAL? <GETP ,PRSO ,P?CAPACITY> 0>>>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <FCLEAR ,PRSO ,OPENBIT>"],["\t\t       <TELL ",["Str","\"Closed.\""]," CR>"],["\t\t       <COND (<AND ,LIT <NOT <SETG LIT <LIT? ,HERE>>>>"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t \t       <TELL ",["Str","\"It is already closed.\""]," CR>)>)"],["\t       (<FSET? ,PRSO ,DOORBIT>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <FCLEAR ,PRSO ,OPENBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is now closed.\""]," CR>)"],["\t\t      (T"],["\t \t       <TELL ",["Str","\"It is already closed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You cannot close that.\""]," CR>)>>"],[],["<ROUTINE V-COMMAND ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" pays no attention.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You cannot talk to that!\""]," CR>)>>"],[],["<ROUTINE V-COUNT ()"],["\t <COND (<EQUAL? ,PRSO ,BLESSINGS>"],["\t \t<TELL ",["Str","\"Well, for one, you are playing Zork...\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You have lost your mind.\""]," CR>)>>"],[],["<ROUTINE V-CROSS ()"],["\t <TELL ",["Str","\"You can't cross that!\""]," CR>>"],[],["<ROUTINE V-CURSES ()"],["\t <COND (,PRSO"],["\t\t<COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t       <TELL ",["Str","\"Insults of this nature won't help you.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"What a loony!\""]," CR>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"Such language in a high-class establishment like this!\""]," CR>)>>"],[],["<ROUTINE V-CUT ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<PERFORM ,V?ATTACK ,PRSO ,PRSI>)"],["\t       (<AND <FSET? ,PRSO ,BURNBIT>"],["\t\t     <FSET? ,PRSI ,WEAPONBIT>>"],["\t\t<COND (<IN? ,WINNER ,PRSO>"],["\t\t       <TELL"],[["Str","\"Not a bright idea, especially since you're in it.\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<REMOVE-CAREFULLY ,PRSO>"],["\t\t<TELL ",["Str","\"Your skillful \""]," D ,PRSI ",["Str","\"smanship slices the \""]," D ,PRSO"],[["Str","\" into innumerable slivers which blow away.\""]," CR>)"],["\t       (<NOT <FSET? ,PRSI ,WEAPONBIT>>"],["\t\t<TELL"],[["Str","\"The \\\"cutting edge\\\" of a \""]," D ,PRSI ",["Str","\" is hardly adequate.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Strange concept, cutting the \""]," D ,PRSO ",["Str","\"....\""]," CR>)>>"],[],["<ROUTINE V-DEFLATE ()"],["\t <TELL ",["Str","\"Come on, now!\""]," CR>>"],[],["<ROUTINE V-DIG ()"],["\t <COND (<NOT ,PRSI>"],["\t\t<SETG PRSI ,HANDS>)>"],["\t <COND (<EQUAL? ,PRSI ,SHOVEL>"],["\t\t<TELL ",["Str","\"There's no reason to be digging here.\""]," CR>)"],["\t       (<FSET? ,PRSI ,TOOLBIT>"],["\t\t<TELL ",["Str","\"Digging with the \""]," D ,PRSI ",["Str","\" is slow and tedious.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Digging with a \""]," D ,PRSI ",["Str","\" is silly.\""]," CR>)>>"],[],["<ROUTINE V-DISEMBARK ()"],["\t <COND (<NOT <EQUAL? <LOC ,WINNER> ,PRSO>>"],["\t\t<TELL ",["Str","\"You're not in that!\""]," CR>"],["\t\t<RFATAL>)"],["\t       (<FSET? ,HERE ,RLANDBIT>"],["\t\t<TELL ",["Str","\"You are on your own feet again.\""]," CR>"],["\t\t<MOVE ,WINNER ,HERE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You realize that getting out here would be fatal.\""]," CR>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE V-DISENCHANT ()"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<COND (<NOT <IN? ,PRSO ,HERE>>"],["\t\t         <RTRUE>)"],["\t                (<OR <EQUAL? ,SPELL-USED ,W?FEEBLE ,W?FUMBLE ,W?FEAR>"],["\t\t          <EQUAL? ,SPELL-USED ,W?FREEZE ,W?FALL ,W?FERMENT>"],["\t\t          <EQUAL? ,SPELL-USED ,W?FIERCE ,W?FENCE ,W?FANTASIZE>>"],["\t\t          <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t                 <COND (<EQUAL? ,SPELL-USED ,W?FEEBLE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" seems stronger now.\""]," CR>)"],["\t\t\t               (<EQUAL? ,SPELL-USED ,W?FUMBLE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" no longer appears clumsy.\""]," CR>)"],["\t\t\t               (<EQUAL? ,SPELL-USED ,W?FEAR>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" no longer appears afraid.\""]," CR>)"],["\t\t\t               (<EQUAL? ,SPELL-USED ,W?FREEZE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" moves again.\""]," CR>)"],["\t\t\t               (<EQUAL? ,SPELL-USED ,W?FERMENT>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" stops swaying.\""]," CR>)"],["\t\t\t               (<EQUAL? ,SPELL-USED ,W?FIERCE>"],["\t\t\t                <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" appears more peaceful.\""]," CR>)>)>)"],["\t                        (<EQUAL? ,SPELL-USED ,W?FLOAT>"],["\t\t                 <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" sinks to the ground.\""]," CR>)"],["\t                        (<EQUAL? ,SPELL-USED ,W?FUDGE>"],["\t\t                 <TELL ",["Str","\"The sweet smell has dispersed.\""]," CR>)>)"],["\t\t(T"],["\t\t '<TELL ",["Str","\"Nothing happens.\""]," CR>)>>"],[],["<ROUTINE V-DRINK ()"],["\t <V-EAT>>"],[],["<ROUTINE V-DRINK-FROM ()"],["\t <TELL ",["Str","\"How peculiar!\""]," CR>>"],[],["<ROUTINE PRE-DROP ()"],["\t <COND (<EQUAL? ,PRSO <LOC ,WINNER>>"],["\t\t<PERFORM ,V?DISEMBARK ,PRSO>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE V-DROP ()"],["\t <COND (<IDROP>"],["\t\t<TELL ",["Str","\"Dropped.\""]," CR>)>>"],[],["<ROUTINE V-EAT (",["Str","\"AUX\""]," (EAT? <>) (DRINK? <>) (NOBJ <>))"],["\t <COND (<SET EAT? <FSET? ,PRSO ,FOODBIT>>"],["\t\t<COND (<AND <NOT <IN? ,PRSO ,WINNER>>"],["\t\t\t    <NOT <IN? <LOC ,PRSO> ,WINNER>>>"],["\t\t       <TELL ",["Str","\"You're not holding that.\""]," CR>)"],["\t\t      (<VERB? DRINK>"],["\t\t       <TELL ",["Str","\"How can you drink that?\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Thank you very much. It really hit the spot.\""],">"],["\t\t       <REMOVE-CAREFULLY ,PRSO>)>"],["\t\t<CRLF>)"],["\t       (<FSET? ,PRSO ,DRINKBIT>"],["\t\t<SET DRINK? T>"],["\t\t<SET NOBJ <LOC ,PRSO>>"],["\t\t<COND (<OR <IN? ,PRSO ,GLOBAL-OBJECTS>"],["\t\t\t   <IN? ,PRSO ,",["Id","LOCAL-GLOBALS"],">"],["\t\t\t   <EQUAL? ,PRSO ,PSEUDO-OBJECT>>"],["\t\t       <HIT-SPOT>)"],["\t\t      (<NOT .NOBJ>"],["\t\t       <TELL"],[["Str","\"You don't have any to drink.\""]," CR>)"],["\t\t      (<NOT <IN? .NOBJ ,WINNER>>"],["\t\t       <TELL"],[["Str","\"You have to be holding the \""]," D .NOBJ ",["Str","\" first.\""]," CR>)"],["\t\t      (<NOT <FSET? .NOBJ ,OPENBIT>>"],["\t\t       <TELL"],[["Str","\"You'll have to open the \""]," D .NOBJ ",["Str","\" first.\""]," CR>)"],["\t\t      (T"],["\t\t       <HIT-SPOT>)>)"],["\t       (<NOT <OR .EAT? .DRINK?>>"],["\t\t<TELL"],[["Str","\"I don't think that the \""]," D ,PRSO ",["Str","\" would agree with you.\""]," CR>)>>"],[],["<ROUTINE HIT-SPOT ()"],["\t <TELL"],[["Str","\"Thank you very much. I was rather thirsty (from all this talking,"]],[["Str","probably).\""]," CR>"],["         <REMOVE-CAREFULLY ,PRSO>>"],[],["<ROUTINE V-ECHO (",["Str","\"AUX\""]," LST MAX (ECH 0) CNT)"],["\t #DECL ((LST) <PRIMTYPE VECTOR> (MAX CNT ECH) FIX)"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t '<COND (<G? <GETB ,P-LEXV ,P-LEXWORDS> 0>"],["\t                 <SET LST <REST"],["\t\t\t\t   ,P-LEXV"],["\t\t\t\t   <* <GETB ,P-LEXV ,P-LEXWORDS> ,P-WORDLEN>>>"],["\t                 <SET MAX <- <+ <GETB .LST 0> <GETB .LST 1>> 1>>"],["\t                 <REPEAT ()"],["\t\t            <COND (<G? <SET ECH <+ .ECH 1>> 2>"],["\t\t\t           <TELL ",["Str","\"...\""]," CR>"],["\t\t\t\t   <RETURN>)"],["\t\t\t          (T"],["\t\t\t           <SET CNT <- <GETB .LST 1> 1>>"],["\t\t\t           <REPEAT ()"],["\t\t\t\t      <COND (<G? <SET CNT <+ .CNT 1>> .MAX>"],["\t\t\t\t\t     <RETURN>)"],["\t\t\t\t\t    (T"],["\t\t\t\t\t     <PRINTC <GETB ,P-INBUF .CNT>>)>>"],["\t\t\t           <TELL ",["Str","\" \""],">)>>)"],["\t\t\t(T <TELL ",["Str","\"echo echo ...\""]," CR>)>)"],["\t\t(T"],["\t\t '<TELL ",["Str","\"echo echo ...\""]," CR>)>>"],[],["<ROUTINE V-ENCHANT ()"],["%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t'<COND (,WAND-ON <SETG SPELL-VICTIM ,WAND-ON>)>)"],["       (T"],["\t'<NULL-F>)>"],["%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t'<COND (,SPELL-VICTIM"],["\t\t<COND (<NOT ,SPELL-USED>"],["\t\t       <TELL ",["Str","\"You must be more specific.\""]," CR>"],["\t\t       <RTRUE>)>"],["\t\t<COND (<OR <EQUAL? ,SPELL-USED ,W?FEEBLE ,W?FUMBLE ,W?FEAR>"],["\t\t\t   <EQUAL? ,SPELL-USED ,W?FREEZE ,W?FALL ,W?FERMENT>"],["\t\t\t   <EQUAL? ,SPELL-USED ,W?FIERCE ,W?FENCE ,W?FANTASIZE>>"],["\t\t       <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t\t      <TELL"],[["Str","\"The wand stops glowing, but there is no other obvious effect.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"That might have done something, but it's hard to tell with a \""]," D ,PRSO ",["Str","\".\""]," CR>)>)"],["\t\t      ",["Comment",";(<EQUAL? ,SPELL-USED ,W?FIREPROOF>"]],[["Comment","\t\t       <RTRUE>)"]],["\t\t      (<EQUAL? ,SPELL-USED ,W?FUDGE>"],["\t\t       <TELL"],[["Str","\"A strong odor of chocolate permeates the room.\""]," CR>)"],["\t\t      (<EQUAL? ,SPELL-USED ,W?FLUORESCE>"],["\t\t       <FSET ,PRSO ,LIGHTBIT>"],["\t\t       <FSET ,PRSO ,ONBIT>"],["\t\t       <SETG LIT T>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" begins to glow.\""]," CR>)"],["\t\t      (<EQUAL? ,SPELL-USED ,W?FILCH>"],["\t\t       <SETG SPELL-HANDLED? T>"],["\t\t       <COND (<FSET? ,PRSO ,TAKEBIT>"],["\t\t\t      <MOVE ,PRSO ,WINNER>"],["\t\t\t      <SCORE-OBJ ,PRSO>"],["\t\t\t      <TELL ",["Str","\"Filched!\""]," CR>)"],["\t\t\t     (ELSE"],["\t\t\t      <TELL ",["Str","\"You can't filch the \""]," D ,PRSO ",["Str","\"!\""]," CR>)>)"],["\t\t      (<AND <EQUAL? ,SPELL-USED ,W?FLOAT>"],["\t\t\t    <FSET? ,PRSO ,TAKEBIT>>"],["\t\t       <COND (<AND <EQUAL? ,SPELL-VICTIM ,COLLAR>"],["\t\t\t\t   <IN? ,COLLAR ,CERBERUS>>"],["\t\t\t      <SETG SPELL-VICTIM ,CERBERUS>)>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" floats serenely in mid-air.\""]," CR>)"],["\t\t      (<AND <EQUAL? ,SPELL-USED ,W?FRY>"],["\t\t\t    <FSET? ,PRSO ,TAKEBIT>>"],["\t\t       <SETG SPELL-HANDLED? T>"],["\t\t       <REMOVE-CAREFULLY ,PRSO>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" goes up in a puff of smoke.\""]," CR>)"],["\t\t      (ELSE"],["\t\t       <SETG SPELL-VICTIM <>>"],["\t\t       <TELL"],[["Str","\"The wand stops glowing, but there is no other apparent effect.\""]," CR>)>)"],["\t       (ELSE"],["\t\t<SETG SPELL-VICTIM <>>"],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)>)"],["       (T"],["\t'<V-DISENCHANT>)>>"],[],["<ROUTINE REMOVE-CAREFULLY (OBJ ",["Str","\"AUX\""]," OLIT)"],["\t <COND (<EQUAL? .OBJ ,P-IT-OBJECT>"],["\t\t<SETG P-IT-OBJECT <>>"],["\t\t<SETG P-IT-LOC <>>)>"],["\t <SET OLIT ,LIT>"],["\t <REMOVE .OBJ>"],["\t <SETG LIT <LIT? ,HERE>>"],["\t <COND (<AND .OLIT <NOT <EQUAL? .OLIT ,LIT>>>"],["\t\t<TELL ",["Str","\"You are left in the dark...\""]," CR>)>"],["\t T>"],[],["<ROUTINE V-ENTER ()"],["\t<DO-WALK ,P?IN>>"],[],["<ROUTINE V-EXAMINE ()"],["\t <COND (<GETP ,PRSO ,P?TEXT>"],["\t\t<TELL <GETP ,PRSO ,P?TEXT> CR>)"],["\t       (<OR <FSET? ,PRSO ,CONTBIT>"],["\t\t    <FSET? ,PRSO ,DOORBIT>>"],["\t\t<V-LOOK-INSIDE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"There's nothing special about the \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-EXIT ()"],["\t <DO-WALK ,P?OUT>>"],[],["<ROUTINE V-EXORCISE ()"],["\t <TELL ",["Str","\"What a bizarre concept!\""]," CR>>"],[],["<ROUTINE PRE-FILL (",["Str","\"AUX\""]," TX)"],["\t <COND (<AND <NOT ,PRSI> <SET TX <GETPT ,HERE ,P?GLOBAL>>>"],["\t\t<COND (<ZMEMQB ,GLOBAL-WATER .TX <- <PTSIZE .TX> 1>>"],["\t\t       <SETG PRSI ,GLOBAL-WATER>"],["\t\t       <RFALSE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There is nothing to fill it with.\""]," CR>"],["\t\t       <RTRUE>)>)>"],["\t <COND (<NOT <EQUAL? ,PRSI ,GLOBAL-WATER>>"],["\t\t<PERFORM ,V?PUT ,PRSI ,PRSO>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE V-FILL ()"],["\t <COND (<NOT ,PRSI>"],["\t\t<COND (<GLOBAL-IN? ,GLOBAL-WATER ,HERE>"],["\t\t       <PERFORM ,V?FILL ,PRSO ,GLOBAL-WATER>"],["\t\t       <RTRUE>)"],["\t\t      (<IN? ,WATER <LOC ,WINNER>>"],["\t\t       <PERFORM ,V?FILL ,PRSO ,WATER>"],["\t\t       <RTRUE>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"There's nothing to fill it with.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You may know how to do that, but I don't.\""]," CR>)>>"],[],["<ROUTINE V-FIND (",["Str","\"AUX\""]," (L <LOC ,PRSO>))"],["\t <COND (<EQUAL? ,PRSO ,HANDS ,LUNGS>"],["\t\t<TELL"],[["Str","\"Within six feet of your head, assuming you haven't left that"]],[["Str","somewhere.\""]," CR>)"],["\t       (<EQUAL? ,PRSO ,ME>"],["\t\t<TELL ",["Str","\"You're around here somewhere...\""]," CR>)"],["\t       (<EQUAL? .L ,GLOBAL-OBJECTS>"],["\t\t<TELL ",["Str","\"You find it.\""]," CR>)"],["\t       (<IN? ,PRSO ,WINNER>"],["\t\t<TELL ",["Str","\"You have it.\""]," CR>)"],["\t       (<OR <IN? ,PRSO ,HERE>"],["\t\t    <GLOBAL-IN? ,PRSO ,HERE>"],["\t\t    <EQUAL? ,PRSO ,PSEUDO-OBJECT>>"],["\t\t<TELL ",["Str","\"It's right here.\""]," CR>)"],["\t       (<FSET? .L ,ACTORBIT>"],["\t\t<TELL ",["Str","\"The \""]," D .L ",["Str","\" has it.\""]," CR>)"],["\t       (<FSET? .L ,SURFACEBIT>"],["\t\t<TELL ",["Str","\"It's on the \""]," D .L ",["Str","\".\""]," CR>)"],["\t       (<FSET? .L ,CONTBIT>"],["\t\t<TELL ",["Str","\"It's in the \""]," D .L ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Beats me.\""]," CR>)>>"],[],["<ROUTINE V-FOLLOW ()"],["\t <TELL ",["Str","\"You're nuts!\""]," CR>>"],[],["<ROUTINE V-FROBOZZ ()"],["\t <TELL"],[["Str","\"The FROBOZZ Corporation created, owns, and operates this dungeon.\""]," CR>>"],[],["<ROUTINE PRE-GIVE ()"],["\t <COND (<NOT <HELD? ,PRSO>>"],["\t\t<TELL"],[["Str","\"That's easy for you to say since you don't even have the \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-GIVE ()"],["\t <COND (<NOT <FSET? ,PRSI ,ACTORBIT>>"],["\t\t<TELL ",["Str","\"You can't give a \""]," D ,PRSO ",["Str","\" to a \""]," D ,PRSI ",["Str","\"!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSI ",["Str","\" refuses it politely.\""]," CR>)>>"],[],["<ROUTINE V-HATCH ()"],["\t <TELL ",["Str","\"Bizarre!\""]," CR>>"],[],["<GLOBAL HS 0> ",["Comment",";\"counts occurences of HELLO, SAILOR\""]],[],["<ROUTINE V-HELLO ()"],["\t <COND (,PRSO"],["\t\t<COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" bows his head to you in greeting.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL"],[["Str","\"It's a well known fact that only schizophrenics say \\\"Hello\\\" to a \""]],["D ,PRSO ",["Str","\".\""]," CR>)>)"],["\t       (T"],["\t\t<TELL <PICK-ONE ,HELLOS> CR>)>>"],[],["<ROUTINE V-INCANT ()"],["%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t'<COND (,SPELL-USED"],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)"],["\t       (,WAND-ON"],["\t\t<SETG SPELL-VICTIM ,WAND-ON>"],["\t\t<SETG SPELL-USED <GET ,P-LEXV ,P-CONT>>"],["\t\t<TELL ",["Str","\"The wand glows very brightly for a moment.\""]," CR>"],["\t\t<ENABLE <QUEUE I-SPELL <+ 10 <RANDOM 10>>>>"],["\t\t<SETG WAND-ON <>>"],["\t\t<PERFORM ,V?ENCHANT ,SPELL-VICTIM>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"The incantation echoes back faintly, but nothing else happens.\""]," CR>)>)"],["       (T"],["\t'<TELL"],[["Str","\"The incantation echoes back faintly, but nothing else happens.\""]," CR>)>"],["\t <SETG QUOTE-FLAG <>>"],["\t <SETG P-CONT <>>"],["\t <RTRUE>>"],[],["<ROUTINE V-INFLATE ()"],["\t <TELL ",["Str","\"How can you inflate that?\""]," CR>>"],[],["<ROUTINE V-IS-IN ()"],["\t <COND (<IN? ,PRSO ,PRSI>"],["\t\t<TELL ",["Str","\"Yes, it is \""],">"],["\t\t<COND (<FSET? ,PRSI ,SURFACEBIT>"],["\t\t       <TELL ",["Str","\"on\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"in\""],">)>"],["\t\t<TELL ",["Str","\" the \""]," D ,PRSI ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"No, it isn't.\""]," CR>)>>"],[],["<ROUTINE V-KICK () <HACK-HACK ",["Str","\"Kicking the \""],">>"],[],["<ROUTINE V-KISS ()"],["\t <TELL ",["Str","\"I'd sooner kiss a pig.\""]," CR>>"],[],["<ROUTINE V-KNOCK ()"],["\t <COND (<FSET? ,PRSO ,DOORBIT>"],["\t\t<TELL ",["Str","\"Nobody's home.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Why knock on a \""]," D ,PRSO ",["Str","\"?\""]," CR>)>>"],[],["<ROUTINE V-LAMP-OFF ()"],["\t <COND (<FSET? ,PRSO ,LIGHTBIT>"],["\t\t<COND (<NOT <FSET? ,PRSO ,ONBIT>>"],["\t\t       <TELL ",["Str","\"It is already off.\""]," CR>)"],["\t\t      (T"],["\t\t       <FCLEAR ,PRSO ,ONBIT>"],["\t\t       <COND (,LIT"],["\t\t\t      <SETG LIT <LIT? ,HERE>>)>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is now off.\""]," CR>"],["\t\t       <COND (<NOT ,LIT>"],["\t\t\t      <TELL ",["Str","\"It is now pitch black.\""]," CR>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't turn that off.\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE V-LAMP-ON ()"],["\t <COND (<FSET? ,PRSO ,LIGHTBIT>"],["\t\t<COND (<FSET? ,PRSO ,ONBIT>"],["\t\t       <TELL ",["Str","\"It is already on.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,PRSO ,ONBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is now on.\""]," CR>"],["\t\t       <COND (<NOT ,LIT>"],["\t\t\t      <SETG LIT <LIT? ,HERE>>"],["\t\t\t      <CRLF>"],["\t\t\t      <V-LOOK>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't turn that on.\""]," CR>)>"],["\t <RTRUE>>"],[],["<ROUTINE V-LAUNCH ()"],["\t <COND (<FSET? ,PRSO ,VEHBIT>"],["\t\t<TELL ",["Str","\"You can't launch that by saying \\\"launch\\\"!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"That's pretty weird.\""]," CR>)>>"],[],["<ROUTINE V-LEAN-ON ()"],["\t <TELL ",["Str","\"Getting tired?\""]," CR>>"],[],["<ROUTINE V-LEAP (",["Str","\"AUX\""]," TX S)"],["\t <COND (,PRSO"],["\t\t<COND (<IN? ,PRSO ,HERE>"],["\t\t       <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t\t      <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" is too big to jump over.\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <V-SKIP>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"That would be a good trick.\""]," CR>)>)"],["\t       (<SET TX <GETPT ,HERE ,P?DOWN>>"],["\t\t<SET S <PTSIZE .TX>>"],["\t\t<COND (<OR <EQUAL? .S 2> ",["Comment",";NEXIT"]],["       \t\t\t   <AND <EQUAL? .S 4> ",["Comment",";CEXIT"]],["\t\t\t\t<NOT <VALUE <GETB .TX 1>>>>>"],["\t\t       <TELL"],[["Str","\"This was not a very safe place to try jumping.\""]," CR>"],["\t\t       <JIGS-UP <PICK-ONE ,JUMPLOSS>>)"],["\t\t      %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t      '(<EQUAL? ,HERE ,UP-A-TREE>"],["\t\t                <TELL"],[["Str","\"In a feat of unaccustomed daring, you manage to land on your feet without"]],[["Str","killing yourself.\""]," CR CR>"],["\t\t                <DO-WALK ,P?DOWN>"],["\t\t                <RTRUE>))"],["\t\t\t     (T '(<NULL-F> T))>"],["\t\t      (T"],["\t\t       <V-SKIP>)>)"],["\t       (T"],["\t\t<V-SKIP>)>>"],[],["<GLOBAL JUMPLOSS"],["\t<LTABLE 0"],["\t       ",["Str","\"You should have looked before you leaped.\""]],["\t       ",["Str","\"In the movies, your life would be passing before your eyes.\""]],["\t       ",["Str","\"Geronimo...\""],">>"],[],["<ROUTINE V-LEAVE () <DO-WALK ,P?OUT>>"],[],["<ROUTINE V-LISTEN ()"],["\t <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" makes no sound.\""]," CR>>"],[],["<ROUTINE V-LOCK ()"],["\t <TELL ",["Str","\"It doesn't seem to work.\""]," CR>>"],[],["<ROUTINE V-LOOK ()"],["\t <COND (<DESCRIBE-ROOM T>"],["\t\t<DESCRIBE-OBJECTS T>)>>"],[],["<ROUTINE V-LOOK-BEHIND ()"],["\t <TELL ",["Str","\"There is nothing behind the \""]," D ,PRSO ",["Str","\".\""]," CR>>"],[],["<ROUTINE V-LOOK-INSIDE ()"],["\t <COND (<FSET? ,PRSO ,DOORBIT>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSO ",["Str","\" is open, but I can't tell what's beyond it.\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is closed.\""],">)>"],["\t\t<CRLF>)"],["\t       (<FSET? ,PRSO ,CONTBIT>"],["\t\t<COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t       <TELL ",["Str","\"There is nothing special to be seen.\""]," CR>)"],["\t\t      (<SEE-INSIDE? ,PRSO>"],["\t\t       <COND (<AND <FIRST? ,PRSO>"],["\t\t\t\t   <PRINT-CONT ,PRSO>>"],["\t\t\t      <RTRUE>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is empty.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is closed.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't look inside a \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-LOOK-ON ()"],["\t <COND (<FSET? ,PRSO ,SURFACEBIT>"],["\t\t<PERFORM ,V?LOOK-INSIDE ,PRSO>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Look on a \""]," D ,PRSO ",["Str","\"???\""]," CR>)>>"],[],["<ROUTINE V-LOOK-UNDER ()"],["\t <TELL ",["Str","\"There is nothing but dust there.\""]," CR>>"],[],["<ROUTINE V-LOWER () <HACK-HACK ",["Str","\"Playing in this way with the \""],">>"],[],["<ROUTINE V-MAKE ()"],["    \t<TELL ",["Str","\"You can't do that.\""]," CR>>"],[],["<ROUTINE V-MELT ()"],["\t <TELL ",["Str","\"It's not clear that a \""]," D ,PRSO ",["Str","\" can be melted.\""]," CR>>"],[],["<ROUTINE PRE-MOVE ()"],["\t <COND (<HELD? ,PRSO>"],["\t\t<TELL ",["Str","\"You aren't an accomplished enough juggler.\""]," CR>)>>"],[],["<ROUTINE V-MOVE ()"],["\t <COND (<FSET? ,PRSO ,TAKEBIT>"],["\t\t<TELL ",["Str","\"Moving the \""]," D ,PRSO ",["Str","\" reveals nothing.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't move the \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-MUMBLE ()"],["\t <TELL ",["Str","\"You'll have to speak up if you expect me to hear you!\""]," CR>>"],[],["<ROUTINE PRE-MUNG ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t       '(<EQUAL? ,PRSO ,BEAM>"],["\t\t         <RFALSE>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (<OR <NOT ,PRSI>"],["\t\t    <NOT <FSET? ,PRSI ,WEAPONBIT>>>"],["\t\t<TELL ",["Str","\"Trying to destroy the \""]," D ,PRSO ",["Str","\" with \""],">"],["\t\t<COND (<NOT ,PRSI>"],["\t\t       <TELL ",["Str","\"your bare hands\""],">)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"a \""]," D ,PRSI>)>"],["\t\t<TELL ",["Str","\" is futile.\""]," CR>)>>"],[],["<ROUTINE V-MUNG ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<PERFORM ,V?ATTACK ,PRSO>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Nice try.\""]," CR>)>>"],[],["<ROUTINE V-ODYSSEUS ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<AND <EQUAL? ,HERE ,CYCLOPS-ROOM>"],["\t\t\t      <IN? ,CYCLOPS ,HERE>"],["\t\t\t      <NOT ,CYCLOPS-FLAG>>"],["\t\t         <DISABLE <INT I-CYCLOPS>>"],["\t\t         <SETG CYCLOPS-FLAG T>"],["\t\t         <TELL"],[["Str","\"The cyclops, hearing the name of his father's deadly nemesis, flees the room"]],[["Str","by knocking down the wall on the east of the room.\""]," CR>"],["\t\t        <SETG MAGIC-FLAG T>"],["\t\t        <FCLEAR ,CYCLOPS ,FIGHTBIT>"],["\t\t        <REMOVE-CAREFULLY ,CYCLOPS>))"],["\t\t      (T"],["\t\t       '(<NULL-F> T))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Wasn't he a sailor?\""]," CR>)>>"],[],["<ROUTINE V-OIL ()"],["\t <TELL ",["Str","\"You probably put spinach in your gas tank, too.\""]," CR>>"],[],["<ROUTINE V-OPEN (",["Str","\"AUX\""]," F STR)"],["\t <COND (<AND <FSET? ,PRSO ,CONTBIT>"],["\t\t     <NOT <EQUAL? <GETP ,PRSO ,P?CAPACITY> 0>>>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <TELL ",["Str","\"It is already open.\""]," CR>)"],["\t\t      (T"],["\t\t       <FSET ,PRSO ,OPENBIT>"],["\t\t       <FSET ,PRSO ,TOUCHBIT>"],["\t\t       <COND (<OR <NOT <FIRST? ,PRSO>> <FSET? ,PRSO ,TRANSBIT>>"],["\t\t\t      <TELL ",["Str","\"Opened.\""]," CR>)"],["\t\t\t     (<AND <SET F <FIRST? ,PRSO>>"],["\t\t\t\t   <NOT <NEXT? .F>>"],["\t\t\t\t   <NOT <FSET? .F ,TOUCHBIT>>"],["\t\t\t\t   <SET STR <GETP .F ,P?FDESC>>>"],["\t\t\t      <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" opens.\""]," CR>"],["\t\t\t      <TELL .STR CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"Opening the \""]," D ,PRSO ",["Str","\" reveals \""],">"],["\t\t\t      <PRINT-CONTENTS ,PRSO>"],["\t\t\t      <TELL ",["Str","\".\""]," CR>)>)>)"],["\t       (<FSET? ,PRSO ,DOORBIT>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <TELL ",["Str","\"It is already open.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" opens.\""]," CR>"],["\t\t       <FSET ,PRSO ,OPENBIT>)>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"You must tell me how to do that to a \""]," D ,PRSO ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-OVERBOARD (",["Str","\"AUX\""]," LOCN)"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,PRSI ,TEETH>"],["\t\t\t <COND (<FSET? <SET LOCN <LOC ,WINNER>> ,VEHBIT>"],["\t\t\t\t<MOVE ,PRSO <LOC .LOCN>>"],["\t\t\t\t<TELL ",["Str","\"Ahoy -- \""]," D ,PRSO ",["Str","\" overboard!\""]," CR>)"],["\t\t\t       (T"],["\t\t\t\t<TELL ",["Str","\"You're not in anything!\""]," CR>)>))"],["\t\t      (T '(<NULL-F> T))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Huh?\""]," CR>)>>"],[],["<ROUTINE V-PICK () <TELL ",["Str","\"You can't pick that.\""]," CR>>"],[],["<ROUTINE V-PLAY ()"],["    <TELL ",["Str","\"That's silly!\""]," CR>>"],[],["<ROUTINE V-PLUG ()"],["\t <TELL ",["Str","\"This has no effect.\""]," CR>>"],[],["<ROUTINE V-POUR-ON ()"],["\t <COND (<EQUAL? ,PRSO ,WATER>"],["\t\t<REMOVE-CAREFULLY ,PRSO>"],["\t        <COND (<FLAMING? ,PRSI>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSI ",["Str","\" is extinguished.\""]," CR>"],["\t\t       <FCLEAR ,PRSI ,ONBIT>"],["\t\t       <FCLEAR ,PRSI ,FLAMEBIT>)"],["\t              (T"],["\t\t       <TELL"],[["Str","\"The water spills over the \""]," D ,PRSI ",["Str","\", to the floor, and evaporates.\""]," CR>)>)"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,PRSO ,PUTTY>"],["\t\t\t <PERFORM ,V?PUT ,PUTTY ,PRSI>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't pour that.\""]," CR>)>>"],[],["<ROUTINE V-PRAY ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,HERE ,SOUTH-TEMPLE>"],["\t\t         <GOTO ,FOREST-1>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (T"],["\t\t<TELL"],[["Str","\"If you pray enough, your prayers may be answered.\""]," CR>)>>"],[],["<ROUTINE V-PUMP ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<AND ,PRSI <NOT <EQUAL? ,PRSI ,PUMP>>>"],["\t\t         <TELL ",["Str","\"Pump it up with a \""]," D ,PRSI ",["Str","\"?\""]," CR>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<IN? ,PUMP ,WINNER>"],["\t\t         <PERFORM ,V?INFLATE ,PRSO ,PUMP>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"It's really not clear how.\""]," CR>)>>"],[],["<ROUTINE V-PUSH () <HACK-HACK ",["Str","\"Pushing the \""],">>"],[],["<ROUTINE V-PUSH-TO ()"],["\t <TELL ",["Str","\"You can't push things to that.\""]," CR>>"],[],["<ROUTINE PRE-PUT ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t       '(<EQUAL? ,PRSO ,SHORT-POLE>"],["\t\t         <RFALSE>))"],["\t\t      (T"],["\t\t       '(<NULL-F>"],["\t\t\t <RFALSE>))>"],["\t       (T"],["\t\t<PRE-GIVE>)>> ",["Comment",";\"That's easy for you to say...\""]],[],["<ROUTINE V-PUT ()"],["\t <COND (<OR <FSET? ,PRSI ,OPENBIT>"],["\t\t    <OPENABLE? ,PRSI>"],["\t\t    <FSET? ,PRSI ,VEHBIT>>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't do that.\""]," CR>"],["\t\t<RTRUE>)>"],["\t <COND (<NOT <FSET? ,PRSI ,OPENBIT>>"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSI ",["Str","\" isn't open.\""]," CR>"],["\t\t<THIS-IS-IT ,PRSI>)"],["\t       (<EQUAL? ,PRSI ,PRSO>"],["\t\t<TELL ",["Str","\"How can you do that?\""]," CR>)"],["\t       (<IN? ,PRSO ,PRSI>"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is already in the \""]," D ,PRSI ",["Str","\".\""]," CR>)"],["\t       (<G? <- <+ <WEIGHT ,PRSI> <WEIGHT ,PRSO>>"],["\t\t       <GETP ,PRSI ,P?SIZE>>"],["\t\t    <GETP ,PRSI ,P?CAPACITY>>"],["\t\t<TELL ",["Str","\"There's no room.\""]," CR>)"],["\t       (<AND <NOT <HELD? ,PRSO>>"],["\t\t     <FSET? ,PRSO ,TRYTAKEBIT>>"],["\t\t<TELL ",["Str","\"You don't have the \""]," D ,PRSO ",["Str","\".\""]," CR>"],["\t\t<RTRUE>)"],["\t       (<AND <NOT <HELD? ,PRSO>>"],["\t\t     <NOT <ITAKE>>>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<MOVE ,PRSO ,PRSI>"],["\t\t<FSET ,PRSO ,TOUCHBIT>"],["\t\t<SCORE-OBJ ,PRSO>"],["\t\t<TELL ",["Str","\"Done.\""]," CR>)>>"],[],["<ROUTINE V-PUT-BEHIND ()"],["\t <TELL ",["Str","\"That hiding place is too obvious.\""]," CR>>"],[],["<ROUTINE V-PUT-ON ()"],["\t <COND (<EQUAL? ,PRSI ,GROUND>"],["\t\t<PERFORM ,V?DROP ,PRSO>"],["\t\t<RTRUE>)"],["\t       (<FSET? ,PRSI ,SURFACEBIT>"],["\t\t<V-PUT>)"],["\t       (T"],["\t\t<TELL ",["Str","\"There's no good surface on the \""]," D ,PRSI ",["Str","\".\""]," CR>)>>"],[],["<ROUTINE V-PUT-UNDER ()"],["\t <TELL ",["Str","\"You can't do that.\""]," CR>>"],[],["<ROUTINE V-RAISE ()"],["\t <V-LOWER>>"],[],["<ROUTINE V-RAPE ()"],["\t <TELL ",["Str","\"What a (ahem!) strange idea.\""]," CR>>"],[],["<ROUTINE PRE-READ ()"],["\t <COND (<NOT ,LIT>"],["\t\t<TELL ",["Str","\"It is impossible to read in the dark.\""]," CR>)"],["\t       (<AND ,PRSI <NOT <FSET? ,PRSI ,TRANSBIT>>>"],["\t\t<TELL ",["Str","\"How does one look through a \""]," D ,PRSI ",["Str","\"?\""]," CR>)>>"],[],["<ROUTINE V-READ ()"],["\t <COND (<NOT <FSET? ,PRSO ,READBIT>>"],["\t\t<TELL ",["Str","\"How does one read a \""]," D ,PRSO ",["Str","\"?\""]," CR>)"],["\t       (T"],["\t\t<TELL <GETP ,PRSO ,P?TEXT> CR>)>>"],[],["<ROUTINE V-READ-PAGE ()"],["\t <PERFORM ,V?READ ,PRSO>"],["\t <RTRUE>>"],[],["<ROUTINE V-REPENT ()"],["\t <TELL ",["Str","\"It could very well be too late!\""]," CR>>"],[],["<ROUTINE V-REPLY ()"],["\t <TELL ",["Str","\"It is hardly likely that the \""]," D ,PRSO ",["Str","\" is interested.\""]," CR>"],["\t <SETG P-CONT <>>"],["\t <SETG QUOTE-FLAG <>>"],["\t <RTRUE>>"],[],["<ROUTINE V-RING ()"],["\t <TELL ",["Str","\"How, exactly, can you ring that?\""]," CR>>"],[],["<ROUTINE V-RUB () <HACK-HACK ",["Str","\"Fiddling with the \""],">>"],[],["<ROUTINE V-SAY (",["Str","\"AUX\""]," V)"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<COND (<OR ,SPELL-USED ,WAND-ON>"],["\t\t         <PERFORM ,V?INCANT>"],["\t\t         <RTRUE>)>)"],["\t\t(<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t '<COND (<AND <FSET? ,FRONT-DOOR ,TOUCHBIT>"],["\t\t              <EQUAL? <GET ,P-LEXV ,P-CONT> ,W?FROTZ>"],["\t\t              <EQUAL? <GET ,P-LEXV <+ ,P-CONT 2>> ,W?OZMOO>>"],["\t\t         <SETG P-CONT <>>"],["\t\t         <COND (<EQUAL? ,HERE ,MSTAIRS>"],["\t\t                <CRLF>"],["\t\t                <GOTO ,FRONT-DOOR>"],["\t\t\t\t<RTRUE>)"],["\t\t               (T"],["\t\t                <TELL ",["Str","\"Nothing happens.\""]," CR>)>"],["\t\t                <RTRUE>)>)"],["\t\t(T"],["\t\t '<COND (<NOT ,P-CONT>"],["\t\t\t <TELL ",["Str","\"Say what?\""]," CR>"],["\t\t\t <RTRUE>)>)>"],["\t <COND (<SET V <FIND-IN ,HERE ,ACTORBIT>>"],["\t\t<TELL ",["Str","\"You must address the \""]," D .V ",["Str","\" directly.\""]," CR>"],["\t\t<SETG P-CONT <>>)"],["\t       (<NOT <EQUAL? <GET ,P-LEXV ,P-CONT> ,W?HELLO>>"],["\t\t<SETG P-CONT <>>"],["\t\t<TELL"],[["Str","\"Talking to yourself is a sign of impending mental collapse.\""]," CR>)>"],["\t <SETG QUOTE-FLAG <>>"],["\t <RTRUE>>"],[],["<ROUTINE V-SEARCH ()"],["\t <TELL ",["Str","\"You find nothing unusual.\""]," CR>>"],[],["<ROUTINE V-SEND ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<TELL ",["Str","\"Why would you send for the \""]," D ,PRSO ",["Str","\"?\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"That doesn't make sends.\""]," CR>)>>"],[],["<ROUTINE PRE-SGIVE ()"],["\t <PERFORM ,V?GIVE ,PRSI ,PRSO>"],["\t <RTRUE>>"],[],["<ROUTINE V-SGIVE ()"],["\t <TELL ",["Str","\"Foo!\""]," CR>>"],[],["<ROUTINE V-SHAKE ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<TELL ",["Str","\"This seems to have no effect.\""]," CR>)"],["\t       (<NOT <FSET? ,PRSO ,TAKEBIT>>"],["\t\t<TELL ",["Str","\"You can't take it; thus, you can't shake it!\""]," CR>)"],["\t       (<FSET? ,PRSO ,CONTBIT>"],["\t\t<COND (<FSET? ,PRSO ,OPENBIT>"],["\t\t       <COND (<FIRST? ,PRSO>"],["\t\t\t      <SHAKE-LOOP>"],["\t\t\t      <TELL ",["Str","\"The contents of the \""]," D, PRSO ",["Str","\" spills \""],">"],["\t                      <COND (<NOT <FSET? ,HERE ,RLANDBIT>>"],["\t\t                     <TELL ",["Str","\"out and disappears\""],">)"],["\t                            (T"],["\t\t                     <TELL ",["Str","\"to the ground\""],">)>"],["\t                      <TELL ",["Str","\".\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"Shaken.\""]," CR>)>)"],["\t\t      (T"],["\t\t       <COND (<FIRST? ,PRSO>"],["\t\t\t      <TELL"],[["Str","\"It sounds like there is something inside the \""]," D ,PRSO ",["Str","\".\""]," CR>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D, PRSO ",["Str","\" sounds empty.\""]," CR>)>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Shaken.\""]," CR>)>>"],[],["<ROUTINE SHAKE-LOOP (",["Str","\"AUX\""]," X)"],["\t <REPEAT ()"],["\t\t <COND (<SET X <FIRST? ,PRSO>>"],["\t\t\t<FSET .X ,TOUCHBIT>"],["\t\t\t<MOVE .X"],["\t\t\t      %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t\t      '<COND (<EQUAL? ,HERE ,UP-A-TREE>"],["\t\t\t\t              ,PATH)"],["\t\t\t\t             (<NOT <FSET? ,HERE ,RLANDBIT>>"],["\t\t\t\t              ,PSEUDO-OBJECT)"],["\t\t\t\t             (T"],["\t\t\t\t              ,HERE)>)"],["\t\t\t\t     (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t\t      '<COND (<EQUAL? .X ,WATER>"],["\t\t\t\t              ,PSEUDO-OBJECT)"],["\t\t\t\t             (<NOT <FSET? ,HERE ,RLANDBIT>>"],["\t\t\t\t              ,PSEUDO-OBJECT)"],["\t\t\t\t             (T"],["\t\t\t\t              ,HERE)>)"],["\t\t\t\t     (T"],["\t\t\t\t      '<COND (<EQUAL? ,HERE ,ON-LAKE>"],["\t\t\t\t\t      ,IN-LAKE)"],["\t\t\t\t\t     (T"],["\t\t\t\t\t      ,HERE)>)>>)"],["\t\t       (T"],["\t\t\t<RETURN>)>>>"],[],["<ROUTINE V-SKIP ()"],["\t <TELL <PICK-ONE ,WHEEEEE> CR>>"],[],["<GLOBAL WHEEEEE"],["\t<LTABLE 0 ",["Str","\"Very good. Now you can go to the second grade.\""]],["\t       ",["Str","\"Are you enjoying yourself?\""]],["\t       ",["Str","\"Wheeeeeeeeee!!!!!\""]],["\t       ",["Str","\"Do you expect me to applaud?\""],">>"],[],["<ROUTINE V-SMELL ()"],["\t <TELL ",["Str","\"It smells like a \""]," D ,PRSO ",["Str","\".\""]," CR>>"],[],["<ROUTINE V-SPIN ()"],["\t <TELL ",["Str","\"You can't spin that!\""]," CR>>"],[],["<ROUTINE V-SPRAY ()"],["\t <V-SQUEEZE>>"],[],["<ROUTINE V-SQUEEZE ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" does not understand this.\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"How singularly useless.\""],">)>"],["\t <CRLF>>"],[],["<ROUTINE V-SSPRAY ()"],["\t <PERFORM ,V?SPRAY ,PRSI ,PRSO>>"],[],["<ROUTINE V-STAB (",["Str","\"AUX\""]," W)"],["\t <COND (<SET W <FIND-WEAPON ,WINNER>>"],["\t\t<PERFORM ,V?ATTACK ,PRSO .W>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL"],[["Str","\"No doubt you propose to stab the \""]," D ,PRSO ",["Str","\" with your pinky?\""]," CR>)>>"],[],["<ROUTINE V-STAND ()"],["\t <COND (<FSET? <LOC ,WINNER> ,VEHBIT>"],["\t\t<PERFORM ,V?DISEMBARK <LOC ,WINNER>>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You are already standing, I think.\""]," CR>)>>"],[],["<ROUTINE V-STAY ()"],["\t <TELL ",["Str","\"You will be lost without me!\""]," CR>>"],[],["<ROUTINE V-STRIKE ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<TELL"],[["Str","\"Since you aren't versed in hand-to-hand combat, you'd better attack the \""]],["D ,PRSO ",["Str","\" with a weapon.\""]," CR>)"],["\t       (T"],["\t\t<PERFORM ,V?LAMP-ON ,PRSO>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE V-SWIM ()"],["\t <COND %<COND (<OR <==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t   <==? ,",["Id","ZORK-NUMBER"]," 2>>"],["\t\t       '(<GLOBAL-IN? ,GLOBAL-WATER ,HERE>"],["\t\t         <TELL ",["Str","\"Swimming isn't usually allowed in the \""],">"],["\t\t         <COND (,PRSO"],["\t                        <TELL D ,PRSO ",["Str","\".\""],">)"],["\t\t               (T"],["\t\t                <TELL ",["Str","\"dungeon.\""],">)>"],["\t\t         <CRLF>))"],["\t\t      (T"],["\t\t       '(<EQUAL? ,HERE ,ON-LAKE ,IN-LAKE>"],["\t\t         <TELL ",["Str","\"What do you think you're doing?\""]," CR>))>"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t       '(<EQUAL? ,HERE ,FLATHEAD-OCEAN>"],["\t\t         <TELL"],[["Str","\"Between the rocks and waves, you wouldn't last a minute!\""]," CR>))"],["\t\t      (T"],["\t\t       '(<NULL-F>"],["\t\t\t <RFALSE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Go jump in a lake!\""]," CR>)>>"],[],["<ROUTINE V-SWING ()"],["\t <COND (<NOT ,PRSI>"],["\t\t<TELL ",["Str","\"Whoosh!\""]," CR>)"],["\t       (T"],["\t\t<PERFORM ,V?ATTACK ,PRSI ,PRSO>)>>"],[],["<ROUTINE PRE-TAKE ()"],["\t <COND (<IN? ,PRSO ,WINNER>"],["\t\t<COND (<FSET? ,PRSO ,WEARBIT>"],["\t\t       <TELL ",["Str","\"You are already wearing it.\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"You already have that!\""]," CR>)>)"],["\t       (<AND <FSET? <LOC ,PRSO> ,CONTBIT>"],["\t\t     <NOT <FSET? <LOC ,PRSO> ,OPENBIT>>>"],["\t\t<TELL"],[["Str","\"You can't reach something that's inside a closed container.\""]," CR>"],["\t\t<RTRUE>)"],["\t       (,PRSI"],["\t\t<COND (<EQUAL? ,PRSI ,GROUND>"],["\t\t       <SETG PRSI <>>"],["\t\t       <RFALSE>)"],["\t\t      (<NOT <EQUAL? ,PRSI <LOC ,PRSO>>>"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" isn't in the \""]," D ,PRSI ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <SETG PRSI <>>"],["\t\t       <RFALSE>)>)"],["\t       (<EQUAL? ,PRSO <LOC ,WINNER>>"],["\t\t<TELL ",["Str","\"You're inside of it!\""]," CR>)>>"],[],["<ROUTINE V-TAKE ()"],["\t <COND (<EQUAL? <ITAKE> T>"],["\t\t<COND (<FSET? ,PRSO ,WEARBIT>"],["\t\t       <TELL ",["Str","\"You are now wearing the \""]," D ,PRSO ",["Str","\".\""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"Taken.\""]," CR>)>)>>"],[],["<ROUTINE V-TELL ()"],["\t <COND (<FSET? ,PRSO ,ACTORBIT>"],["\t\t<COND (,P-CONT"],["\t\t       <SETG WINNER ,PRSO>"],["\t\t       <SETG HERE <LOC ,WINNER>>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D ,PRSO"],[["Str","\" pauses for a moment, perhaps thinking that you should re-read"]],[["Str","the manual.\""]," CR>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't talk to the \""]," D ,PRSO ",["Str","\"!\""]," CR>"],["\t\t<SETG QUOTE-FLAG <>>"],["\t\t<SETG P-CONT <>>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE V-THROUGH (",["Str","\"OPTIONAL\""]," (OBJ <>) ",["Str","\"AUX\""]," M)"],["\t#DECL ((OBJ) <OR OBJECT FALSE> (M) <PRIMTYPE VECTOR>)"],["\t<COND (<FSET? ,PRSO ,DOORBIT>"],["\t       <DO-WALK <OTHER-SIDE ,PRSO>>"],["\t       <RTRUE>)"],["\t      (<AND <NOT .OBJ> <FSET? ,PRSO ,VEHBIT>>"],["\t       <PERFORM ,V?BOARD ,PRSO>"],["\t       <RTRUE>)"],["\t      (<AND <NOT .OBJ> <NOT <FSET? ,PRSO ,TAKEBIT>>>"],["\t       <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t             '(<AND ,SCOL-ROOM"],["\t\t\t            <OR .OBJ <EQUAL? ,PRSO ,CURTAIN>>>"],["\t                       <SCOL-GO .OBJ>"],["\t                       <RTRUE>))"],["\t\t\t    (T"],["\t\t\t     '(<NULL-F> <RTRUE>))>"],["\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t    '(<AND <EQUAL? ,HERE ,DEPOSITORY>"],["\t                           <EQUAL? ,PRSO ,SNWL>"],["\t       \t\t\t   ,SCOL-ROOM>"],["\t       \t\t      <SCOL-GO .OBJ>"],["\t            \t      <RTRUE>))"],["\t\t\t    (T"],["\t\t\t     '(<NULL-F> <RTRUE>))>"],["\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t     '(<AND <EQUAL? ,HERE ,SCOL-ACTIVE>"],["\t\t                    <EQUAL? ,PRSO"],["\t\t\t\t\t     <GET <SET M <GET-WALL ,HERE>> 1>>>"],["\t                       <SETG SCOL-ROOM <GET .M 2>>"],["\t                       <SETG PRSO <GETP ,PRSO ,P?SIZE>>"],["\t                       <COND (.OBJ <SCOL-OBJ .OBJ 0 ,DEPOSITORY>)"],["\t\t                     (T"],["\t\t                      <SCOL-THROUGH 0 ,DEPOSITORY>)>"],["\t                       <RTRUE>))"],["\t\t\t    (T"],["\t\t\t     '(<NULL-F> <RTRUE>))>"],["\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t     '(<EQUAL? ,PRSO ,CURTAIN>"],["\t                       <TELL"],[["Str","\"You can't go more than part way through the curtain.\""]," CR>"],["\t                             <RTRUE>))"],["\t\t\t    (T"],["\t\t\t     '(<NULL-F> <RTRUE>))>"],["\t\t     (T"],["\t\t      <TELL"],[["Str","\"You hit your head against the \""]," D ,PRSO ",["Str","\" as you attempt this feat.\""]," CR>)>)"],["\t      (.OBJ"],["\t       <TELL ",["Str","\"You can't do that!\""]," CR>)"],["\t      (<IN? ,PRSO ,WINNER>"],["\t       <TELL ",["Str","\"That would involve quite a contortion!\""]," CR>)"],["\t      (T"],["\t       <TELL <PICK-ONE ,YUKS> CR>)>>"],[],["<ROUTINE V-THROW ()"],["\t <COND (<IDROP>"],["\t\t<COND (<EQUAL? ,PRSI ,ME>"],["\t\t       <TELL"],[["Str","\"A terrific throw! The \""]," D ,PRSO>"],["\t\t       <JIGS-UP ",["Str","\" hits you squarely in the head. Normally,"]],[["Str","this wouldn't do much damage, but by incredible mischance, you fall over"]],[["Str","backwards trying to duck, and break your neck, justice being swift and"]],[["Str","merciful in the Great Underground Empire.\""],">)"],["\t\t      (<FSET? ,PRSI ,ACTORBIT>"],["\t\t       <TELL"],[["Str","\"The \""]," D ,PRSI ",["Str","\" ducks as the \""]," D ,PRSO ",["Str","\" flies by and crashes to the ground.\""]],["CR>)"],["\t\t      (T <TELL ",["Str","\"Thrown.\""]," CR>)>)>>"],[],["<ROUTINE V-THROW-OFF ()"],["\t <TELL ",["Str","\"You can't throw anything off of that!\""]," CR>>"],[],["<ROUTINE V-TIE ()"],["\t <COND (<EQUAL? ,PRSI ,WINNER>"],["\t\t<TELL ",["Str","\"You can't tie anything to yourself.\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't tie the \""]," D ,PRSO ",["Str","\" to that.\""]," CR>)>>"],[],["<ROUTINE V-TIE-UP ()"],["\t <TELL ",["Str","\"You could certainly never tie it with that!\""]," CR>>"],[],["<ROUTINE V-TREASURE ()"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,HERE ,NORTH-TEMPLE>"],["\t\t         <GOTO ,TREASURE-ROOM>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? ,HERE ,TREASURE-ROOM>"],["\t\t         <GOTO ,NORTH-TEMPLE>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (T"],["\t\t<TELL ",["Str","\"Nothing happens.\""]," CR>)>>"],[],["<ROUTINE PRE-TURN ()"],["\t <COND (<NOT <FSET? ,PRSO ,TURNBIT>>"],["\t\t<TELL ",["Str","\"You can't turn that!\""]," CR>)>>"],[],["<ROUTINE V-TURN ()"],["\t <TELL ",["Str","\"This has no effect.\""]," CR>>"],[],["<ROUTINE V-UNLOCK ()"],["\t <V-LOCK>>"],[],["<ROUTINE V-UNTIE ()"],["\t <TELL ",["Str","\"This cannot be tied, so it cannot be untied!\""]," CR>>"],[],["<ROUTINE V-WAIT (",["Str","\"OPTIONAL\""]," (NUM 3))"],["\t <TELL ",["Str","\"Time passes...\""]," CR>"],["\t <REPEAT ()"],["\t\t <COND (<L? <SET NUM <- .NUM 1>> 0> <RETURN>)"],["\t\t       (<CLOCKER> <RETURN>)>>"],["\t <SETG CLOCK-WAIT T>>"],[],["<ROUTINE V-WALK (",["Str","\"AUX\""]," PT PTS STR OBJ RM)"],["\t <COND (<NOT ,P-WALK-DIR>"],["\t\t<PERFORM ,V?WALK-TO ,PRSO>"],["\t\t<RTRUE>)"],["\t       (<SET PT <GETPT ,HERE ,PRSO>>"],["\t\t<COND (<EQUAL? <SET PTS <PTSIZE .PT>> ,UEXIT>"],["\t\t       <GOTO <GETB .PT ,REXIT>>)"],["\t\t      (<EQUAL? .PTS ,NEXIT>"],["\t\t       <TELL <GET .PT ,NEXITSTR> CR>"],["\t\t       <RFATAL>)"],["\t\t      (<EQUAL? .PTS ,FEXIT>"],["\t\t       <COND (<SET RM <APPLY <GET .PT ,FEXITFCN>>>"],["\t\t\t      <GOTO .RM>)"],["\t\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t\t\t     '(<AND <EQUAL? ,HERE ,CP> ,CP-MOVED>"],["\t\t                       <RTRUE>))"],["\t\t\t\t    (T"],["\t\t\t\t     '(<NULL-F> <RFALSE>))>"],["\t\t\t     (T"],["\t\t\t      <RFATAL>)>)"],["\t\t      (<EQUAL? .PTS ,CEXIT>"],["\t\t       <COND (<VALUE <GETB .PT ,CEXITFLAG>>"],["\t\t\t      <GOTO <GETB .PT ,REXIT>>)"],["\t\t\t     (<SET STR <GET .PT ,CEXITSTR>>"],["\t\t\t      <TELL .STR CR>"],["\t\t\t      <RFATAL>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t\t      <RFATAL>)>)"],["\t\t      (<EQUAL? .PTS ,DEXIT>"],["\t\t       <COND (<FSET? <SET OBJ <GETB .PT ,DEXITOBJ>> ,OPENBIT>"],["\t\t\t      <GOTO <GETB .PT ,REXIT>>)"],["\t\t\t     (<SET STR <GET .PT ,DEXITSTR>>"],["\t\t\t      <TELL .STR CR>"],["\t\t\t      <RFATAL>)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\"The \""]," D .OBJ ",["Str","\" is closed.\""]," CR>"],["\t\t\t      <THIS-IS-IT .OBJ>"],["\t\t\t      <RFATAL>)>)>)"],["\t       (<AND <NOT ,LIT>"],["\t\t     <PROB 80>"],["\t\t     <NOT <FSET? ,HERE ,NONLANDBIT>>>"],["\t\t<COND (,SPRAYED?"],["\t\t       <TELL"],[["Str","\"There are odd noises in the darkness, and there is no exit in that"]],[["Str","direction.\""]," CR>"],["\t\t       <RFATAL>)"],["\t\t      %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t\t      '(<EQUAL? ,HERE ,DARK-1 ,DARK-2>"],["\t\t                <JIGS-UP"],[["Str","\"Oh, no! You have walked into a den of hungry grues and it's dinner time!\""],">))"],["\t\t\t     (T"],["\t\t\t      '(<NULL-F>"],["\t\t\t\t<RFALSE>))>"],["\t\t      (T"],["\t\t       <JIGS-UP"],[["Str","\"Oh, no! You have walked into the slavering fangs of a lurking grue!\""],">)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go that way.\""]," CR>"],["\t\t<RFATAL>)>>"],[],["<ROUTINE V-WALK-AROUND ()"],["\t <TELL ",["Str","\"Use compass directions for movement.\""]," CR>>"],[],["<ROUTINE V-WALK-TO ()"],["\t <COND (<OR <IN? ,PRSO ,HERE>"],["\t\t    <GLOBAL-IN? ,PRSO ,HERE>>"],["\t\t<TELL ",["Str","\"It's here!\""]," CR>)"],["\t       (T"],["\t\t<TELL ",["Str","\"You should supply a direction!\""]," CR>)>>"],[],["<ROUTINE V-WAVE ()"],["\t <HACK-HACK ",["Str","\"Waving the \""],">>"],[],["<ROUTINE V-WEAR ()"],["\t <COND (<NOT <FSET? ,PRSO ,WEARBIT>>"],["\t\t<TELL ",["Str","\"You can't wear the \""]," D ,PRSO ",["Str","\".\""]," CR>)"],["\t       (T"],["\t\t<PERFORM ,V?TAKE ,PRSO>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE V-WIN ()"],["\t <TELL ",["Str","\"Naturally!\""]," CR>>"],[],["<ROUTINE V-WIND ()"],["\t <TELL ",["Str","\"You cannot wind up a \""]," D ,PRSO ",["Str","\".\""]," CR>>"],[],["<ROUTINE V-WISH ()"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<PERFORM ,V?MAKE ,WISH>)"],["\t\t(T"],["\t\t '<TELL ",["Str","\"With luck, your wish will come true.\""]," CR>)>>"],[],["<ROUTINE V-YELL () <TELL ",["Str","\"Aaaarrrrgggghhhh!\""]," CR>>"],[],["<ROUTINE V-ZORK () <TELL ",["Str","\"At your service!\""]," CR>>"],[],["^L"],[],[["Str","\"Verb-Associated Routines\""]],[],[["Str","\"Descriptions\""]],[],["<GLOBAL LIT <>>"],[],["<GLOBAL SPRAYED? <>>"],[],["<ROUTINE V-FIRST-LOOK ()"],["\t <COND (<DESCRIBE-ROOM>"],["\t\t<COND (<NOT ,SUPER-BRIEF>"],["\t\t       <DESCRIBE-OBJECTS>)>)>>"],[],["<ROUTINE DESCRIBE-ROOM (",["Str","\"OPTIONAL\""]," (LOOK? <>) ",["Str","\"AUX\""]," V? STR AV)"],["\t <SET V? <OR .LOOK? ,VERBOSE>>"],["\t <COND (<NOT ,LIT>"],["\t\t<TELL ",["Str","\"It is pitch black.\""],">"],["\t\t<COND (<NOT ,SPRAYED?>"],["\t\t       <TELL ",["Str","\" You are likely to be eaten by a grue.\""],">)>"],["\t\t<CRLF>"],["\t\t%<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t\t'<COND (<EQUAL? ,HERE ,DARK-2>"],["\t\t                <TELL"],[["Str","\"The ground continues to slope upwards away from the lake. You can barely"]],[["Str","detect a dim light from the east.\""]," CR>)>)"],["\t\t       (T"],["\t\t\t'<NULL-F>)>"],["\t\t<RETURN <>>)>"],["\t <COND (<NOT <FSET? ,HERE ,TOUCHBIT>>"],["\t\t<FSET ,HERE ,TOUCHBIT>"],["\t\t<SET V? T>)>"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t '<COND (<FSET? ,HERE ,MAZEBIT>"],["\t\t         <FCLEAR ,HERE ,TOUCHBIT>)>)"],["\t\t(T"],["\t\t '<NULL-F>)>"],["\t <COND (<IN? ,HERE ,ROOMS>"],["\t\t",["Comment",";\"Was <TELL D ,HERE CR>\""]],["\t\t<TELL D ,HERE>"],["\t\t<COND (<FSET? <SET AV <LOC ,WINNER>> ,VEHBIT>"],["\t\t       <TELL ",["Str","\", in the \""]," D .AV>)>"],["\t\t<CRLF>)>"],["\t <COND (<OR .LOOK? <NOT ,SUPER-BRIEF>>"],["\t\t<SET AV <LOC ,WINNER>>"],["\t\t",["Comment",";<COND (<FSET? .AV ,VEHBIT>"]],[["Comment","\t\t       <TELL \"(You are in the \" D .AV \".)\" CR>)>"]],["\t\t<COND (<AND .V? <APPLY <GETP ,HERE ,P?ACTION> ,M-LOOK>>"],["\t\t       <RTRUE>)"],["\t\t      (<AND .V? <SET STR <GETP ,HERE ,P?LDESC>>>"],["\t\t       <TELL .STR CR>)"],["\t\t      (T"],["\t\t       <APPLY <GETP ,HERE ,P?ACTION> ,M-FLASH>)>"],["\t\t<COND (<AND <NOT <EQUAL? ,HERE .AV>> <FSET? .AV ,VEHBIT>>"],["\t\t       <APPLY <GETP .AV ,P?ACTION> ,M-LOOK>)>)>"],["\t T>"],[],["<ROUTINE DESCRIBE-OBJECTS (",["Str","\"OPTIONAL\""]," (V? <>))"],["\t <COND (,LIT"],["\t\t<COND (<FIRST? ,HERE>"],["\t\t       <PRINT-CONT ,HERE <SET V? <OR .V? ,VERBOSE>> -1>)>)"],["\t       (T"],["\t\t<TELL ",["Str","\"Only bats can see in the dark. And you're not one.\""]," CR>)>>"],[],[["Str","\"DESCRIBE-OBJECT -- takes object and flag.  if flag is true will print a"]],[["Str","long description (fdesc or ldesc), otherwise will print short.\""]],[],["<GLOBAL DESC-OBJECT <>>"],[],["<ROUTINE DESCRIBE-OBJECT (OBJ V? LEVEL ",["Str","\"AUX\""]," (STR <>) AV)"],["\t <SETG DESC-OBJECT .OBJ>"],["\t <COND (<AND <0? .LEVEL>"],["\t\t     <APPLY <GETP .OBJ ,P?DESCFCN> ,M-OBJDESC>>"],["\t\t<RTRUE>)"],["\t       (<AND <0? .LEVEL>"],["\t\t     <OR <AND <NOT <FSET? .OBJ ,TOUCHBIT>>"],["\t\t\t      <SET STR <GETP .OBJ ,P?FDESC>>>"],["\t\t\t <SET STR <GETP .OBJ ,P?LDESC>>>>"],["\t\t<TELL .STR>)"],["\t       (<0? .LEVEL>"],["\t\t<TELL ",["Str","\"There is a \""]," D .OBJ ",["Str","\" here\""],">"],["\t\t<COND (<FSET? .OBJ ,ONBIT>"],["\t\t       <TELL ",["Str","\" (providing light)\""],">)>"],["\t\t<TELL ",["Str","\".\""],">)"],["\t       (T"],["\t\t<TELL <GET ,INDENTS .LEVEL>>"],["\t\t<TELL ",["Str","\"A \""]," D .OBJ>"],["\t\t<COND (<FSET? .OBJ ,ONBIT>"],["\t\t       <TELL ",["Str","\" (providing light)\""],">)"],["\t\t      (<FSET? .OBJ ,WEARBIT>"],["\t\t       <TELL ",["Str","\" (being worn)\""],">)>)>"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t '<COND (<AND <EQUAL? .OBJ ,SPELL-VICTIM>"],["\t\t              <EQUAL? ,SPELL-USED ,W?FLOAT>>"],["\t\t         <TELL ",["Str","\" (floating in midair)\""],">)>)"],["\t\t(T"],["\t\t '<NULL-F>)>"],["\t <COND (<AND <0? .LEVEL>"],["\t\t     <SET AV <LOC ,WINNER>>"],["\t\t     <FSET? .AV ,VEHBIT>>"],["\t\t<TELL ",["Str","\" (outside the \""]," D .AV ",["Str","\")\""],">)>"],["\t <CRLF>"],["\t <COND (<AND <SEE-INSIDE? .OBJ> <FIRST? .OBJ>>"],["\t\t<PRINT-CONT .OBJ .V? .LEVEL>)>>"],[],["<ROUTINE PRINT-CONTENTS (OBJ ",["Str","\"AUX\""]," F N (1ST? T) (IT? <>) (TWO? <>))"],["\t <COND (<SET F <FIRST? .OBJ>>"],["\t\t<REPEAT ()"],["\t\t\t<SET N <NEXT? .F>>"],["\t\t\t<COND (.1ST? <SET 1ST? <>>)"],["\t\t\t      (ELSE"],["\t\t\t       <TELL ",["Str","\", \""],">"],["\t\t\t       <COND (<NOT .N> <TELL ",["Str","\"and \""],">)>)>"],["\t\t\t<TELL ",["Str","\"a \""]," D .F>"],["\t\t\t<COND (<AND <NOT .IT?> <NOT .TWO?>>"],["\t\t\t       <SET IT? .F>)"],["\t\t\t      (ELSE"],["\t\t\t       <SET TWO? T>"],["\t\t\t       <SET IT? <>>)>"],["\t\t\t<SET F .N>"],["\t\t\t<COND (<NOT .F>"],["\t\t\t       <COND (<AND .IT? <NOT .TWO?>>"],["\t\t\t\t      <THIS-IS-IT .IT?>)>"],["\t\t\t       <RTRUE>)>>)>>"],[],["<ROUTINE PRINT-CONT (OBJ ",["Str","\"OPTIONAL\""]," (V? <>) (LEVEL 0)"],["\t\t     ",["Str","\"AUX\""]," Y 1ST? SHIT AV STR (PV? <>) (INV? <>))"],["\t <COND (<NOT <SET Y <FIRST? .OBJ>>> <RTRUE>)>"],["\t <COND (<AND <SET AV <LOC ,WINNER>> <FSET? .AV ,VEHBIT>>"],["\t\tT)"],["\t       (ELSE <SET AV <>>)>"],["\t <SET 1ST? T>"],["\t <SET SHIT T>"],["\t <COND (<EQUAL? ,WINNER .OBJ <LOC .OBJ>>"],["\t\t<SET INV? T>)"],["\t       (ELSE"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT .Y>"],["\t\t\t       <RETURN>)"],["\t\t\t      (<EQUAL? .Y .AV> <SET PV? T>)"],["\t\t\t      (<EQUAL? .Y ,WINNER>)"],["\t\t\t      (<AND <NOT <FSET? .Y ,INVISIBLE>>"],["\t\t\t\t    <NOT <FSET? .Y ,TOUCHBIT>>"],["\t\t\t\t    <SET STR <GETP .Y ,P?FDESC>>>"],["\t\t\t       <COND (<NOT <FSET? .Y ,NDESCBIT>>"],["\t\t\t\t      <TELL .STR CR>"],["\t\t\t\t      <SET SHIT <>>"],["\t\t\t\t      ",["Comment",";<SET 1ST? <>>"],")>"],["\t\t\t       <COND (<AND <SEE-INSIDE? .Y>"],["\t\t\t\t\t   <NOT <GETP <LOC .Y> ,P?DESCFCN>>"],["\t\t\t\t\t   <FIRST? .Y>>"],["\t\t\t\t      <COND (<PRINT-CONT .Y .V? 0>"],["\t\t\t\t\t     <SET 1ST? <>>)>)>)>"],["\t\t\t<SET Y <NEXT? .Y>>>)>"],["\t <SET Y <FIRST? .OBJ>>"],["\t <REPEAT ()"],["\t\t <COND (<NOT .Y>"],["\t\t\t<COND (<AND .PV? .AV <FIRST? .AV>>"],["\t\t\t       <SET LEVEL <+ .LEVEL 1>> ",["Comment",";\"not in Zork III\""]],["\t\t\t       <PRINT-CONT .AV .V? .LEVEL>)>"],["\t\t\t<RETURN>)"],["\t\t       (<EQUAL? .Y .AV ,ADVENTURER>)"],["\t\t       (<AND <NOT <FSET? .Y ,INVISIBLE>>"],["\t\t\t     <OR .INV?"],["\t\t\t\t <FSET? .Y ,TOUCHBIT>"],["\t\t\t\t <NOT <GETP .Y ,P?FDESC>>>>"],["\t\t\t<COND (<NOT <FSET? .Y ,NDESCBIT>>"],["\t\t\t       <COND (.1ST?"],["\t\t\t\t      <COND (<FIRSTER .OBJ .LEVEL>"],["\t\t\t\t\t     <COND (<L? .LEVEL 0>"],["\t\t\t\t\t\t    <SET LEVEL 0>)>)>"],["\t\t\t\t      <SET LEVEL <+ 1 .LEVEL>>"],["\t\t\t\t      <SET 1ST? <>>)>"],["\t\t\t       <COND (<L? .LEVEL 0> <SET LEVEL 0>)>"],["\t\t\t       <DESCRIBE-OBJECT .Y .V? .LEVEL>)"],["\t\t\t      (<AND <FIRST? .Y> <SEE-INSIDE? .Y>>"],["\t\t\t       <SET LEVEL <+ .LEVEL 1>> ",["Comment",";\"not in Zork III\""]],["\t\t\t       <PRINT-CONT .Y .V? .LEVEL>)>)>"],["\t\t <SET Y <NEXT? .Y>>>"],["\t <COND (<AND .1ST? .SHIT> <RFALSE>) (T <RTRUE>)>>"],[],["<ROUTINE FIRSTER (OBJ LEVEL)"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(<EQUAL? .OBJ ,TROPHY-CASE>"],["\t\t         <TELL"],[["Str","\"Your collection of treasures consists of:\""]," CR>))"],["\t\t      (T"],["\t\t       '(<NULL-F> <RTRUE>))>"],["\t       (<EQUAL? .OBJ ,WINNER>"],["\t\t<TELL ",["Str","\"You are carrying:\""]," CR>)"],["\t       (<NOT <IN? .OBJ ,ROOMS>>"],["\t\t<COND (<G? .LEVEL 0>"],["\t\t       <TELL <GET ,INDENTS .LEVEL>>)>"],["\t\t<COND (<FSET? .OBJ ,SURFACEBIT>"],["\t\t       <TELL ",["Str","\"Sitting on the \""]," D .OBJ ",["Str","\" is: \""]," CR>)"],["\t\t      (<FSET? .OBJ ,ACTORBIT>"],["\t\t       <TELL ",["Str","\"The \""]," D .OBJ ",["Str","\" is holding: \""]," CR>)"],["\t\t      (T"],["\t\t       <TELL ",["Str","\"The \""]," D .OBJ ",["Str","\" contains:\""]," CR>)>)>>"],[],["<ROUTINE SEE-INSIDE? (OBJ)"],["\t <AND <NOT <FSET? .OBJ ,INVISIBLE>>"],["\t      <OR <FSET? .OBJ ,TRANSBIT> <FSET? .OBJ ,OPENBIT>>>>"],[],[["Str","\"Scoring\""]],[],["<GLOBAL MOVES 0>"],[],["<GLOBAL SCORE 0>"],[],["<GLOBAL BASE-SCORE 0>"],[],["<GLOBAL WON-FLAG <>>"],[],["<ROUTINE SCORE-UPD (NUM)"],["\t <SETG BASE-SCORE <+ ,BASE-SCORE .NUM>>"],["\t <SETG SCORE <+ ,SCORE .NUM>>"],["\t %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t '<COND (<AND <EQUAL? ,SCORE 350>"],["\t\t              <NOT ,WON-FLAG>>"],["\t\t         <SETG WON-FLAG T>"],["\t\t         <FCLEAR ,MAP ,INVISIBLE>"],["\t\t         <FCLEAR ,WEST-OF-HOUSE ,TOUCHBIT>"],["\t\t         <TELL"],[["Str","\"An almost inaudible voice whispers in your ear, \\\"Look to your treasures"]],[["Str","for the final secret.\\\"\""]," CR>)>)"],["\t\t(T"],["\t\t '<NULL-F>)>"],["\t T>"],[],["<ROUTINE SCORE-OBJ (OBJ ",["Str","\"AUX\""]," TEMP)"],["\t <COND (<G? <SET TEMP <GETP .OBJ ,P?VALUE>> 0>"],["\t\t<SCORE-UPD .TEMP>"],["\t\t<PUTP .OBJ ,P?VALUE 0>)>>"],[],["<ROUTINE FINISH ()"],["\t <V-SCORE>"],["\t <QUIT>>"],[],["<ROUTINE YES? ()"],["\t <PRINTI ",["Str","\">\""],">"],["\t <READ ,P-INBUF ,P-LEXV>"],["\t <COND (<EQUAL? <GET ,P-LEXV 1> ,W?YES ,W?Y>"],["\t\t<RTRUE>)"],["\t       (T"],["\t\t<RFALSE>)>>"],[],[["Str","\"Death\""]],[],["<GLOBAL DEAD <>>"],[],["<GLOBAL DEATHS 0>"],[],["<GLOBAL LUCKY 1>"],[],[["Comment",";\"JIGS-UP is in ACTIONS.ZIL\""]],[],[["Comment",";\"RANDOMIZE-OBJECTS is in ACTIONS.ZIL\""]],[],[["Comment",";\"KILL-INTERRUPTS is in ACTIONS.ZIL\""]],[],[["Str","\"Object Manipulation\""]],[],["<GLOBAL FUMBLE-NUMBER 7>"],[],["<GLOBAL FUMBLE-PROB 8>"],[],["<ROUTINE ITAKE (",["Str","\"OPTIONAL\""]," (VB T) ",["Str","\"AUX\""]," CNT OBJ)"],["\t #DECL ((VB) <OR ATOM FALSE> (CNT) FIX (OBJ) OBJECT)"],["\t <COND %<COND (<==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t       '(,DEAD"],["\t\t         <COND (.VB"],["\t\t\t\t<TELL"],[["Str","\"Your hand passes through its object.\""]," CR>)>"],["\t\t         <RFALSE>))"],["\t\t      (T"],["\t\t       '(<NULL-F>"],["\t\t\t <RFALSE>))>"],["\t       (<NOT <FSET? ,PRSO ,TAKEBIT>>"],["\t\t<COND (.VB"],["\t\t       <TELL <PICK-ONE ,YUKS> CR>)>"],["\t\t<RFALSE>)"],["\t       %<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t       '(<AND <EQUAL? ,PRSO ,SPELL-VICTIM>"],["\t\t              <EQUAL? ,SPELL-USED ,W?FLOAT ,W?FREEZE>>"],["\t\t         <COND (<EQUAL? ,SPELL-USED ,W?FLOAT>"],["\t\t                <TELL"],[["Str","\"You can't reach that. It's floating above your head.\""]," CR>)"],["\t\t               (T"],["\t\t                <TELL ",["Str","\"It seems rooted to the spot.\""]," CR>)>"],["\t\t         <RFALSE>))"],["\t\t      (T"],["\t\t       '(<NULL-F>"],["\t\t\t <RFALSE>))>"],["\t       (<AND <FSET? <LOC ,PRSO> ,CONTBIT>"],["\t\t     <NOT <FSET? <LOC ,PRSO> ,OPENBIT>>>"],["\t\t",["Comment",";\"Kludge for parser calling itake\""]],["\t\t<RFALSE>)"],["\t       (<AND <NOT <IN? <LOC ,PRSO> ,WINNER>>"],["\t\t     <G? <+ <WEIGHT ,PRSO> <WEIGHT ,WINNER>> ,LOAD-ALLOWED>>"],["\t\t<COND (.VB"],["\t\t       <TELL ",["Str","\"Your load is too heavy\""],">"],["\t\t       <COND (<L? ,LOAD-ALLOWED ,LOAD-MAX>"],["\t\t\t      <TELL",["Str","\", especially in light of your condition.\""],">)"],["\t\t\t     (T"],["\t\t\t      <TELL ",["Str","\".\""],">)>"],["\t\t       <CRLF>)>"],["\t\t<RFATAL>)"],["\t       (<AND <VERB? TAKE>"],["\t\t     <G? <SET CNT <CCOUNT ,WINNER>> ,FUMBLE-NUMBER>"],["\t\t     <PROB <* .CNT ,FUMBLE-PROB>>>"],["\t\t<TELL"],[["Str","\"You're holding too many things already!\""]," CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<MOVE ,PRSO ,WINNER>"],["\t\t<FSET ,PRSO ,TOUCHBIT>"],["\t\t%<COND (<==? ,",["Id","ZORK-NUMBER"]," 2>"],["\t\t\t'<COND (<EQUAL? ,SPELL? ,S-FILCH>"],["\t\t                <COND (<RIPOFF ,PRSO ,WIZARD-CASE>"],["\t\t\t               <TELL"],[["Str","\"When you touch the \""]," D ,PRSO ",["Str","\" it immediately disappears!\""]," CR>"],["\t\t\t               <RFALSE>)>)>)"],["\t\t       (T"],["\t\t\t'<NULL-F>)>"],["\t\t%<COND (<OR <==? ,",["Id","ZORK-NUMBER"]," 1>"],["\t\t\t    <==? ,",["Id","ZORK-NUMBER"]," 2>>"],["\t\t\t'<SCORE-OBJ ,PRSO>)"],["\t\t       (T"],["\t\t\t'<NULL-F>)>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE IDROP ()"],["\t <COND (<AND <NOT <IN? ,PRSO ,WINNER>>"],["\t\t     <NOT <IN? <LOC ,PRSO> ,WINNER>>>"],["\t\t<TELL ",["Str","\"You're not carrying the \""]," D ,PRSO ",["Str","\".\""]," CR>"],["\t\t<RFALSE>)"],["\t       (<AND <NOT <IN? ,PRSO ,WINNER>>"],["\t\t     <NOT <FSET? <LOC ,PRSO> ,OPENBIT>>>"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" is closed.\""]," CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<MOVE ,PRSO <LOC ,WINNER>>"],["\t\t<RTRUE>)>>"],[],["<ROUTINE CCOUNT (OBJ ",["Str","\"AUX\""]," (CNT 0) X)"],["\t <COND (<SET X <FIRST? .OBJ>>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<NOT <FSET? .X ,WEARBIT>>"],["\t\t\t       <SET CNT <+ .CNT 1>>)>"],["\t\t\t<COND (<NOT <SET X <NEXT? .X>>>"],["\t\t\t       <RETURN>)>>)>"],["\t .CNT>"],[],["<ROUTINE WEIGHT (OBJ ",["Str","\"AUX\""]," CONT (WT 0))"],["\t <COND (<SET CONT <FIRST? .OBJ>>"],["\t\t<REPEAT ()"],["\t\t\t<COND (<AND <EQUAL? .OBJ ,PLAYER>"],["\t\t\t\t    <FSET? .CONT ,WEARBIT>>"],["\t\t\t       <SET WT <+ .WT 1>>)"],["\t\t\t      (T"],["\t\t\t       <SET WT <+ .WT <WEIGHT .CONT>>>)>"],["\t\t\t<COND (<NOT <SET CONT <NEXT? .CONT>>> <RETURN>)>>)>"],["\t <+ .WT <GETP .OBJ ,P?SIZE>>>"],[],[["Str","\"Miscellaneous\""]],[],["<CONSTANT REXIT 0>"],["<CONSTANT UEXIT 1>"],["<CONSTANT NEXIT 2>"],["<CONSTANT FEXIT 3>"],["<CONSTANT CEXIT 4>"],["<CONSTANT DEXIT 5>"],[],["<CONSTANT NEXITSTR 0>"],["<CONSTANT FEXITFCN 0>"],["<CONSTANT CEXITFLAG 1>"],["<CONSTANT CEXITSTR 1>"],["<CONSTANT DEXITOBJ 1>"],["<CONSTANT DEXITSTR 1>"],[],["<GLOBAL INDENTS"],["\t<TABLE ",["Str","\"\""]],["\t       ",["Str","\"  \""]],["\t       ",["Str","\"    \""]],["\t       ",["Str","\"      \""]],["\t       ",["Str","\"        \""]],["\t       ",["Str","\"          \""],">>"],[],["<ROUTINE HACK-HACK (STR)"],["\t <COND (<AND <IN? ,PRSO ,GLOBAL-OBJECTS>"],["\t\t     <VERB? WAVE RAISE LOWER>>"],["\t\t<TELL ",["Str","\"The \""]," D ,PRSO ",["Str","\" isn't here!\""]," CR>)"],["\t       (T"],["\t\t<TELL .STR D ,PRSO <PICK-ONE ,HO-HUM> CR>)>>"],[],["<GLOBAL HO-HUM"],["\t<LTABLE"],["\t 0"],["\t ",["Str","\" doesn't seem to work.\""]],["\t ",["Str","\" isn't notably helpful.\""]],["\t ",["Str","\" has no effect.\""],">>"],[],["<ROUTINE NO-GO-TELL (AV WLOC)"],["\t <COND (.AV"],["\t\t<TELL ",["Str","\"You can't go there in a \""]," D .WLOC ",["Str","\".\""],">)"],["\t       (T"],["\t\t<TELL ",["Str","\"You can't go there without a vehicle.\""],">)>"],["\t <CRLF>>"],[],["<ROUTINE GOTO (RM ",["Str","\"OPTIONAL\""]," (V? T)"],["\t       ",["Str","\"AUX\""]," (LB <FSET? .RM ,RLANDBIT>) (WLOC <LOC ,WINNER>)"],["\t             (AV <>) OLIT)"],["\t <SET OLIT ,LIT>"],["\t <COND (<FSET? .WLOC ,VEHBIT>"],["\t\t<SET AV <GETP .WLOC ,P?VTYPE>>)>"],["\t <COND (<AND <NOT .LB>"],["\t\t     <NOT .AV>>"],["\t\t<NO-GO-TELL .AV .WLOC>"],["\t\t<RFALSE>)"],["\t       (<AND <NOT .LB>"],["\t\t     <NOT <FSET? .RM .AV>>>"],["\t\t<NO-GO-TELL .AV .WLOC>"],["\t\t<RFALSE>)"],["\t       (<AND <FSET? ,HERE ,RLANDBIT>"],["\t\t     .LB"],["\t\t     .AV"],["\t\t     <NOT <EQUAL? .AV ,RLANDBIT>>"],["\t\t     <NOT <FSET? .RM .AV>>>"],["\t\t<NO-GO-TELL .AV .WLOC>"],["\t\t<RFALSE>)"],["\t       (<FSET? .RM ,RMUNGBIT>"],["\t\t<TELL <GETP .RM ,P?LDESC> CR>"],["\t\t<RFALSE>)"],["\t       (T"],["\t\t<COND (<AND .LB"],["\t\t\t    <NOT <FSET? ,HERE ,RLANDBIT>>"],["\t\t\t    <NOT ,DEAD>"],["\t\t\t    <FSET? .WLOC ,VEHBIT>>"],["\t\t       <TELL"],[["Str","\"The \""]," D .WLOC ",["Str","\" comes to a rest on the shore.\""]," CR CR>)>"],["\t\t<COND (.AV"],["\t\t       <MOVE .WLOC .RM>)"],["\t\t      (T"],["\t\t       <MOVE ,WINNER .RM>)>"],["\t\t<SETG HERE .RM>"],["\t\t<SETG LIT <LIT? ,HERE>>"],["\t\t<COND (<AND <NOT .OLIT>"],["\t\t\t    <NOT ,LIT>"],["\t\t\t    <PROB 80>>"],["\t\t       <COND (,SPRAYED?"],["\t\t\t      <TELL"],[["Str","\"There are sinister gurgling noises in the darkness all around you!\""]," CR>)"],["\t\t\t     %<COND (<==? ,",["Id","ZORK-NUMBER"]," 3>"],["\t\t\t\t     '(<EQUAL? ,HERE ,DARK-1 ,DARK-2>"],["\t\t                       <JIGS-UP"],[["Str","\"Oh, no! Dozen of lurking grues attack and devour you! You must have"]],[["Str","stumbled into an authentic grue lair!\""],">))"],["\t\t\t\t    (T"],["\t\t\t\t     '(<NULL-F>"],["\t\t\t\t       <RFALSE>))>"],["\t\t\t     (T"],["\t\t\t      <TELL"],[["Str","\"Oh, no! A lurking grue slithered into the \""],">"],["\t\t\t      <COND (<FSET? <LOC ,WINNER> ,VEHBIT>"],["\t\t\t\t     <TELL D <LOC ,WINNER>>)"],["\t\t\t\t    (T <TELL ",["Str","\"room\""],">)>"],["\t\t\t      <JIGS-UP ",["Str","\" and devoured you!\""],">"],["\t\t\t      <RTRUE>)>)>"],["\t\t<COND (<AND <NOT ,LIT>"],["\t\t\t    <EQUAL? ,WINNER ,ADVENTURER>>"],["\t\t       <TELL ",["Str","\"You have moved into a dark place.\""]," CR>"],["\t\t       <SETG P-CONT <>>)>"],["\t\t<APPLY <GETP ,HERE ,P?ACTION> ,M-ENTER>"],["\t\t<SCORE-OBJ .RM>"],["\t\t<COND (<NOT <EQUAL? ,HERE .RM>> <RTRUE>)"],["\t\t      (<NOT <EQUAL? ,ADVENTURER ,WINNER>>"],["\t\t       <TELL ",["Str","\"The \""]," D ,WINNER ",["Str","\" leaves the room.\""]," CR>)"],["\t\t      (.V? <V-FIRST-LOOK>)>"],["\t\t<RTRUE>)>>"],[],[["Comment",";\"0 -> no next, 1 -> success, 2 -> failed move\""]],[],["<ROUTINE GO-NEXT (TBL ",["Str","\"AUX\""]," VAL)"],["\t <COND (<SET VAL <LKP ,HERE .TBL>>"],["\t\t<COND (<NOT <GOTO .VAL>> 2)"],["\t\t      (T 1)>)>>"],[],["<ROUTINE LKP (ITM TBL ",["Str","\"AUX\""]," (CNT 0) (LEN <GET .TBL 0>))"],["\t <REPEAT ()"],["\t\t <COND (<G? <SET CNT <+ .CNT 1>> .LEN>"],["\t\t\t<RFALSE>)"],["\t\t       (<EQUAL? <GET .TBL .CNT> .ITM>"],["\t\t\t<COND (<EQUAL? .CNT .LEN> <RFALSE>)"],["\t\t\t      (T"],["\t\t\t       <RETURN <GET .TBL <+ .CNT 1>>>)>)>>>"],[],["<ROUTINE DO-WALK (DIR)"],["\t <SETG P-WALK-DIR .DIR>"],["\t <PERFORM ,V?WALK .DIR>>"],[],["<ROUTINE WORD-TYPE (OBJ WORD ",["Str","\"AUX\""]," SYNS)"],["\t <ZMEMQ .WORD"],["\t\t<SET SYNS <GETPT .OBJ ,P?SYNONYM>>"],["\t\t<- </ <PTSIZE .SYNS> 2> 1>>>"],[],["<ROUTINE GLOBAL-IN? (OBJ1 OBJ2 ",["Str","\"AUX\""]," TX)"],["\t <COND (<SET TX <GETPT .OBJ2 ,P?GLOBAL>>"],["\t\t<ZMEMQB .OBJ1 .TX <- <PTSIZE .TX> 1>>)>>"],[],["<ROUTINE FIND-IN (WHERE WHAT ",["Str","\"AUX\""]," W)"],["\t <SET W <FIRST? .WHERE>>"],["\t <COND (<NOT .W>"],["\t\t<RFALSE>)>"],["\t <REPEAT ()"],["\t\t <COND (<AND <FSET? .W .WHAT>"],["\t\t\t     <NOT <EQUAL? .W ,ADVENTURER>>>"],["\t\t\t<RETURN .W>)"],["\t\t       (<NOT <SET W <NEXT? .W>>>"],["\t\t\t<RETURN <>>)>>>"],[],[],["<ROUTINE IN-HERE? (OBJ)"],["\t <OR <IN? .OBJ ,HERE>"],["\t     <GLOBAL-IN? .OBJ ,HERE>>>"],[],["<ROUTINE HELD? (CAN)"],["\t <REPEAT ()"],["\t\t <SET CAN <LOC .CAN>>"],["\t\t <COND (<NOT .CAN> <RFALSE>)"],["\t\t       (<EQUAL? .CAN ,WINNER> <RTRUE>)>>>"],[],["<ROUTINE OTHER-SIDE (DOBJ ",["Str","\"AUX\""]," (P 0) TX) ",["Comment",";\"finds room beyond given door\""]],["\t <REPEAT ()"],["\t\t <COND (<L? <SET P <NEXTP ,HERE .P>> ,LOW-DIRECTION>"],["\t\t\t<RETURN <>>)"],["\t\t       (ELSE"],["\t\t\t<SET TX <GETPT ,HERE .P>>"],["\t\t\t<COND (<AND <EQUAL? <PTSIZE .TX> ,DEXIT>"],["\t\t\t\t    <EQUAL? <GETB .TX ,DEXITOBJ> .DOBJ>>"],["\t\t\t       <RETURN .P>)>)>>>"],[],["<ROUTINE MUNG-ROOM (RM STR)"],["\t <FSET .RM ,RMUNGBIT>"],["\t <PUTP .RM ,P?LDESC .STR>>"],[],["<ROUTINE THIS-IS-IT (OBJ)"],["\t <SETG P-IT-OBJECT .OBJ>"],["\t <SETG P-IT-LOC ,HERE>>"],[],["<GLOBAL SWIMYUKS"],["\t<LTABLE 0 ",["Str","\"You can't swim in the dungeon.\""],">>"],[],["<GLOBAL HELLOS"],["\t<LTABLE 0 ",["Str","\"Hello.\""]],["\t       ",["Str","\"Good day.\""]],["\t       ",["Str","\"Nice weather we've been having lately.\""]],["\t       ",["Str","\"Goodbye.\""],">>"],[],["<GLOBAL YUKS"],["\t<LTABLE"],["\t 0"],["\t ",["Str","\"A valiant attempt.\""]],["\t ",["Str","\"You can't be serious.\""]],["\t ",["Comment",";\"Not bloody likely.\""]],["\t ",["Str","\"An interesting idea...\""]],["\t ",["Str","\"What a concept!\""],">>"],[],["<GLOBAL DUMMY"],["\t<LTABLE 0"],["\t\t",["Str","\"Look around.\""]],["\t        ",["Str","\"Too late for that.\""]],["\t        ",["Str","\"Have your eyes checked.\""],">>"]]}
